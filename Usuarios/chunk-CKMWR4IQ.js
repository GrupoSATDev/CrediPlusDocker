import{a as K}from"./chunk-FCRAQGET.js";import{a as J}from"./chunk-AWPVNJB6.js";import{a as I}from"./chunk-6IEWE3OU.js";import"./chunk-GTJMBBHF.js";import{a as z}from"./chunk-MO2NC6JB.js";import{a as q}from"./chunk-X2JS2VQW.js";import"./chunk-DXTAURWF.js";import"./chunk-OIDWJWJT.js";import{c as B}from"./chunk-2APB6LD7.js";import{h as A}from"./chunk-SVJNALL6.js";import{C as H,s as L,z as U}from"./chunk-HT3W5V35.js";import{fa as G,ja as N}from"./chunk-A6IWXEM5.js";import"./chunk-Z6Z5R4KW.js";import"./chunk-LZ5XM2X6.js";import{a as V}from"./chunk-KDIFW2XS.js";import{b as k,d as y,e as R}from"./chunk-GCGVB3PG.js";import{f as _,g as O,j as f,l as b,r as $}from"./chunk-CLM5DCBX.js";import{$a as D,Db as i,Eb as o,Fb as E,Rb as w,Zb as r,_a as d,_b as l,aa as F,ec as T,fa as C,fc as x,ga as s,gc as j,la as v,nc as g,oc as P,pc as M,q as u,qb as h,sb as c}from"./chunk-RICNMTJI.js";import"./chunk-NEB6MB4Y.js";var S=(()=>{let a=class a{constructor(t,e){this._http=t,this.appSettings=e}getCobros(){return this._http.get(this.appSettings.cobroTrabajadores.url.base)}getCobroEmpleado(t){return this._http.get(`${this.appSettings.cobroTrabajadores.url.base}/${t}`)}getCobrosGrid(t){return this._http.get(`${this.appSettings.cobroTrabajadores.url.baseTabla}/${t}`)}getCobroTrabajador(){return this._http.get(this.appSettings.cobroTrabajadores.url.baseCard)}};a.\u0275fac=function(e){return new(e||a)(C($),C(V))},a.\u0275prov=F({token:a,factory:a.\u0275fac,providedIn:"root"});let n=a;return n})();var W=(()=>{let a=class a{constructor(t){this._matDialog=t,this.datePipe=s(f),this.router=s(y),this.estadoDatosService=s(z),this.currencyPipe=s(b),this.cobroTrabadorService=s(S),this.estadoCreditosService=s(K),this.fb=s(U),this.estados=new L([""]),this.buttons=[{label:"View",icon:"visibility",action:e=>{console.log("Editing",e),this.selectedData=e,this.router.navigate(["pages/gestion-cobros/cobros/cobro",this.selectedData.idTrabajador])}}]}cobros(){this.subcription$=this.cobroTrabadorService.getCobroTrabajador().pipe(u(t=>(t.data.fechaCobro=this.datePipe.transform(t.data.fechaCobro,"dd/MM/yyyy"),t.data.deudaTotal=this.currencyPipe.transform(t.data.deudaTotal,"USD","symbol","1.2-2"),t.data.montoProximoPago=this.currencyPipe.transform(t.data.montoProximoPago,"USD","symbol","1.2-2"),t))).subscribe(t=>{t?(console.log(t),this.data=t.data):this.data={}},t=>{this.data={}})}getCobros(){this.subcription$=this.cobroTrabadorService.getCobros().pipe(u(t=>(t.data.forEach(e=>{e.estado?e.estado=I.ACTIVO:e.estado=I.INACTIVO}),t)),u(t=>(t.data.forEach(e=>{e.fechaCobro=this.datePipe.transform(e.fechaCobro,"dd/MM/yyyy"),e.valorPendiente=this.currencyPipe.transform(e.valorPendiente,"USD","symbol","1.2-2"),e.valorPago=e.valorPago?this.currencyPipe.transform(e.valorPago,"USD","symbol","1.2-2"):"-"}),t))).subscribe(t=>{t?this.data=t.data:this.data=[]},t=>{this.data=[]})}listenGrid(){this.estadoDatosService.stateGrid.asObservable().subscribe(e=>{})}ngOnDestroy(){this.subcription$.unsubscribe()}ngOnInit(){this.listenGrid(),this.cobros()}};a.\u0275fac=function(e){return new(e||a)(D(B))},a.\u0275cmp=v({type:a,selectors:[["app-grid-cobros-empleados"]],standalone:!0,features:[T([f,b]),x],decls:38,vars:4,consts:[[1,"bg-card","flex","min-w-0","flex-auto","flex-col","dark:bg-transparent","sm:absolute","sm:inset-0","sm:overflow-hidden"],[1,"relative","flex","flex-0","flex-col","border-b","px-6","py-8","sm:flex-row","sm:items-center","sm:justify-between","md:px-8"],[1,"text-3xl","font-semibold","tracking-tight"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-auto","flex-row","items-baseline","flex-wrap","gap-2.5","justify-center","overflow-hidden","sm:overflow-y-auto","bg-gray-100","sm:p-2"],[1,"filter-list","flex","w-full","max-w-lg","flex-col","p-6","sm:p-8","mt-4","shadow-lg","rounded-lg","bg-white"],[1,"space-y-6"],[1,"flex","justify-between","items-center"],[1,"font-semibold","text-gray-700"],[1,"text-md","text-secondary"]],template:function(e,p){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),r(3,"Pagos pendientes"),o()(),i(4,"div",3)(5,"div",4)(6,"fuse-card",5)(7,"div",6)(8,"div",7)(9,"span",8),r(10,"Fecha pr\xF3ximo pago:"),o(),i(11,"span",9),r(12),o()(),i(13,"div",7)(14,"span",8),r(15,"Pr\xF3ximo pago:"),o(),i(16,"span",9),r(17),o()(),i(18,"div",7)(19,"span",8),r(20,"Deuda total:"),o(),i(21,"span",9),r(22),o()(),i(23,"div",7)(24,"span",8),r(25,"Estado:"),o(),i(26,"span",9),r(27),o()(),i(28,"div",7)(29,"span",8),r(30,"Estudio cr\xE9dito:"),o(),i(31,"span",9),r(32,"Por definir"),o()(),i(33,"div",7)(34,"span",8),r(35,"Estudio pl\xE1stico:"),o(),i(36,"span",9),r(37,"Por definir"),o()()()()()()()),e&2&&(d(12),l(p.data.fechaCobro),d(5),l(p.data.montoProximoPago),d(5),l(p.data.deudaTotal),d(5),l(p.data.nombreEstadoCredito))},dependencies:[H,J]});let n=a;return n})();var Y=()=>["/pages/gestion-cobros/cobros"];function Z(n,a){if(n&1&&(i(0,"div",13),E(1,"mat-divider"),i(2,"div",14)(3,"div")(4,"h3",15),r(5,"Fecha de compra"),o()(),i(6,"p",16),r(7),g(8,"date"),o()(),i(9,"div",14)(10,"div")(11,"h3",15),r(12,"Valor pendiente"),o()(),i(13,"p",16),r(14),g(15,"currency"),o()(),i(16,"div",17)(17,"p",15),r(18,"Valor cuota"),o(),i(19,"p",16),r(20),g(21,"currency"),o()(),i(22,"div",18)(23,"p",15),r(24,"Cantidad cuotas"),o(),i(25,"p",16),r(26),o()(),i(27,"div",19)(28,"p",15),r(29,"Estado "),o(),i(30,"p",16),r(31),o()()()),n&2){let m=a.$implicit;d(7),l(M(8,5,m.fechaCobro,"dd/MM/yyyy")),d(7),l(P(15,8,m.valorPendiente)),d(6),l(P(21,10,m.montoCuota)),d(6),l(m.numCuota),d(5),l(m.nombreEstadoCredito)}}function tt(n,a){if(n&1&&(i(0,"div",10)(1,"div",11),h(2,Z,32,12,"div",12),o()()),n&2){let m=w(2);d(2),c("ngForOf",m.detalle)}}function et(n,a){if(n&1&&(i(0,"div",8),h(1,tt,3,1,"div",9),o()),n&2){let m=w();d(),c("ngIf",m.detalle)}}var X=(()=>{let a=class a{constructor(){this.router=s(y),this.activatedRoute=s(k),this.cobroTrabadorService=s(S),this.idCredito=""}ngOnDestroy(){}ngOnInit(){this.idCredito=this.activatedRoute.snapshot.paramMap.get("id"),this.getDetalle(this.idCredito)}getDetalle(t){this.subcription$=this.cobroTrabadorService.getCobroEmpleado(t).subscribe(e=>{console.log(e),this.detalle=e.data})}};a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=v({type:a,selectors:[["app-form-cobros-empleados"]],standalone:!0,features:[x],decls:10,vars:4,consts:[["cdkScrollable","",1,"absolute","inset-0","min-w-0","overflow-auto","print:overflow-visible"],[1,"inline-block","p-6","sm:p-10","print:p-0","w-full"],[1,"bg-card","shadow","print:bg-transparent","print:p-0","print:shadow-none","rounded-2xl","max-w-xl","mx-auto","overflow-hidden"],[1,"bg-crediblue-50","px-6","py-4","flex","items-center","justify-between"],["mat-button","",1,"flex","items-center",3,"routerLink"],[1,"text-white",3,"svgIcon"],[1,"text-xl","font-bold","text-white"],["class","p-6",4,"ngIf"],[1,"p-6"],["class","w-full h-full px-4",4,"ngIf"],[1,"w-full","h-full","px-4"],[1,"max-w-2xl","mx-auto","p-4","bg-white","shadow-lg","rounded-lg"],["class","space-y-4 mb-12",4,"ngFor","ngForOf"],[1,"space-y-4","mb-12"],[1,"flex","justify-between","items-center","border-b","pb-2"],[1,"text-lg","font-semibold","text-gray-700"],[1,"text-lg","font-bold","text-gray-800"],[1,"flex","justify-between","items-center"],[1,"flex","justify-between","items-center","pt-4","border-t"],[1,"flex","justify-between","items-center","border-t","pt-4"]],template:function(e,p){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),E(6,"mat-icon",5),o()(),i(7,"h2",6),r(8,"Cobro trabajadores"),o()(),h(9,et,2,1,"div",7),o()()()),e&2&&(d(5),c("routerLink",j(3,Y)),d(),c("svgIcon","heroicons_outline:arrow-long-left"),d(3),c("ngIf",p.detalle))},dependencies:[A,b,f,G,N,O,R,_,q]});let n=a;return n})();var Rt=[{path:"",component:W},{path:"cobro/:id",component:X}];export{Rt as default};
