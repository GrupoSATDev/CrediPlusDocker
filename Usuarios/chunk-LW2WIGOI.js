import{a as K}from"./chunk-S55O7EPU.js";import{a as J}from"./chunk-VXRXNV4H.js";import{a as P}from"./chunk-6IEWE3OU.js";import"./chunk-AVIANEB4.js";import{a as z}from"./chunk-OFEOPKCC.js";import{a as q}from"./chunk-UHDIKLYJ.js";import"./chunk-CHOSRW5W.js";import"./chunk-33XTDNRI.js";import{c as B}from"./chunk-JND367CQ.js";import{h as A}from"./chunk-7U4JZNVG.js";import{C as H,s as L,z as U}from"./chunk-JLNARVDU.js";import{fa as G,ja as N}from"./chunk-DARKUWJB.js";import"./chunk-75YALSW6.js";import"./chunk-EENLYY7H.js";import{a as V}from"./chunk-LZAPSJUO.js";import{b as k,d as y,e as R}from"./chunk-DJAHQBBJ.js";import{f as _,g as O,j as f,l as b,r as $}from"./chunk-NP3GUERB.js";import{$ as F,Cb as i,Db as o,Eb as E,Qb as w,Yb as a,Za as d,Zb as l,_a as D,dc as T,ea as S,ec as x,fa as s,fc as j,ka as h,mc as g,nc as I,oc as M,pb as v,q as u,rb as c}from"./chunk-32HXX3OB.js";import"./chunk-NEB6MB4Y.js";var C=(()=>{let r=class r{constructor(t,e){this._http=t,this.appSettings=e}getCobros(){return this._http.get(this.appSettings.cobroTrabajadores.url.base)}getCobroEmpleado(t){return this._http.get(`${this.appSettings.cobroTrabajadores.url.base}/${t}`)}getCobrosGrid(t){return this._http.get(`${this.appSettings.cobroTrabajadores.url.baseTabla}/${t}`)}getCobroTrabajador(){return this._http.get(this.appSettings.cobroTrabajadores.url.baseCard)}};r.\u0275fac=function(e){return new(e||r)(S($),S(V))},r.\u0275prov=F({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var W=(()=>{let r=class r{constructor(t){this._matDialog=t,this.datePipe=s(f),this.router=s(y),this.estadoDatosService=s(z),this.currencyPipe=s(b),this.cobroTrabadorService=s(C),this.estadoCreditosService=s(K),this.fb=s(U),this.estados=new L([""]),this.buttons=[{label:"View",icon:"visibility",action:e=>{console.log("Editing",e),this.selectedData=e,this.router.navigate(["pages/gestion-cobros/cobros/cobro",this.selectedData.idTrabajador])}}]}cobros(){this.subcription$=this.cobroTrabadorService.getCobroTrabajador().pipe(u(t=>(t.data.fechaCobro=this.datePipe.transform(t.data.fechaCobro,"dd/MM/yyyy"),t.data.deudaTotal=this.currencyPipe.transform(t.data.deudaTotal,"USD","symbol","1.2-2"),t.data.montoProximoPago=this.currencyPipe.transform(t.data.montoProximoPago,"USD","symbol","1.2-2"),t))).subscribe(t=>{t?(console.log(t),this.data=t.data):this.data={}},t=>{this.data={}})}getCobros(){this.subcription$=this.cobroTrabadorService.getCobros().pipe(u(t=>(t.data.forEach(e=>{e.estado?e.estado=P.ACTIVO:e.estado=P.INACTIVO}),t)),u(t=>(t.data.forEach(e=>{e.fechaCobro=this.datePipe.transform(e.fechaCobro,"dd/MM/yyyy"),e.valorPendiente=this.currencyPipe.transform(e.valorPendiente,"USD","symbol","1.2-2"),e.valorPago=e.valorPago?this.currencyPipe.transform(e.valorPago,"USD","symbol","1.2-2"):"-"}),t))).subscribe(t=>{t?this.data=t.data:this.data=[]},t=>{this.data=[]})}listenGrid(){this.estadoDatosService.stateGrid.asObservable().subscribe(e=>{})}ngOnDestroy(){this.subcription$.unsubscribe()}ngOnInit(){this.listenGrid(),this.cobros()}};r.\u0275fac=function(e){return new(e||r)(D(B))},r.\u0275cmp=h({type:r,selectors:[["app-grid-cobros-empleados"]],standalone:!0,features:[T([f,b]),x],decls:28,vars:4,consts:[[1,"bg-card","flex","min-w-0","flex-auto","flex-col","dark:bg-transparent","sm:absolute","sm:inset-0","sm:overflow-hidden"],[1,"relative","flex","flex-0","flex-col","border-b","px-6","py-8","sm:flex-row","sm:items-center","sm:justify-between","md:px-8"],[1,"text-3xl","font-semibold","tracking-tight"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-auto","flex-row","items-baseline","flex-wrap","gap-2.5","justify-center","overflow-hidden","sm:overflow-y-auto","bg-gray-100","sm:p-2"],[1,"filter-list","flex","w-full","max-w-lg","flex-col","p-6","sm:p-8","mt-4","shadow-lg","rounded-lg","bg-white"],[1,"space-y-6"],[1,"flex","justify-between","items-center"],[1,"font-semibold","text-gray-700"],[1,"text-md","text-secondary"]],template:function(e,p){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),a(3,"Pagos pendientes"),o()(),i(4,"div",3)(5,"div",4)(6,"fuse-card",5)(7,"div",6)(8,"div",7)(9,"span",8),a(10,"Fecha pr\xF3ximo pago:"),o(),i(11,"span",9),a(12),o()(),i(13,"div",7)(14,"span",8),a(15,"Pr\xF3ximo pago:"),o(),i(16,"span",9),a(17),o()(),i(18,"div",7)(19,"span",8),a(20,"Deuda total:"),o(),i(21,"span",9),a(22),o()(),i(23,"div",7)(24,"span",8),a(25,"Estado:"),o(),i(26,"span",9),a(27),o()()()()()()()),e&2&&(d(12),l(p.data.fechaCobro),d(5),l(p.data.montoProximoPago),d(5),l(p.data.deudaTotal),d(5),l(p.data.nombreEstadoCredito))},dependencies:[H,J]});let n=r;return n})();var Y=()=>["/pages/gestion-cobros/cobros"];function Z(n,r){if(n&1&&(i(0,"div",13),E(1,"mat-divider"),i(2,"div",14)(3,"div")(4,"h3",15),a(5,"Fecha de compra"),o()(),i(6,"p",16),a(7),g(8,"date"),o()(),i(9,"div",14)(10,"div")(11,"h3",15),a(12,"Valor pendiente"),o()(),i(13,"p",16),a(14),g(15,"currency"),o()(),i(16,"div",17)(17,"p",15),a(18,"Valor cuota"),o(),i(19,"p",16),a(20),g(21,"currency"),o()(),i(22,"div",18)(23,"p",15),a(24,"Cantidad cuotas"),o(),i(25,"p",16),a(26),o()(),i(27,"div",19)(28,"p",15),a(29,"Estado "),o(),i(30,"p",16),a(31),o()()()),n&2){let m=r.$implicit;d(7),l(M(8,5,m.fechaCobro,"dd/MM/yyyy")),d(7),l(I(15,8,m.valorPendiente)),d(6),l(I(21,10,m.montoCuota)),d(6),l(m.numCuota),d(5),l(m.nombreEstadoCredito)}}function tt(n,r){if(n&1&&(i(0,"div",10)(1,"div",11),v(2,Z,32,12,"div",12),o()()),n&2){let m=w(2);d(2),c("ngForOf",m.detalle)}}function et(n,r){if(n&1&&(i(0,"div",8),v(1,tt,3,1,"div",9),o()),n&2){let m=w();d(),c("ngIf",m.detalle)}}var X=(()=>{let r=class r{constructor(){this.router=s(y),this.activatedRoute=s(k),this.cobroTrabadorService=s(C),this.idCredito=""}ngOnDestroy(){}ngOnInit(){this.idCredito=this.activatedRoute.snapshot.paramMap.get("id"),this.getDetalle(this.idCredito)}getDetalle(t){this.subcription$=this.cobroTrabadorService.getCobroEmpleado(t).subscribe(e=>{console.log(e),this.detalle=e.data})}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=h({type:r,selectors:[["app-form-cobros-empleados"]],standalone:!0,features:[x],decls:10,vars:4,consts:[["cdkScrollable","",1,"absolute","inset-0","min-w-0","overflow-auto","print:overflow-visible"],[1,"inline-block","p-6","sm:p-10","print:p-0","w-full"],[1,"bg-card","shadow","print:bg-transparent","print:p-0","print:shadow-none","rounded-2xl","max-w-xl","mx-auto","overflow-hidden"],[1,"bg-crediblue-50","px-6","py-4","flex","items-center","justify-between"],["mat-button","",1,"flex","items-center",3,"routerLink"],[1,"text-white",3,"svgIcon"],[1,"text-xl","font-bold","text-white"],["class","p-6",4,"ngIf"],[1,"p-6"],["class","w-full h-full px-4",4,"ngIf"],[1,"w-full","h-full","px-4"],[1,"max-w-2xl","mx-auto","p-4","bg-white","shadow-lg","rounded-lg"],["class","space-y-4 mb-12",4,"ngFor","ngForOf"],[1,"space-y-4","mb-12"],[1,"flex","justify-between","items-center","border-b","pb-2"],[1,"text-lg","font-semibold","text-gray-700"],[1,"text-lg","font-bold","text-gray-800"],[1,"flex","justify-between","items-center"],[1,"flex","justify-between","items-center","pt-4","border-t"],[1,"flex","justify-between","items-center","border-t","pt-4"]],template:function(e,p){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),E(6,"mat-icon",5),o()(),i(7,"h2",6),a(8,"Cobro trabajadores"),o()(),v(9,et,2,1,"div",7),o()()()),e&2&&(d(5),c("routerLink",j(3,Y)),d(),c("svgIcon","heroicons_outline:arrow-long-left"),d(3),c("ngIf",p.detalle))},dependencies:[A,b,f,G,N,O,R,_,q]});let n=r;return n})();var Rt=[{path:"",component:W},{path:"cobro/:id",component:X}];export{Rt as default};
