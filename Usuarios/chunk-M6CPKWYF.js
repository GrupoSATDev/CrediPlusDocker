import{a as Ye}from"./chunk-FCRAQGET.js";import{a as Ue}from"./chunk-E66YEIEO.js";import{a as We}from"./chunk-5KS5IAZN.js";import{a as Je,b as Qe,c as Xe}from"./chunk-GNVKI2AC.js";import{a as Ke}from"./chunk-AWPVNJB6.js";import{b as se}from"./chunk-PEZYCTDT.js";import{a as et}from"./chunk-CD3BAAJU.js";import{a as ae}from"./chunk-5FWRBEZU.js";import{a as ze}from"./chunk-VAPJMDXC.js";import{a as Ge,b as qe,c as Ze}from"./chunk-Z3HPIT5Y.js";import{a as ne,b as le}from"./chunk-EXSRQRP4.js";import{a as b}from"./chunk-6IEWE3OU.js";import"./chunk-GTJMBBHF.js";import{a as re}from"./chunk-YYEPHEMI.js";import{a as oe}from"./chunk-MO2NC6JB.js";import"./chunk-DXTAURWF.js";import{a as P}from"./chunk-TRVR57AA.js";import{a as D}from"./chunk-VGYH6GAK.js";import{a as He}from"./chunk-OIDWJWJT.js";import{g as j}from"./chunk-KOHPUW4T.js";import{a as De,b as Ie,c as Ae,d as Fe}from"./chunk-2APB6LD7.js";import{h as J}from"./chunk-SVJNALL6.js";import{a as Le}from"./chunk-MZDDY6SU.js";import"./chunk-C2OGGKTO.js";import{B as R,C as te,G as ie,b as Q,c as Te,e as Me,i as K,l as Y,n as pe,p as ee,q as Ne,s as Oe,u as je,v as Re,w as Pe,x as Be,z as $e}from"./chunk-HT3W5V35.js";import{$ as we,Q as U,R as W,ea as O,fa as ke,ja as X}from"./chunk-A6IWXEM5.js";import"./chunk-Z6Z5R4KW.js";import"./chunk-LZ5XM2X6.js";import{a as Ve}from"./chunk-KDIFW2XS.js";import{b as Z,d as z,e as ye}from"./chunk-GCGVB3PG.js";import{e as G,f as q,g as V,j as _,l as N,r as Ee}from"./chunk-CLM5DCBX.js";import{$b as T,Db as e,Eb as i,Fb as u,Gb as B,Hb as $,Jb as L,Pb as h,Rb as g,Yb as ce,Zb as t,_a as r,_b as c,aa as be,ac as H,ec as M,fa as de,fc as k,ga as d,gc as he,ic as Se,jc as _e,la as I,nc as f,oc as w,pc as S,q as y,qb as v,sb as m,va as A,wa as F,zb as Ce}from"./chunk-RICNMTJI.js";import{a as C,d as xe}from"./chunk-NEB6MB4Y.js";var me=(()=>{let s=class s{constructor(a,o){this._http=a,this.appSettings=o}getCreditos(a){return this._http.get(`${this.appSettings.creditos.url.base}/${a}`)}getCredito(a){return this._http.get(`${this.appSettings.creditos.url.base}/${a}`)}putCredito(a){let o=a.id;return delete a.id,this._http.put(`${this.appSettings.creditos.url.base}/${o}`,a)}};s.\u0275fac=function(o){return new(o||s)(de(Ee),de(Ve))},s.\u0275prov=be({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();var fe=function(n){return n.APROBADO="e626ea69-e915-5462-be9a-905326714782",n.RECHAZADA="",n}(fe||{});var mt=()=>["/pages/gestion-creditos/creditos"];function dt(n,s){if(n&1&&(e(0,"mat-option",27),t(1),i()),n&2){let l=s.$implicit;m("value",l.id),r(),c(l.nombre)}}function ct(n,s){if(n&1&&(e(0,"mat-option",27),t(1),i()),n&2){let l=s.$implicit;m("value",l.id),r(),c(l.detalleInversion+" - "+l.rubroInversion)}}function pt(n,s){if(n&1&&(e(0,"mat-option",27),t(1),i()),n&2){let l=s.$implicit;m("value",l.id),r(),c(l.porcentaje)}}function ut(n,s){if(n&1){let l=L();e(0,"div",10)(1,"div",11)(2,"div")(3,"h3",12),t(4),i(),e(5,"p",13),t(6,"Identificaci\xF3n: "),e(7,"span",14),t(8),i()(),e(9,"p",13),t(10,"Empresa: "),e(11,"span",14),t(12),i()(),e(13,"p",15),t(14,"Cargo: "),e(15,"span",14),t(16),i()(),e(17,"p",13),t(18,"Correo: "),e(19,"span",14),t(20),i()(),e(21,"p",13),t(22,"Direcci\xF3n: "),e(23,"span",14),t(24),i()(),e(25,"p",13),t(26,"Tel\xE9fono: "),e(27,"span",14),t(28),i()()(),e(29,"div")(30,"p",13),t(31,"N\xFAmero de solicitud: #12345"),i(),e(32,"p",13),t(33,"Cupo solicitado: "),e(34,"span",14),t(35),f(36,"currency"),i()(),e(37,"p",13),t(38,"Fecha de Solicitud: "),e(39,"span",14),t(40),f(41,"date"),i()()()(),u(42,"hr"),e(43,"div")(44,"p",16),t(45,"Informaci\xF3n de Cr\xE9dito"),i(),e(46,"form",17)(47,"mat-form-field",18)(48,"mat-label"),t(49,"Tipo de pago"),i(),e(50,"mat-select",19),v(51,dt,2,2,"mat-option",20),i()(),e(52,"mat-form-field",18)(53,"mat-label"),t(54,"Capital de inversi\xF3n"),i(),e(55,"mat-select",19),v(56,ct,2,2,"mat-option",20),i()(),e(57,"mat-form-field",18)(58,"mat-label"),t(59,"Tasa de interes"),i(),e(60,"mat-select",19),v(61,pt,2,2,"mat-option",20),i()(),e(62,"mat-form-field",18)(63,"mat-label"),t(64,"Cantidad de cuotas"),i(),u(65,"input",21),i(),e(66,"mat-form-field",18)(67,"mat-label"),t(68,"Cupo aprobado"),i(),u(69,"input",21),i(),e(70,"mat-form-field",18)(71,"mat-label"),t(72,"Fecha de vencimiento"),i(),u(73,"input",22)(74,"mat-datepicker-toggle",23)(75,"mat-datepicker",null,0),i(),e(77,"mat-form-field",18)(78,"mat-label"),t(79,"Fecha de corte"),i(),u(80,"input",22)(81,"mat-datepicker-toggle",23)(82,"mat-datepicker",null,1),i()()(),B(84),e(85,"div",24)(86,"button",25),t(87," Rechazar "),i(),e(88,"button",26),h("click",function(){A(l);let o=g();return F(o.onSave())}),t(89," Aprobar "),i()(),$(),i()}if(n&2){let l=ce(76),a=ce(83),o=g();r(4),H("",o.items.trabajador.primerNombre," ",o.items.trabajador.segundoNombre," ",o.items.trabajador.primerApellido," ",o.items.trabajador.segundoApellido," "),r(4),c(o.items.trabajador.numDoc),r(4),c(o.items.nombreSubEmpresa),r(4),c(o.items.trabajador.cargo),r(4),c(o.items.trabajador.correo),r(4),c(o.items.trabajador.direccion),r(4),c(o.items.trabajador.telefono),r(7),c(w(36,27,o.items.cupoSolicitado)),r(5),c(S(41,29,o.items.fechaCreacion,"dd/MM/yyyy")),r(6),m("formGroup",o.form),r(4),m("formControlName","idTipoPago"),r(),m("ngForOf",o.data),r(4),m("formControlName","idCapitalInversion"),r(),m("ngForOf",o.capital),r(4),m("formControlName","idTasaInteres"),r(),m("ngForOf",o.tasas),r(4),m("formControlName","cantCuotas"),r(4),m("formControlName","cupoAprobado"),r(4),m("matDatepicker",l)("formControlName","fechaVencimiento"),r(),m("for",l),r(6),m("matDatepicker",a)("formControlName","fechaCorte"),r(),m("for",a)}}var ft={validation:!1},tt=(()=>{let s=class s{constructor(){this.toasService=d(re),this.fuseService=d(j),this.estadosDatosService=d(oe),this.activatedRoute=d(Z),this.creditoService=d(me),this.router=d(z),this.tiposPagos=d(Ue),this.capitalInversion=d(ze),this.estadoCreditoService=d(Ye),this.tasaService=d(We),this.fb=d($e),this.datePipe=d(_),this.swalService=d(P),this.data=[],this.capital=[],this.estadoCredito=[],this.tasas=[],this.idCredito="",this.CodigosEstadosSolicitudes=Xe}ngOnInit(){this.idCredito=this.activatedRoute.snapshot.paramMap.get("id"),this.getCredito(this.idCredito),this.getTiposPagos(),this.getCapital(),this.getEstadoCredito(),this.getTasas(),this.createForm()}getCredito(a){this.subcription$=this.creditoService.getCredito(a).subscribe(o=>{this.items=o.data,this.detalleEmpleado=o.data})}getTiposPagos(){this.subcription$=this.tiposPagos.getTiposPagos().pipe(y(a=>(a.data.forEach(o=>{o.estado?o.estado=b.ACTIVO:o.estado=b.INACTIVO}),a))).subscribe(a=>{this.data=a.data})}getTasas(){this.subcription$=this.tasaService.getTass().pipe(y(a=>(a.data.forEach(o=>{o.estado?o.estado=b.ACTIVO:o.estado=b.INACTIVO}),a))).subscribe(a=>{this.tasas=a.data})}getEstadoCredito(){this.subcription$=this.estadoCreditoService.getEstadoCreditos().pipe(y(a=>(a.data.forEach(o=>{o.estado?o.estado=b.ACTIVO:o.estado=b.INACTIVO}),a))).subscribe(a=>{this.estadoCredito=a.data})}getCapital(){this.subcription$=this.capitalInversion.getCapitales().pipe(y(a=>(a.data.forEach(o=>{o.estado?o.estado=b.ACTIVO:o.estado=b.INACTIVO}),a))).subscribe(a=>{this.capital=a.data})}onSave(){if(this.form.valid){let a=this.form.getRawValue(),{fechaVencimiento:p,fechaCorte:x,cupoAprobado:E}=a,ot=xe(a,["fechaVencimiento","fechaCorte","cupoAprobado"]),rt=this.datePipe.transform(p,"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'"),at=this.datePipe.transform(x,"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'"),ge=C({fechaVencimiento:rt,fechaCorte:at,idEstadoCredito:fe.APROBADO,cupoAprobado:Number(E),id:this.idCredito},ot);console.log(ge),this.fuseService.open(C({},D)).afterClosed().subscribe(nt=>{nt==="confirmed"&&this.creditoService.putCredito(ge).subscribe(lt=>{this.estadosDatosService.stateGrid.next(!0),this.swalService.ToastAler({icon:"success",title:"Registro creado con exito!",timer:4e3}),this.router.navigate(["/pages/gestion-creditos/creditos"])},lt=>{this.swalService.ToastAler({icon:"error",title:"Ha ocurrido un error al crear el registro!",timer:4e3})})})}}createForm(){this.form=this.fb.group({cupoAprobado:[""],idTipoPago:[""],idCapitalInversion:[""],idTasaInteres:[""],fechaVencimiento:[""],fechaCorte:[""],cantCuotas:[""]})}ngOnDestroy(){this.subcription$.unsubscribe()}};s.\u0275fac=function(o){return new(o||s)},s.\u0275cmp=I({type:s,selectors:[["app-form-detalle"]],standalone:!0,features:[M([{provide:W,useClass:ae},{provide:U,useValue:"en-GB"},_,ne(ft)]),k],decls:10,vars:4,consts:[["picker",""],["fechaCorte",""],["cdkScrollable","",1,"absolute","inset-0","min-w-0","overflow-auto","print:overflow-visible"],[1,"inline-block","p-6","sm:p-10","print:p-0","w-full"],[1,"bg-card","shadow","print:bg-transparent","print:p-0","print:shadow-none","rounded-2xl","max-w-xl","mx-auto","overflow-hidden"],[1,"bg-crediblue-50","px-6","py-4","flex","items-center","justify-between"],["mat-button","",1,"flex","items-center",3,"routerLink"],[1,"text-white",3,"svgIcon"],[1,"text-xl","font-bold","text-white"],["class","p-6",4,"ngIf"],[1,"p-6"],[1,"mb-4","flex","justify-between"],[1,"text-lg","font-semibold","text-gray-800"],[1,"text-gray-600","font-bold"],[1,"text-gray-800"],[1,"text-gray-600","font-semibold"],[1,"text-lg","text-gray-600","font-bold","mb-10"],[3,"formGroup"],[1,"w-full"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["matInput","","mask","separator.0","thousandSeparator",".",3,"formControlName"],["matInput","",3,"matDatepicker","formControlName"],["matIconSuffix","",3,"for"],[1,"flex","justify-end","items-center","mt-7","gap-2.5"],["mat-flat-button","",1,"fuse-mat-button-large","bg-crediorange-100","text-white","font-semibold","py-2","px-4","rounded-lg","transition","duration-200"],["mat-flat-button","",1,"fuse-mat-button-large","bg-crediblue-50","hover:bg-crediblue-100","text-white","font-semibold","py-2","px-4","rounded-lg","transition","duration-200",3,"click"],[3,"value"]],template:function(o,p){o&1&&(e(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div")(5,"a",6),u(6,"mat-icon",7),i()(),e(7,"h2",8),t(8,"Detalle de Cr\xE9dito"),i()(),v(9,ut,90,32,"div",9),i()()()),o&2&&(r(5),m("routerLink",he(3,mt)),r(),m("svgIcon","heroicons_outline:arrow-long-left"),r(3),m("ngIf",p.items))},dependencies:[J,ke,X,ye,V,N,_,O,K,Q,we,He,q,R,je,Y,ee,Ne,ie,Ge,qe,Ze,Me,te,Pe,Be,le]});let n=s;return n})();var vt=(n,s)=>({"bg-crediblue-50":n,"bg-credigray-100":s});function gt(n,s){n&1&&(e(0,"mat-error"),t(1,"El valor es requerido!"),i())}function xt(n,s){n&1&&(e(0,"mat-error"),t(1,"El valor ingresado no puede superar el cupo disponible!"),i())}var bt={validation:!1},it=(()=>{let s=class s{constructor(){this._matData=d(Ie),this.swalService=d(P),this.tipoSolicitudService=d(Qe),this.tipoSolicitud$=this.tipoSolicitudService.getTipos().pipe(y(a=>(this.idSolicitud=a.data[0].id,a))).subscribe(),this.cupo=new Oe(""),this.fuseService=d(j),this.solicitudService=d(Je),this.dialogRef=d(De)}validarCampo(){this.cupoAvance=this._matData.data.cupoDisponible*20/100,this.cupo.setValidators(pe.compose([pe.required,Ct(this.cupoAvance)])),this.cupo.updateValueAndValidity()}onSave(){let a={cupo:Number(this.cupo.value),idTipoSolicitud:this.idSolicitud};this.fuseService.open(C({},D)).afterClosed().subscribe(p=>{p==="confirmed"?this.solicitudService.postSolicitudes(a).subscribe(x=>{this.swalService.ToastAler({icon:"success",title:"Registro creado con exito!",timer:4e3}),this.closeDialog()},x=>{this.swalService.ToastAler({icon:"info",title:x.error.errorMenssages[0],timer:6e3})}):this.closeDialog()})}closeDialog(){this.dialogRef.close()}ngOnInit(){this.validarCampo()}};s.\u0275fac=function(o){return new(o||s)},s.\u0275cmp=I({type:s,selectors:[["app-dialog-confirm-desembolso"]],standalone:!0,features:[M([ne(bt)]),k],decls:25,vars:17,consts:[[1,"relative","flex","h-full","w-full","flex-col"],[1,"flex","flex-auto","flex-col","items-center","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],[1,"flex","h-10","w-10","flex-0","items-center","justify-center","rounded-full","sm:mr-4","bg-blue-100","text-blue-600","dark:bg-blue-600","dark:text-blue-50"],[3,"svgIcon"],[1,"flex","flex-col","items-center","space-y-1","text-center","sm:mt-0","sm:items-start","sm:pr-8","sm:text-left"],[1,"text-xl","font-medium","leading-6"],[1,"text-secondary"],[1,"mt-4","flex","flex-col","items-center","space-y-1","text-center","sm:mt-0","sm:items-start","sm:text-left"],["floatLabel","always",1,"w-full"],["matInput","","thousandSeparator",".","placeholder","Valor solicitado",3,"formControl","mask"],[4,"ngIf"],[1,"flex","flex-col","sm:flex-row","gap-2","items-center","justify-center","bg-gray-50","py-4","dark:bg-black","dark:bg-opacity-10","sm:justify-end"],["mat-stroked-button","",1,"sm:w-auto","w-full","bg-crediorange-100","rounded-lg","transition","duration-200","text-white","font-semibold",3,"matDialogClose"],["mat-flat-button","",1,"sm:w-auto","w-full","hover:bg-crediblue-100","text-white","font-semibold","py-2","px-4","rounded-lg","transition","duration-200",3,"click","color","matDialogClose","ngClass","disabled"]],template:function(o,p){o&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),u(3,"mat-icon",3),i(),e(4,"div",4)(5,"div",5),t(6," Confirmacion "),i(),e(7,"div",6),t(8," Tu cupo disponible para avance es de "),e(9,"b"),t(10),f(11,"currency"),i(),t(12,", puedes solicitar un valor menor o igual a este. "),i()()(),e(13,"div",7)(14,"mat-form-field",8)(15,"mat-label"),t(16,"Valor"),i(),u(17,"input",9),v(18,gt,2,0,"mat-error",10)(19,xt,2,0,"mat-error",10),i()(),e(20,"div",11)(21,"button",12),t(22," Cancelar "),i(),e(23,"button",13),h("click",function(){return p.onSave()}),t(24," Confirmar "),i()()()),o&2&&(r(3),m("svgIcon","heroicons_solid:question-mark-circle"),r(7),c(S(11,11,p.cupoAvance,"USD")),r(7),m("formControl",p.cupo)("mask","separator.0"),r(),m("ngIf",p.cupo.touched&&p.cupo.hasError("required")),r(),m("ngIf",(p.cupo.touched||p.cupo.dirty)&&p.cupo.hasError("notEqual")),r(2),m("matDialogClose","cancelled"),r(2),m("color","primary")("matDialogClose","confirmed")("ngClass",Se(14,vt,p.cupo.valid,p.cupo.invalid))("disabled",p.cupo.invalid))},dependencies:[R,Y,ee,O,K,X,ie,Q,Fe,te,Re,V,Te,N,le,G],styles:[".custom-dialog-container{width:100%}@media (min-width: 600px){  .custom-dialog-container{width:40%}}@media (min-width: 1280px){  .custom-dialog-container{width:33.333333%}}"]});let n=s;return n})();function Ct(n){return s=>{let l=s.value;return console.log(n),l>n?{notEqual:!0}:null}}var ht=(n,s,l)=>({"bg-green-600":n,"bg-yellow-600":s,"bg-red-600":l});function St(n,s){n&1&&(e(0,"p",16),t(1,"Movimientos"),i())}function _t(n,s){if(n&1){let l=L();B(0),e(1,"div",25)(2,"button",26),h("click",function(){A(l);let o=g().$implicit,p=g(3);return F(p.onReject(o.id))}),t(3," Rechazar "),i(),e(4,"button",27),h("click",function(){A(l);let o=g().$implicit,p=g(3);return F(p.onSave(o.id))}),t(5," Aprobar "),i()(),$()}}function Et(n,s){if(n&1&&(B(0),e(1,"fuse-card",20)(2,"div",21)(3,"p",10),t(4),i(),e(5,"p",10),t(6),f(7,"date"),i()(),e(8,"div",21)(9,"p",10),t(10,"Factura: "),e(11,"span",11),t(12),i()(),e(13,"p",10),t(14,"Valor: "),e(15,"span",11),t(16),f(17,"currency"),i()()(),e(18,"div",21)(19,"p",10),t(20,"Cuotas: "),e(21,"span",11),t(22),i()(),e(23,"p",10),t(24),i()(),e(25,"div",21)(26,"p",10),t(27,"Tipo: "),e(28,"span",11),t(29),i()()(),e(30,"div",22),u(31,"p",23),i(),v(32,_t,6,0,"ng-container",24),i(),$()),n&2){let l=s.$implicit,a=g(3);r(4),c(l.nombreSubEmpresa),r(2),c(S(7,9,l.fechaCreacion,"dd/MM/yyyy")),r(6),T(" ",l.numeroFactura," "),r(4),T(" ",w(17,12,l.montoConsumo)," "),r(6),T(" ",l.cantidadCuotas," "),r(2),c(l.nombreEstadoCredito),r(5),T(" ",l.nombreTipoConsumo," "),r(2),m("ngClass",_e(14,ht,l.idEstadoCredito==a.CodigosDetalleConsumo.APROBADA,l.idEstadoCredito==a.CodigosDetalleConsumo.EN_REVISION,l.idEstadoCredito==a.CodigosDetalleConsumo.RECHAZADA)),r(),m("ngIf",l.idEstadoCredito==a.CodigosDetalleConsumo.EN_REVISION)}}function yt(n,s){if(n&1&&(e(0,"div",17)(1,"div",18),v(2,Et,33,18,"ng-container",19),i()()),n&2){let l=g(2);r(2),m("ngForOf",l.items.detalleConsumos)}}function wt(n,s){if(n&1){let l=L();e(0,"div",0)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h2",5),t(5,"Detalle de Cr\xE9dito"),i()(),e(6,"div",6)(7,"div",7)(8,"div",8)(9,"h3",9),t(10),i(),e(11,"p",10),t(12,"Identificaci\xF3n: "),e(13,"span",11),t(14),i()(),e(15,"p",10),t(16,"Empresa: "),e(17,"span",11),t(18),i()(),e(19,"p",10),t(20,"Cargo: "),e(21,"span",11),t(22),i()(),e(23,"p",10),t(24,"Correo: "),e(25,"span",11),t(26),i()(),e(27,"p",10),t(28,"Direcci\xF3n: "),e(29,"span",11),t(30),i()(),e(31,"p",10),t(32,"Tel\xE9fono: "),e(33,"span",11),t(34),i()()(),e(35,"div",8)(36,"p",10),t(37,"N\xFAmero de cr\xE9dito: "),e(38,"span",11),t(39),i()(),e(40,"p",10),t(41,"Cupo aprobado: "),e(42,"span",11),t(43),f(44,"currency"),i()(),e(45,"p",10),t(46,"Tasa de interes: "),e(47,"span",11),t(48),i()(),e(49,"p",10),t(50,"Fecha de aprobacion: "),e(51,"span",11),t(52),f(53,"date"),i()(),e(54,"p",10),t(55,"Fecha de vencimiento: "),e(56,"span",11),t(57),f(58,"date"),i()(),e(59,"p",10),t(60,"Cupo utilizado: "),e(61,"span",11),t(62),f(63,"currency"),i()(),e(64,"p",10),t(65,"Saldo Disponible: "),e(66,"span",11),t(67),f(68,"currency"),i()(),e(69,"button",12),h("click",function(){A(l);let o=g();return F(o.onSolicitud())}),t(70," Solicitar avance "),i()()(),u(71,"hr",13),v(72,St,2,0,"p",14)(73,yt,3,1,"div",15),i()()()()}if(n&2){let l=g();r(10),H("",l.items.trabajador.primerNombre," ",l.items.trabajador.segundoNombre," ",l.items.trabajador.primerApellido," ",l.items.trabajador.segundoApellido," "),r(4),c(l.items.trabajador.numDoc),r(4),c(l.items.nombreSubEmpresa),r(4),c(l.items.trabajador.cargo),r(4),c(l.items.trabajador.correo),r(4),c(l.items.trabajador.direccion),r(4),c(l.items.trabajador.telefono),r(5),c(l.items.numCredito),r(4),c(w(44,19,l.items.cupoAprobado)),r(5),T("",l.items.porcTasaInteres,"%"),r(4),c(S(53,21,l.items.fechaAprobacion,"dd/MM/yyyy")),r(5),c(S(58,24,l.items.fechaVencimiento,"dd/MM/yyyy")),r(5),c(w(63,27,l.items.cupoConsumido)),r(5),c(w(68,29,l.items.cupoDisponible)),r(5),m("ngIf",l.items.detalleConsumos),r(),m("ngIf",l.items.detalleConsumos)}}function Dt(n,s){n&1&&(e(0,"div",1)(1,"div",2)(2,"fuse-alert",28)(3,"span",29),t(4,"Informaci\xF3n"),i(),t(5," No cuentas con cr\xE9ditos activos. "),i()()()),n&2&&(r(2),m("type","info")("appearance","outline"))}var ve=(()=>{let s=class s{constructor(){this.toasService=d(re),this.fuseService=d(j),this.estadosDatosService=d(oe),this.activatedRoute=d(Z),this.creditoService=d(me),this.detalleConsumoService=d(et),this.router=d(z),this.datePipe=d(_),this.data=[],this.capital=[],this.estadoCredito=[],this.tasas=[],this.idCredito="",this._matDialog=d(Ae),this.swalService=d(P),this.CodigosDetalleConsumo=se}ngOnDestroy(){this.subcription$.unsubscribe()}onSolicitud(){this._matDialog.open(it,{data:{data:this.items},disableClose:!0,panelClass:"custom-dialog-container"})}onSave(a){let o={idEstado:se.APROBADA,id:a};this.fuseService.open(C({},D)).afterClosed().subscribe(x=>{x==="confirmed"&&(this.subcription$=this.detalleConsumoService.patchConsumo(o).subscribe(E=>{E.isExitoso&&(this.swalService.ToastAler({icon:"success",title:"Registro creado con exito!",timer:4e3}),this.router.navigate(["/pages/gestion-creditos/creditos"]))},E=>{this.swalService.ToastAler({icon:"error",title:"Ha ocurrido un error al crear el registro!",timer:4e3})}))})}onReject(a){let o={idEstado:se.RECHAZADA,id:a};this.fuseService.open(C({},D)).afterClosed().subscribe(x=>{x==="confirmed"&&(this.subcription$=this.detalleConsumoService.patchConsumo(o).subscribe(E=>{E.isExitoso&&(this.toasService.toasAlertWarn({message:"Registro creado con exito!",actionMessage:"Cerrar",duration:3e3}),this.router.navigate(["/pages/gestion-creditos/creditos"]))},E=>{this.toasService.toasAlertWarn({message:"Ha ocurrido un error!!!!",actionMessage:"Cerrar",duration:3e3})}))})}ngOnInit(){this.idCredito="Trabajador",this.getCredito(this.idCredito)}getCredito(a){this.subcription$=this.creditoService.getCredito(a).subscribe(o=>{this.items=o.data})}};s.\u0275fac=function(o){return new(o||s)},s.\u0275cmp=I({type:s,selectors:[["app-form-view-detalle"]],standalone:!0,features:[M([{provide:W,useClass:ae},{provide:U,useValue:"en-GB"},_]),k],decls:2,vars:1,consts:[["cdkScrollable","",1,"absolute","inset-0","min-w-0","overflow-auto","print:overflow-visible"],[1,"absolute","inset-0","min-w-0","overflow-auto","print:overflow-visible"],[1,"inline-block","p-4","sm:p-8","print:p-0","w-full"],[1,"bg-card","shadow","print:bg-transparent","print:p-0","print:shadow-none","rounded-2xl","mx-auto","overflow-hidden","w-full","max-w-5xl"],[1,"bg-crediblue-50","px-6","py-4","flex","items-center","justify-between"],[1,"text-lg","sm:text-xl","font-bold","text-white"],[1,"p-4","sm:p-6"],[1,"mb-4","grid","grid-cols-1","md:grid-cols-2","gap-4","justify-items-stretch","lg:justify-items-center"],[1,"space-y-4"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-800"],[1,"font-medium","text-gray-600"],[1,"text-md","text-secondary"],["mat-flat-button","",1,"lg:w-auto","w-full","mt-4","bg-green-600","transition","duration-200","text-white","font-semibold","rounded-lg","md:w-auto",3,"click"],[1,"my-4"],["class","lg:text-center text-lg font-semibold font-bold mb-6",4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"lg:text-center","text-lg","font-semibold","font-bold","mb-6"],[1,"mb-4"],[1,"flex","flex-wrap","gap-2.5","justify-center"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","p-6","rounded-2xl","shadow-2xl","w-full","md:w-1/2","lg:w-96"],[1,"flex","justify-between"],[1,"w-full","mt-2"],[1,"h-2.5","rounded-full",3,"ngClass"],[4,"ngIf"],[1,"flex","justify-between","items-center","mt-2","p-4","gap-2.5"],["mat-flat-button","",1,"lg:w-auto","w-full","bg-crediorange-100","text-white","font-semibold","py-2","px-4","rounded-lg","transition","duration-200",3,"click"],["mat-flat-button","",1,"lg:w-auto","w-full","bg-crediblue-50","hover:bg-crediblue-100","text-white","font-semibold","py-2","px-4","rounded-lg","transition","duration-200",3,"click"],[3,"type","appearance"],["fuseAlertTitle",""]],template:function(o,p){o&1&&v(0,wt,74,31,"div",0)(1,Dt,6,2,"div",1),o&2&&Ce(p.items?0:1)},dependencies:[J,N,_,R,O,q,V,Ke,G,Le]});let n=s;return n})();var ro=[{path:"",component:ve},{path:"detalle/:id",component:tt},{path:"view-detalle/:id",component:ve}];export{ro as default};
