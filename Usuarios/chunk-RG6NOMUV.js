import{a as W}from"./chunk-FCRAQGET.js";import{a as Q}from"./chunk-AWPVNJB6.js";import{a as P}from"./chunk-6IEWE3OU.js";import"./chunk-GTJMBBHF.js";import{a as K}from"./chunk-MO2NC6JB.js";import{a as z}from"./chunk-X2JS2VQW.js";import"./chunk-DXTAURWF.js";import"./chunk-OIDWJWJT.js";import{c as B}from"./chunk-2APB6LD7.js";import{h as R}from"./chunk-SVJNALL6.js";import{a as J}from"./chunk-MZDDY6SU.js";import"./chunk-C2OGGKTO.js";import{C as q,s as U,z as H}from"./chunk-HT3W5V35.js";import{fa as N,ja as V}from"./chunk-A6IWXEM5.js";import"./chunk-Z6Z5R4KW.js";import"./chunk-LZ5XM2X6.js";import{a as L}from"./chunk-KDIFW2XS.js";import{b as A,d as y,e as G}from"./chunk-GCGVB3PG.js";import{f as O,g as $,j as u,l as b,r as k}from"./chunk-CLM5DCBX.js";import{$a as T,Db as o,Eb as i,Fb as w,Rb as f,Zb as r,_a as d,_b as m,aa as F,ec as _,fa as E,fc as h,ga as l,gc as j,la as x,nc as g,oc as I,pc as M,q as v,qb as c,sb as p,zb as D}from"./chunk-RICNMTJI.js";import"./chunk-NEB6MB4Y.js";var C=(()=>{let a=class a{constructor(t,e){this._http=t,this.appSettings=e}getCobros(){return this._http.get(this.appSettings.cobroTrabajadores.url.base)}getCobroEmpleado(t){return this._http.get(`${this.appSettings.cobroTrabajadores.url.base}/${t}`)}getCobrosGrid(t){return this._http.get(`${this.appSettings.cobroTrabajadores.url.baseTabla}/${t}`)}getCobroTrabajador(){return this._http.get(this.appSettings.cobroTrabajadores.url.baseCard)}};a.\u0275fac=function(e){return new(e||a)(E(k),E(L))},a.\u0275prov=F({token:a,factory:a.\u0275fac,providedIn:"root"});let n=a;return n})();function tt(n,a){if(n&1&&(o(0,"div",3)(1,"div",5)(2,"fuse-card",6)(3,"div",7)(4,"div",8)(5,"span",9),r(6,"Fecha pr\xF3ximo pago:"),i(),o(7,"span",10),r(8),i()(),o(9,"div",8)(10,"span",9),r(11,"Pr\xF3ximo pago:"),i(),o(12,"span",10),r(13),i()(),o(14,"div",8)(15,"span",9),r(16,"Deuda total:"),i(),o(17,"span",10),r(18),i()(),o(19,"div",8)(20,"span",9),r(21,"Estado:"),i(),o(22,"span",10),r(23),i()(),o(24,"div",8)(25,"span",9),r(26,"Estudio cr\xE9dito:"),i(),o(27,"span",10),r(28,"Por definir"),i()(),o(29,"div",8)(30,"span",9),r(31,"Estudio pl\xE1stico:"),i(),o(32,"span",10),r(33,"Por definir"),i()()()()()()),n&2){let s=f();d(8),m(s.data.fechaCobro),d(5),m(s.data.montoProximoPago),d(5),m(s.data.deudaTotal),d(5),m(s.data.nombreEstadoCredito)}}function et(n,a){n&1&&(o(0,"div",4)(1,"div",11)(2,"fuse-alert",12)(3,"span",13),r(4,"Informaci\xF3n"),i(),r(5," No tienes compromisos pendientes en este momento. "),i()()()),n&2&&(d(2),p("type","info")("appearance","outline"))}var Y=(()=>{let a=class a{constructor(t){this._matDialog=t,this.datePipe=l(u),this.router=l(y),this.estadoDatosService=l(K),this.currencyPipe=l(b),this.cobroTrabadorService=l(C),this.estadoCreditosService=l(W),this.fb=l(H),this.estados=new U([""]),this.buttons=[{label:"View",icon:"visibility",action:e=>{console.log("Editing",e),this.selectedData=e,this.router.navigate(["pages/gestion-cobros/cobros/cobro",this.selectedData.idTrabajador])}}]}cobros(){this.subcription$=this.cobroTrabadorService.getCobroTrabajador().pipe(v(t=>(t.data.fechaCobro=this.datePipe.transform(t.data.fechaCobro,"dd/MM/yyyy"),t.data.deudaTotal=this.currencyPipe.transform(t.data.deudaTotal,"USD","symbol","1.2-2"),t.data.montoProximoPago=this.currencyPipe.transform(t.data.montoProximoPago,"USD","symbol","1.2-2"),t))).subscribe(t=>{t?(console.log(t),this.data=t.data):this.data={}},t=>{this.data={}})}getCobros(){this.subcription$=this.cobroTrabadorService.getCobros().pipe(v(t=>(t.data.forEach(e=>{e.estado?e.estado=P.ACTIVO:e.estado=P.INACTIVO}),t)),v(t=>(t.data.forEach(e=>{e.fechaCobro=this.datePipe.transform(e.fechaCobro,"dd/MM/yyyy"),e.valorPendiente=this.currencyPipe.transform(e.valorPendiente,"USD","symbol","1.2-2"),e.valorPago=e.valorPago?this.currencyPipe.transform(e.valorPago,"USD","symbol","1.2-2"):"-"}),t))).subscribe(t=>{t?this.data=t.data:this.data=[]},t=>{this.data=[]})}listenGrid(){this.estadoDatosService.stateGrid.asObservable().subscribe(e=>{})}ngOnDestroy(){this.subcription$.unsubscribe()}ngOnInit(){this.listenGrid(),this.cobros()}};a.\u0275fac=function(e){return new(e||a)(T(B))},a.\u0275cmp=x({type:a,selectors:[["app-grid-cobros-empleados"]],standalone:!0,features:[_([u,b]),h],decls:6,vars:1,consts:[[1,"bg-card","flex","min-w-0","flex-auto","flex-col","dark:bg-transparent","sm:absolute","sm:inset-0","sm:overflow-hidden"],[1,"relative","flex","flex-0","flex-col","border-b","px-6","py-8","sm:flex-row","sm:items-center","sm:justify-between","md:px-8"],[1,"text-3xl","font-semibold","tracking-tight"],[1,"flex","flex-auto","overflow-hidden"],[1,"inset-0","min-w-0","overflow-auto","print:overflow-visible"],[1,"flex","flex-auto","flex-row","items-baseline","flex-wrap","gap-2.5","justify-center","overflow-hidden","sm:overflow-y-auto","bg-gray-100","sm:p-2"],[1,"filter-list","flex","w-full","max-w-lg","flex-col","p-6","sm:p-8","mt-4","shadow-lg","rounded-lg","bg-white"],[1,"space-y-6"],[1,"flex","justify-between","items-center"],[1,"font-semibold","text-gray-700"],[1,"text-md","text-secondary"],[1,"inline-block","p-4","sm:p-8","print:p-0","w-full"],[3,"type","appearance"],["fuseAlertTitle",""]],template:function(e,S){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),r(3,"Pagos pendientes"),i()(),c(4,tt,34,4,"div",3)(5,et,6,2,"div",4),i()),e&2&&(d(4),D(S.data.length?4:5))},dependencies:[q,Q,J]});let n=a;return n})();var it=()=>["/pages/gestion-cobros/cobros"];function ot(n,a){if(n&1&&(o(0,"div",13),w(1,"mat-divider"),o(2,"div",14)(3,"div")(4,"h3",15),r(5,"Fecha de compra"),i()(),o(6,"p",16),r(7),g(8,"date"),i()(),o(9,"div",14)(10,"div")(11,"h3",15),r(12,"Valor pendiente"),i()(),o(13,"p",16),r(14),g(15,"currency"),i()(),o(16,"div",17)(17,"p",15),r(18,"Valor cuota"),i(),o(19,"p",16),r(20),g(21,"currency"),i()(),o(22,"div",18)(23,"p",15),r(24,"Cantidad cuotas"),i(),o(25,"p",16),r(26),i()(),o(27,"div",19)(28,"p",15),r(29,"Estado "),i(),o(30,"p",16),r(31),i()()()),n&2){let s=a.$implicit;d(7),m(M(8,5,s.fechaCobro,"dd/MM/yyyy")),d(7),m(I(15,8,s.valorPendiente)),d(6),m(I(21,10,s.montoCuota)),d(6),m(s.numCuota),d(5),m(s.nombreEstadoCredito)}}function rt(n,a){if(n&1&&(o(0,"div",10)(1,"div",11),c(2,ot,32,12,"div",12),i()()),n&2){let s=f(2);d(2),p("ngForOf",s.detalle)}}function at(n,a){if(n&1&&(o(0,"div",8),c(1,rt,3,1,"div",9),i()),n&2){let s=f();d(),p("ngIf",s.detalle)}}var Z=(()=>{let a=class a{constructor(){this.router=l(y),this.activatedRoute=l(A),this.cobroTrabadorService=l(C),this.idCredito=""}ngOnDestroy(){}ngOnInit(){this.idCredito=this.activatedRoute.snapshot.paramMap.get("id"),this.getDetalle(this.idCredito)}getDetalle(t){this.subcription$=this.cobroTrabadorService.getCobroEmpleado(t).subscribe(e=>{console.log(e),this.detalle=e.data})}};a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=x({type:a,selectors:[["app-form-cobros-empleados"]],standalone:!0,features:[h],decls:10,vars:4,consts:[["cdkScrollable","",1,"absolute","inset-0","min-w-0","overflow-auto","print:overflow-visible"],[1,"inline-block","p-6","sm:p-10","print:p-0","w-full"],[1,"bg-card","shadow","print:bg-transparent","print:p-0","print:shadow-none","rounded-2xl","max-w-xl","mx-auto","overflow-hidden"],[1,"bg-crediblue-50","px-6","py-4","flex","items-center","justify-between"],["mat-button","",1,"flex","items-center",3,"routerLink"],[1,"text-white",3,"svgIcon"],[1,"text-xl","font-bold","text-white"],["class","p-6",4,"ngIf"],[1,"p-6"],["class","w-full h-full px-4",4,"ngIf"],[1,"w-full","h-full","px-4"],[1,"max-w-2xl","mx-auto","p-4","bg-white","shadow-lg","rounded-lg"],["class","space-y-4 mb-12",4,"ngFor","ngForOf"],[1,"space-y-4","mb-12"],[1,"flex","justify-between","items-center","border-b","pb-2"],[1,"text-lg","font-semibold","text-gray-700"],[1,"text-lg","font-bold","text-gray-800"],[1,"flex","justify-between","items-center"],[1,"flex","justify-between","items-center","pt-4","border-t"],[1,"flex","justify-between","items-center","border-t","pt-4"]],template:function(e,S){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),w(6,"mat-icon",5),i()(),o(7,"h2",6),r(8,"Cobro trabajadores"),i()(),c(9,at,2,1,"div",7),i()()()),e&2&&(d(5),p("routerLink",j(3,it)),d(),p("svgIcon","heroicons_outline:arrow-long-left"),d(3),p("ngIf",S.detalle))},dependencies:[R,b,u,N,V,$,G,O,z]});let n=a;return n})();var Vt=[{path:"",component:Y},{path:"cobro/:id",component:Z}];export{Vt as default};
