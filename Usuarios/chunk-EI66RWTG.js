import{a as ze}from"./chunk-7K5PUW2Y.js";import{a as J}from"./chunk-64SCTOBE.js";import{a as Pe}from"./chunk-RWA2BYI2.js";import{a as Ge}from"./chunk-Z2MQWE4K.js";import{a as Ve,b as je,c as Be}from"./chunk-B7LJFNKT.js";import{a as Oe,b as Re}from"./chunk-DNIDWOKC.js";import{a as Ae}from"./chunk-BVKBBENW.js";import{a as He}from"./chunk-SEBT4JX2.js";import{a as te}from"./chunk-6IEWE3OU.js";import{a as ke}from"./chunk-AVIANEB4.js";import{a as $e}from"./chunk-CQJY43M3.js";import{a as Y}from"./chunk-OFEOPKCC.js";import{a as Fe}from"./chunk-JPRW2DCB.js";import"./chunk-CHOSRW5W.js";import{a as we}from"./chunk-Z4EIXSRC.js";import{a as Me}from"./chunk-ACIMG2KZ.js";import{a as ee}from"./chunk-H7DTTKLU.js";import{a as Te}from"./chunk-33XTDNRI.js";import{g as Ce}from"./chunk-QS2WZY2K.js";import{a as ue,b as ge,c as he}from"./chunk-JND367CQ.js";import"./chunk-7U4JZNVG.js";import{C as Ne,G as W,b as ve,e as Se,i as L,l as _e,p as be,q as Ee,u as ye,w as xe,x as De,z as Ie}from"./chunk-JLNARVDU.js";import{$ as fe,Q as ce,R as de,ea as Z,ja as U}from"./chunk-DARKUWJB.js";import"./chunk-EENLYY7H.js";import{a as A}from"./chunk-U7HZP7QI.js";import{f as le,g as se,i as pe,j as X,r as k}from"./chunk-NP3GUERB.js";import{$ as F,Cb as m,Db as i,Eb as c,Fb as v,Gb as S,Ib as ne,Ob as D,Qb as Q,Wa as ae,X as C,Xb as M,Yb as p,Za as a,Zb as b,_a as R,_b as H,dc as re,ea as _,ec as z,fa as u,ka as O,mc as E,nc as y,pb as f,pc as me,q as K,rb as n,ua as T,va as w}from"./chunk-32HXX3OB.js";import{a as N,d as G}from"./chunk-NEB6MB4Y.js";var Ue=(()=>{let o=class o{constructor(r,t){this._http=r,this.appSettings=t}getCargos(){return this._http.get(this.appSettings.cargos.url.base)}postCargos(r){return delete r.id,this._http.post(this.appSettings.cargos.url.base,r)}putCargos(r){let t=r.id;return delete r.id,this._http.put(`${this.appSettings.cargos.url.base}/${t}`,r)}};o.\u0275fac=function(t){return new(t||o)(_(k),_(A))},o.\u0275prov=F({token:o,factory:o.\u0275fac,providedIn:"root"});let e=o;return e})();var We=(()=>{let o=class o{constructor(r,t){this._http=r,this.appSettings=t}getRiesgos(){return this._http.get(this.appSettings.riesgos.url.base)}getRiesgo(r){return this._http.get(`${this.appSettings.riesgos.url.base}/${r}`)}};o.\u0275fac=function(t){return new(t||o)(_(k),_(A))},o.\u0275prov=F({token:o,factory:o.\u0275fac,providedIn:"root"});let e=o;return e})();var Ye=(()=>{let o=class o{constructor(r,t){this._http=r,this.appSettings=t}getBancos(){return this._http.get(this.appSettings.bancos.url.base)}getBanco(r){return this._http.get(`${this.appSettings.bancos.url.base}/${r}`)}};o.\u0275fac=function(t){return new(t||o)(_(k),_(A))},o.\u0275prov=F({token:o,factory:o.\u0275fac,providedIn:"root"});let e=o;return e})();function Ke(e,o){if(e&1&&(v(0),c(1,"img",50),S()),e&2){let s=Q();a(),n("src",s.image,ae)("alt","Profile avatar")}}function Qe(e,o){if(e&1&&(m(0,"div",51),p(1),i()),e&2){let s,r=Q();a(),H(" ",(s=r.form.get("primerNombre").value.charAt(0))!==null&&s!==void 0?s:"P"," ")}}function Xe(e,o){if(e&1&&(m(0,"mat-option",53),p(1),i()),e&2){let s=o.$implicit;n("value",s.id),a(),b(s.nombre)}}function et(e,o){if(e&1&&(v(0),f(1,Xe,2,2,"mat-option",52),S()),e&2){let s=o.ngIf;a(),n("ngForOf",s.data)}}function tt(e,o){if(e&1&&(m(0,"mat-option",53),p(1),i()),e&2){let s=o.$implicit;n("value",s.id),a(),b(s.nombre)}}function it(e,o){if(e&1&&(v(0),f(1,tt,2,2,"mat-option",52),S()),e&2){let s=o.ngIf;a(),n("ngForOf",s.data)}}function ot(e,o){if(e&1&&(m(0,"mat-option",53),p(1),i()),e&2){let s=o.$implicit;n("value",s.id),a(),b(s.nombre)}}function at(e,o){if(e&1&&(v(0),f(1,ot,2,2,"mat-option",52),S()),e&2){let s=o.ngIf;a(),n("ngForOf",s.data)}}function nt(e,o){if(e&1&&(m(0,"mat-option",53),p(1),i()),e&2){let s=o.$implicit;n("value",s.id),a(),b(s.nombre)}}function rt(e,o){if(e&1&&(v(0),f(1,nt,2,2,"mat-option",52),S()),e&2){let s=o.ngIf;a(),n("ngForOf",s.data)}}function mt(e,o){if(e&1&&(m(0,"mat-option",53),p(1),i()),e&2){let s=o.$implicit;n("value",s.id),a(),b(s.razonSocial)}}function lt(e,o){if(e&1&&(v(0),f(1,mt,2,2,"mat-option",52),S()),e&2){let s=o.ngIf;a(),n("ngForOf",s.data)}}function st(e,o){if(e&1&&(v(0),m(1,"mat-form-field",22)(2,"mat-label"),p(3,"Fin de contrato"),i(),c(4,"input",31)(5,"mat-datepicker-toggle",32)(6,"mat-datepicker",null,5),i(),S()),e&2){let s=M(7);a(4),n("matDatepicker",s)("formControlName","fechaFinContrato"),a(),n("for",s)}}function pt(e,o){if(e&1&&(m(0,"mat-option",53),p(1),i()),e&2){let s=o.$implicit;n("value",s.id),a(),b(s.nombre)}}function ct(e,o){if(e&1&&(v(0),f(1,pt,2,2,"mat-option",52),S()),e&2){let s=o.ngIf;a(),n("ngForOf",s.data)}}function dt(e,o){if(e&1&&(m(0,"mat-option",53),p(1),i()),e&2){let s=o.$implicit;n("value",s.id),a(),b(s.nombre)}}function ft(e,o){if(e&1&&(v(0),f(1,dt,2,2,"mat-option",52),S()),e&2){let s=o.ngIf;a(),n("ngForOf",s.data)}}function ut(e,o){if(e&1&&(m(0,"mat-option",53),p(1),i()),e&2){let s=o.$implicit;n("value",s.id),a(),b(s.nombre)}}function gt(e,o){if(e&1&&(v(0),f(1,ut,2,2,"mat-option",52),S()),e&2){let s=o.ngIf;a(),n("ngForOf",s.data)}}var ht={validation:!1},ie=(()=>{let o=class o{constructor(){this.fb=u(Ie),this.dialogRef=u(ue),this.fuseService=u(Ce),this.estadosDatosService=u(Y),this.toasService=u($e),this.tiposDocumentosService=u(we),this._locacionService=u(Ae),this.generoService=u(He),this.empresaClienteService=u(Pe),this.datePipe=u(X),this.empleadosServices=u(J),this.cargosServices=u(Ue),this.riesgosServices=u(We),this.bancosServices=u(Ye),this.swalService=u(Me),this.departamentos$=this._locacionService.getDepartamentos().pipe(C(r=>{let t=r.data,l=this._matData;if(t&&!l.edit){this.form.get("idDepartamento").setValue(t[0].id);let d=this.form.get("idDepartamento").value;this.getMunicipios(d)}})),this.tiposDocumentos$=this.tiposDocumentosService.getTiposDocumentos().pipe(C(r=>{let t=r.data,l=this._matData;t&&!l.edit&&this.form.get("idTipoDoc").setValue(t[3].id)})),this.generos$=this.generoService.getGeneros().pipe(C(r=>{let t=r.data,l=this._matData;t&&!l.edit&&this.form.get("idGenero").setValue(t[1].id)})),this.empresasClientes$=this.empresaClienteService.getEmpresas().pipe(C(r=>{let t=r.data,l=this._matData;t&&!l.edit&&this.form.get("idSubEmpresa").setValue(t[0].id)})),this.cargos$=this.cargosServices.getCargos(),this.riesgos$=this.riesgosServices.getRiesgos().pipe(C(r=>{let t=r.data,l=this._matData;t&&!l.edit&&this.form.get("idNivelRiesgo").setValue(t[0].id)})),this.bancos$=this.bancosServices.getBancos().pipe(C(r=>{let t=r.data,l=this._matData;t&&!l.edit&&this.form.get("idBanco").setValue(t[0].id)})),this._matData=u(ge),this.tipoCuentasService=u(ze),this.tipoCuentas$=this.tipoCuentasService.getTipoCuentas().pipe(C(r=>{let t=r.data,l=this._matData;t&&!l.edit&&this.form.get("idTipoCuenta").setValue(t[0].id)})),this.profile={avatar:"",name:"Pedro"}}ngOnInit(){this.createForm();let r=this._matData;if(r.edit){let l=r.data,t=l,{estado:d,idDepartamento:g,fechaNacimiento:h,fechaInicioContrato:B,fechaFinContrato:$}=t,V=G(t,["estado","idDepartamento","fechaNacimiento","fechaInicioContrato","fechaFinContrato"]),j=new Date(h),x=new Date(B),I=new Date($);this.municipios$=this._locacionService.getMunicipio(g),this.form.patchValue(N({fechaNacimiento:j,fechaInicioContrato:new Date(x.getFullYear(),x.getMonth(),x.getDate()),fechaFinContrato:new Date(I.getFullYear(),I.getMonth(),I.getDate()),idDepartamento:g,estado:d=="Activo"},V)),console.log(this.form.getRawValue()),this.image=`data:image/png;base64,  ${l.foto}`}}onFileSelected(r){let t=r.target;if(t.files&&t.files.length>0){let l=t.files[0],d=new FileReader;d.onload=()=>{let g=d.result;this.image=g;let h=g.split(",")[1];this.form.get("foto").setValue(h)},d.readAsDataURL(l)}}onSelected(r){let t=r.value;this.getMunicipios(t)}getMunicipios(r){this.municipios$=this._locacionService.getMunicipio(r).pipe(C(t=>{let l=t.data,d=this._matData;l&&!d.edit&&this.form.get("idMunicipio").setValue(l[0].id)}))}onSave(){if(this.form.valid)if(this._matData.edit){let t=this.form.getRawValue(),{idDepartamento:d,fechaNacimiento:g,fechaInicioContrato:h,fechaFinContrato:B}=t,$=G(t,["idDepartamento","fechaNacimiento","fechaInicioContrato","fechaFinContrato"]),V=this.datePipe.transform(g,"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'"),j=this.datePipe.transform(h,"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'"),x=this.datePipe.transform(B,"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'"),I=N({fechaNacimiento:V,fechaInicioContrato:j,fechaFinContrato:x},$);this.fuseService.open(N({},ee)).afterClosed().subscribe(P=>{P==="confirmed"?this.empleadosServices.putEmpleados(I).subscribe(qe=>{this.estadosDatosService.stateGrid.next(!0),this.swalService.ToastAler({icon:"success",title:"Registro actualizado con exito!",timer:4e3}),this.closeDialog()},qe=>{this.swalService.ToastAler({icon:"error",title:"Ha ocurrido un error al actualizar el registro!",timer:4e3})}):this.closeDialog()})}else{let r=this.form.getRawValue(),{idDepartamento:d,fechaNacimiento:g,fechaInicioContrato:h,fechaFinContrato:B}=r,$=G(r,["idDepartamento","fechaNacimiento","fechaInicioContrato","fechaFinContrato"]),V=this.datePipe.transform(g,"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'"),j=this.datePipe.transform(h,"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'"),x=N({fechaNacimiento:V,fechaInicioContrato:j,fechaFinContrato:"0001-01-01T00:00:00+00:00"},$);console.log(x),this.fuseService.open(N({},ee)).afterClosed().subscribe(oe=>{oe==="confirmed"?this.empleadosServices.postEmpleados(x).subscribe(P=>{console.log(P),this.estadosDatosService.stateGrid.next(!0),this.swalService.ToastAler({icon:"success",title:"Registro creado con exito!",timer:4e3}),this.closeDialog()},P=>{this.swalService.ToastAler({icon:"error",title:"Ha ocurrido un error al crear el registro!",timer:4e3})}):this.closeDialog()})}}createForm(){this.form=this.fb.group({id:[null],primerNombre:[""],segundoNombre:[""],primerApellido:[""],segundoApellido:[""],idTipoDoc:[""],numDoc:[""],idDepartamento:[""],idMunicipio:[""],telefono:[""],telefono2:[""],direccion:[""],idGenero:[""],correo:[""],cargo:[""],fechaNacimiento:[""],fechaInicioContrato:[""],fechaFinContrato:["null"],numCuentaBancaria:[""],salarioDevengado:[""],capacidadEndeudamiento:[""],idNivelRiesgo:[""],idBanco:[""],idTipoCuenta:[""],foto:[""],firma:[""],idSubEmpresa:[""],estado:["true"]})}closeDialog(){this.dialogRef.close()}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=O({type:o,selectors:[["app-form-empleados"]],standalone:!0,features:[re([{provide:de,useClass:Ge},{provide:ce,useValue:"en-GB"},X,Oe(ht)]),z],decls:161,vars:62,consts:[["noAvatar",""],["twoStepToggle",""],["picker",""],["data",""],["inicio",""],["fin",""],[1,"w-full","sm:bg-card","sm:rounded-2xl","sm:mx-0","mx-auto"],[1,""],[1,"mt-8","text-3xl","font-semibold","leading-tight","tracking-tight","text-center"],[1,"mt-8",3,"formGroup"],[1,"group","relative","mx-auto","mt-8","flex","h-40","w-40","flex-0","rounded-full","mb-8"],[1,"absolute","inset-0","hidden","cursor-pointer","flex-col","items-center","justify-center","rounded-full","bg-gray-800","bg-opacity-80","backdrop-blur","backdrop-filter","group-hover:flex"],[1,"text-white",3,"svgIcon"],[1,"mx-6","mt-2","text-center","font-medium","text-white"],["type","file",1,"absolute","inset-0","opacity-0","cursor-pointer",3,"change"],[4,"ngIf","ngIfElse"],[1,"font-bold","mb-4","text-2xl"],[1,"flex","mb-4"],[1,"fcursor-pointer",3,"click"],[1,"font-medium","leading-6"],[1,"ml-4",3,"color","formControlName"],[1,"flex","gap-2.5"],[1,"w-full"],["matInput","","placeholder","Primer nombre",3,"formControlName"],["matInput","","placeholder","Segundo nombre",3,"formControlName"],["matInput","","placeholder","Primer apellido",3,"formControlName"],["matInput","","placeholder","Segundo apellido",3,"formControlName"],["placeholder","Tipo de documento",3,"formControlName"],[4,"ngIf"],["matInput","","placeholder","N\xFAmero de identificaci\xF3n",3,"formControlName"],["placeholder","G\xE9nero",3,"formControlName"],["matInput","",3,"matDatepicker","formControlName"],["matIconSuffix","",3,"for"],["placeholder","Departamento",3,"selectionChange","formControlName"],["placeholder","Ciudad",3,"formControlName"],["matInput","","placeholder","Direcci\xF3n",3,"formControlName"],["matInput","","placeholder","Celular",3,"formControlName"],["matInput","","placeholder","Tel\xE9fono",3,"formControlName"],["matInput","","placeholder","Correo electronico",3,"formControlName"],["placeholder","Empresa",3,"formControlName"],["matInput","","placeholder","Cargo",3,"formControlName"],["matInput","","mask","separator.0","thousandSeparator",".","placeholder","Salario devengdado",3,"formControlName"],["matInput","","placeholder","N\xFAmero de cuenta",3,"formControlName"],["placeholder","Tipo de cuenta",3,"formControlName"],["placeholder","Bancos",3,"formControlName"],["placeholder","Nivel de riesgo",3,"formControlName"],["matInput","","mask","separator.0","thousandSeparator",".","placeholder","Capacidad de endeudamiento",3,"formControlName"],[1,"flex","flex-wrap","justify-end","gap-2.5"],["mat-flat-button","",1,"fuse-mat-button-large","mt-6","bg-credigray-100","rounded-lg","transition","duration-200","text-white","font-semibold",3,"click","color"],["mat-flat-button","",1,"fuse-mat-button-large","mt-6","bg-crediblue-50","rounded-lg","transition","duration-200","text-white","font-semibold",3,"click","color"],[1,"h-full","w-full","rounded-full","object-cover",3,"src","alt"],[1,"flex","h-full","w-full","items-center","justify-center","rounded-full","bg-gray-200","text-8xl","font-semibold","uppercase","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,l){if(t&1){let d=ne();m(0,"div",6)(1,"div",7)(2,"div",8),p(3),i(),m(4,"form",9)(5,"div",10)(6,"div",11),c(7,"mat-icon",12),m(8,"div",13),p(9," Cambiar foto "),i(),m(10,"input",14),D("change",function(h){return T(d),w(l.onFileSelected(h))}),i()(),f(11,Ke,2,2,"ng-container",15)(12,Qe,2,1,"ng-template",null,0,me),i(),m(14,"div")(15,"p",16),p(16,"Informaci\xF3n general"),i(),m(17,"div",17)(18,"div",18),D("click",function(){T(d);let h=M(22);return w(h.toggle())}),m(19,"div",19),p(20),i()(),c(21,"mat-slide-toggle",20,1),i(),m(23,"div",21)(24,"mat-form-field",22)(25,"mat-label"),p(26,"Primer nombre"),i(),c(27,"input",23),i(),m(28,"mat-form-field",22)(29,"mat-label"),p(30,"Segundo nombre"),i(),c(31,"input",24),i()(),m(32,"div",21)(33,"mat-form-field",22)(34,"mat-label"),p(35,"Primer apellido"),i(),c(36,"input",25),i(),m(37,"mat-form-field",22)(38,"mat-label"),p(39,"Segundo apellido"),i(),c(40,"input",26),i()(),m(41,"div",21)(42,"mat-form-field",22)(43,"mat-label"),p(44,"Tipo de documento"),i(),m(45,"mat-select",27),f(46,et,2,1,"ng-container",28),E(47,"async"),i()(),m(48,"mat-form-field",22)(49,"mat-label"),p(50,"N\xFAmero de identificaci\xF3n"),i(),c(51,"input",29),i()(),m(52,"div",21)(53,"mat-form-field",22)(54,"mat-label"),p(55,"G\xE9nero"),i(),m(56,"mat-select",30),f(57,it,2,1,"ng-container",28),E(58,"async"),i()(),m(59,"mat-form-field",22)(60,"mat-label"),p(61,"Fecha de nacimiento"),i(),c(62,"input",31)(63,"mat-datepicker-toggle",32)(64,"mat-datepicker",null,2),i()()(),m(66,"div")(67,"p",16),p(68,"Informaci\xF3n demogr\xE1fica"),i(),m(69,"div",21)(70,"mat-form-field",22)(71,"mat-label"),p(72,"Departamento"),i(),m(73,"mat-select",33,3),D("selectionChange",function(h){return T(d),w(l.onSelected(h))}),f(75,at,2,1,"ng-container",28),E(76,"async"),i()(),m(77,"mat-form-field",22)(78,"mat-label"),p(79,"Ciudad"),i(),m(80,"mat-select",34),f(81,rt,2,1,"ng-container",28),E(82,"async"),i()()(),m(83,"div",21)(84,"mat-form-field",22)(85,"mat-label"),p(86,"Direcci\xF3n"),i(),c(87,"input",35),i(),m(88,"mat-form-field",22)(89,"mat-label"),p(90,"Celular"),i(),c(91,"input",36),i()(),m(92,"div",21)(93,"mat-form-field",22)(94,"mat-label"),p(95,"Tel\xE9fono"),i(),c(96,"input",37),i(),m(97,"mat-form-field",22)(98,"mat-label"),p(99,"Email"),i(),c(100,"input",38),i()(),m(101,"div",21)(102,"mat-form-field",22)(103,"mat-label"),p(104,"Empresa"),i(),m(105,"mat-select",39),f(106,lt,2,1,"ng-container",28),E(107,"async"),i()(),m(108,"mat-form-field",22)(109,"mat-label"),p(110,"Cargo"),i(),c(111,"input",40),i()(),m(112,"div",21)(113,"mat-form-field",22)(114,"mat-label"),p(115,"Inicio de contrato"),i(),c(116,"input",31)(117,"mat-datepicker-toggle",32)(118,"mat-datepicker",null,4),i(),f(120,st,8,3,"ng-container",28),i(),m(121,"div",21)(122,"mat-form-field",22)(123,"mat-label"),p(124,"Salario devengado"),i(),c(125,"input",41),i(),m(126,"mat-form-field",22)(127,"mat-label"),p(128,"N\xFAmero de cuenta bancaria"),i(),c(129,"input",42),i()(),m(130,"div",21)(131,"mat-form-field",22)(132,"mat-label"),p(133,"Tipo de cuenta"),i(),m(134,"mat-select",43),f(135,ct,2,1,"ng-container",28),E(136,"async"),i()(),m(137,"mat-form-field",22)(138,"mat-label"),p(139,"Bancos"),i(),m(140,"mat-select",44),f(141,ft,2,1,"ng-container",28),E(142,"async"),i()()(),m(143,"div",21)(144,"mat-form-field",22)(145,"mat-label"),p(146,"Nivel de riesgo"),i(),m(147,"mat-select",45),f(148,gt,2,1,"ng-container",28),E(149,"async"),i()(),m(150,"mat-form-field",22)(151,"mat-label"),p(152,"Capacidad de endeudamiento"),i(),c(153,"input",46),i()()(),m(154,"div",47)(155,"button",48),D("click",function(){return T(d),w(l.closeDialog())}),m(156,"span"),p(157," Cancelar "),i()(),m(158,"button",49),D("click",function(){return T(d),w(l.onSave())}),m(159,"span"),p(160," Guardar "),i()()()()()()}if(t&2){let d=M(13),g=M(65),h=M(119);a(3),H(" ",l._matData.edit?"Actualizar trabajador":"Agregar trabajador"," "),a(),n("formGroup",l.form),a(3),n("svgIcon","heroicons_outline:camera"),a(4),n("ngIf",l.form.get("foto").value)("ngIfElse",d),a(9),H(" Estado ",l.form.get("estado").value?"Activo":"Inactivo"," "),a(),n("color","primary")("formControlName","estado"),a(6),n("formControlName","primerNombre"),a(4),n("formControlName","segundoNombre"),a(5),n("formControlName","primerApellido"),a(4),n("formControlName","segundoApellido"),a(5),n("formControlName","idTipoDoc"),a(),n("ngIf",y(47,46,l.tiposDocumentos$)),a(5),n("formControlName","numDoc"),a(5),n("formControlName","idGenero"),a(),n("ngIf",y(58,48,l.generos$)),a(5),n("matDatepicker",g)("formControlName","fechaNacimiento"),a(),n("for",g),a(10),n("formControlName","idDepartamento"),a(2),n("ngIf",y(76,50,l.departamentos$)),a(5),n("formControlName","idMunicipio"),a(),n("ngIf",y(82,52,l.municipios$)),a(6),n("formControlName","direccion"),a(4),n("formControlName","telefono"),a(5),n("formControlName","telefono2"),a(4),n("formControlName","correo"),a(5),n("formControlName","idSubEmpresa"),a(),n("ngIf",y(107,54,l.empresasClientes$)),a(5),n("formControlName","cargo"),a(5),n("matDatepicker",h)("formControlName","fechaInicioContrato"),a(),n("for",h),a(3),n("ngIf",l.form.get("estado").value==!1),a(5),n("formControlName","salarioDevengado"),a(4),n("formControlName","numCuentaBancaria"),a(5),n("formControlName","idTipoCuenta"),a(),n("ngIf",y(136,56,l.tipoCuentas$)),a(5),n("formControlName","idBanco"),a(),n("ngIf",y(142,58,l.bancos$)),a(6),n("formControlName","idNivelRiesgo"),a(),n("ngIf",y(149,60,l.riesgos$)),a(5),n("formControlName","capacidadEndeudamiento"),a(2),n("color","primary"),a(3),n("color","primary")}},dependencies:[Z,L,W,ve,Ne,ye,_e,be,Ee,xe,De,pe,fe,Te,le,se,Ve,je,Be,Se,U,Re,Fe]});let e=o;return e})();var Je=(()=>{let o=class o{constructor(r,t,l){this._matDialog=r,this.estadoDatosService=t,this.empleadoService=l,this.data=[],this.columns=["Estado","Documento","Identificaci\xF3n","Nombre completo","Tel\xE9fono","Cargo"],this.columnPropertyMap={Estado:"estado",Documento:"nombreTipoDocumento",Identificaci\u00F3n:"numDoc","Nombre completo":"nombreCompleto",Tel\u00E9fono:"telefono",Cargo:"cargo"},this.buttons=[{label:"Edit",icon:"edit",action:d=>{console.log("Editing",d),this.selectedData=d,this.onEdit()}}]}onNew(){this._matDialog.open(ie,{autoFocus:!1,data:{edit:!1},maxHeight:"90vh",width:"50%",maxWidth:"100%",disableClose:!0})}onEdit(){this._matDialog.open(ie,{autoFocus:!1,data:{edit:!0,data:this.selectedData},maxHeight:"90vh",width:"50%",maxWidth:"100%",disableClose:!0})}getEmpleados(){this.subcription$=this.empleadoService.getEmpleados().pipe(K(r=>(r.data.forEach(t=>{t.estado?t.estado=te.ACTIVO:t.estado=te.INACTIVO}),r)),K(r=>(r.data.forEach(t=>{t&&(t.nombreCompleto=t.primerNombre.concat(" ",t.segundoNombre?t.segundoNombre+" ":"",t.primerApellido," ",t.segundoApellido))}),r))).subscribe(r=>{this.data=r.data})}listenGrid(){this.estadoDatosService.stateGrid.asObservable().subscribe(t=>{t&&this.getEmpleados()})}ngOnDestroy(){this.subcription$.unsubscribe()}ngOnInit(){this.getEmpleados(),this.listenGrid()}};o.\u0275fac=function(t){return new(t||o)(R(he),R(Y),R(J))},o.\u0275cmp=O({type:o,selectors:[["app-grid-empleados"]],standalone:!0,features:[z],decls:15,vars:11,consts:[[1,"bg-card","flex","min-w-0","flex-auto","flex-col","dark:bg-transparent","sm:absolute","sm:inset-0","sm:overflow-hidden"],[1,"relative","flex","flex-0","flex-col","border-b","px-6","py-8","sm:flex-row","sm:items-center","sm:justify-between","md:px-8"],[1,"text-3xl","font-semibold","tracking-tight"],[1,"mt-6","flex","shrink-0","items-center","sm:ml-4","sm:mt-0"],[1,"fuse-mat-dense","rounded-lg","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","placeholder"],["mat-flat-button","",1,"ml-4","bg-crediblue-50","rounded-lg","transition","duration-200","text-white","font-semibold",3,"click","color"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-auto","flex-col","overflow-hidden","sm:mb-18","sm:overflow-y-auto"],[3,"columns","displayedColumns","columnPropertyMap","data","buttons"]],template:function(t,l){t&1&&(m(0,"div",0)(1,"div",1)(2,"div",2),p(3,"Trabajadores"),i(),m(4,"div",3)(5,"mat-form-field",4),c(6,"mat-icon",5)(7,"input",6),i(),m(8,"button",7),D("click",function(){return l.onNew()}),c(9,"mat-icon",8),m(10,"span",9),p(11,"Agregar"),i()()()(),m(12,"div",10)(13,"div",11),c(14,"app-custom-table",12),i()()()),t&2&&(a(5),n("subscriptSizing","dynamic"),a(),n("svgIcon","heroicons_solid:magnifying-glass"),a(),n("autocomplete","off")("placeholder","Buscar"),a(),n("color","primary"),a(),n("svgIcon","heroicons_outline:plus"),a(5),n("columns",l.columns)("displayedColumns",l.columns)("columnPropertyMap",l.columnPropertyMap)("data",l.data)("buttons",l.buttons))},dependencies:[ke,Z,L,U,W]});let e=o;return e})();var fi=[{path:"",component:Je}];export{fi as default};
