import{a as W}from"./chunk-ZYTB6Z7O.js";import{a as Q}from"./chunk-VXRXNV4H.js";import{a as v}from"./chunk-6IEWE3OU.js";import"./chunk-AVIANEB4.js";import{a as K}from"./chunk-OFEOPKCC.js";import{a as J}from"./chunk-UHDIKLYJ.js";import"./chunk-CHOSRW5W.js";import"./chunk-33XTDNRI.js";import{c as G}from"./chunk-JND367CQ.js";import{h as B}from"./chunk-7U4JZNVG.js";import{C as z,s as H,z as q}from"./chunk-JLNARVDU.js";import{fa as N,ja as L}from"./chunk-DARKUWJB.js";import"./chunk-75YALSW6.js";import"./chunk-EENLYY7H.js";import{a as U}from"./chunk-HHDBYFMG.js";import{b as V,d as S,e as R}from"./chunk-DJAHQBBJ.js";import{f as y,g as k,j as u,l as h,r as A}from"./chunk-NP3GUERB.js";import{$ as j,Cb as i,Db as r,Eb as b,Fb as M,Gb as _,Qb as F,Yb as n,Za as s,Zb as m,_a as D,dc as P,ea as I,ec as g,fa as l,fc as O,ka as x,mc as C,nc as T,oc as $,pb as c,q as f,rb as p}from"./chunk-32HXX3OB.js";import"./chunk-NEB6MB4Y.js";var E=(()=>{let o=class o{constructor(t,e){this._http=t,this.appSettings=e}getCobros(){return this._http.get(this.appSettings.cobroTrabajadores.url.base)}getCobroEmpleado(t){return this._http.get(`${this.appSettings.cobroTrabajadores.url.base}/${t}`)}getCobrosGrid(t){return this._http.get(`${this.appSettings.cobroTrabajadores.url.baseTabla}/${t}`)}getCobroTrabajador(){return this._http.get(this.appSettings.cobroTrabajadores.url.baseCard)}};o.\u0275fac=function(e){return new(e||o)(I(A),I(U))},o.\u0275prov=j({token:o,factory:o.\u0275fac,providedIn:"root"});let a=o;return a})();function ee(a,o){if(a&1&&(M(0),i(1,"fuse-card",6),b(2,"div",7),i(3,"div",8)(4,"div",9)(5,"span",10),n(6,"Fecha:"),r(),i(7,"span",11),n(8),r()(),i(9,"div",9)(10,"span",10),n(11,"Valor:"),r(),i(12,"span",11),n(13),r()(),i(14,"div",9)(15,"span",10),n(16,"Cuota:"),r(),i(17,"span",11),n(18),r()(),i(19,"div",9)(20,"span",10),n(21,"Estado:"),r(),i(22,"span",11),n(23),r()()()(),_()),a&2){let d=o.$implicit;s(8),m(d.fechaCobro),s(5),m(d.montoCuota),s(5),m(d.numCuota),s(5),m(d.nombreEstadoCredito)}}var Y=(()=>{let o=class o{constructor(t){this._matDialog=t,this.datePipe=l(u),this.router=l(S),this.estadoDatosService=l(K),this.currencyPipe=l(h),this.cobroTrabadorService=l(E),this.estadoCreditosService=l(W),this.fb=l(q),this.estados=new H([""]),this.data=[],this.buttons=[{label:"View",icon:"visibility",action:e=>{console.log("Editing",e),this.selectedData=e,this.router.navigate(["pages/gestion-cobros/cobros/cobro",this.selectedData.idTrabajador])}}]}cobros(){this.subcription$=this.cobroTrabadorService.getCobroTrabajador().pipe(f(t=>(t.data.forEach(e=>{e.estado?e.estado=v.ACTIVO:e.estado=v.INACTIVO}),t)),f(t=>(t.data.forEach(e=>{e.fechaCobro=this.datePipe.transform(e.fechaCobro,"dd/MM/yyyy"),e.deudaTotal=this.currencyPipe.transform(e.deudaTotal,"USD","symbol","1.2-2"),e.montoCuota=this.currencyPipe.transform(e.montoCuota,"USD","symbol","1.2-2")}),t))).subscribe(t=>{t?this.data=t.data:this.data=[]},t=>{this.data=[]})}getCobros(){this.subcription$=this.cobroTrabadorService.getCobros().pipe(f(t=>(t.data.forEach(e=>{e.estado?e.estado=v.ACTIVO:e.estado=v.INACTIVO}),t)),f(t=>(t.data.forEach(e=>{e.fechaCobro=this.datePipe.transform(e.fechaCobro,"dd/MM/yyyy"),e.valorPendiente=this.currencyPipe.transform(e.valorPendiente,"USD","symbol","1.2-2"),e.valorPago=e.valorPago?this.currencyPipe.transform(e.valorPago,"USD","symbol","1.2-2"):"-"}),t))).subscribe(t=>{t?this.data=t.data:this.data=[]},t=>{this.data=[]})}listenGrid(){this.estadoDatosService.stateGrid.asObservable().subscribe(e=>{})}ngOnDestroy(){this.subcription$.unsubscribe()}ngOnInit(){this.listenGrid(),this.cobros()}};o.\u0275fac=function(e){return new(e||o)(D(G))},o.\u0275cmp=x({type:o,selectors:[["app-grid-cobros-empleados"]],standalone:!0,features:[P([u,h]),g],decls:7,vars:1,consts:[[1,"bg-card","flex","min-w-0","flex-auto","flex-col","dark:bg-transparent","sm:absolute","sm:inset-0","sm:overflow-hidden"],[1,"relative","flex","flex-0","flex-col","border-b","px-6","py-8","sm:flex-row","sm:items-center","sm:justify-between","md:px-8"],[1,"text-3xl","font-semibold","tracking-tight"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-auto","flex-row","flex-wrap","gap-2.5","justify-center","overflow-hidden","sm:overflow-y-auto","bg-gray-100","sm:p-2"],[4,"ngFor","ngForOf"],[1,"filter-list","flex","w-full","max-w-80","flex-col","p-8","pt-6","mt-2","shadow-lg","rounded-lg",2,"height","50%"],[1,"flex","justify-center","pb-4","mb-4"],[1,"space-y-4"],[1,"flex","justify-between","items-center"],[1,"font-medium","text-gray-600"],[1,"text-md","text-secondary"]],template:function(e,w){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),n(3,"Pagos pendientes"),r()(),i(4,"div",3)(5,"div",4),c(6,ee,24,4,"ng-container",5),r()()()),e&2&&(s(6),p("ngForOf",w.data))},dependencies:[y,z,Q]});let a=o;return a})();var te=()=>["/pages/gestion-cobros/cobros"];function ie(a,o){if(a&1&&(i(0,"div",13),b(1,"mat-divider"),i(2,"div",14)(3,"div")(4,"h3",15),n(5,"Fecha de compra"),r()(),i(6,"p",16),n(7),C(8,"date"),r()(),i(9,"div",14)(10,"div")(11,"h3",15),n(12,"Valor pendiente"),r()(),i(13,"p",16),n(14),C(15,"currency"),r()(),i(16,"div",17)(17,"p",15),n(18,"Valor cuota"),r(),i(19,"p",16),n(20),C(21,"currency"),r()(),i(22,"div",18)(23,"p",15),n(24,"Cantidad cuotas"),r(),i(25,"p",16),n(26),r()(),i(27,"div",19)(28,"p",15),n(29,"Estado "),r(),i(30,"p",16),n(31),r()()()),a&2){let d=o.$implicit;s(7),m($(8,5,d.fechaCobro,"dd/MM/yyyy")),s(7),m(T(15,8,d.valorPendiente)),s(6),m(T(21,10,d.montoCuota)),s(6),m(d.numCuota),s(5),m(d.nombreEstadoCredito)}}function oe(a,o){if(a&1&&(i(0,"div",10)(1,"div",11),c(2,ie,32,12,"div",12),r()()),a&2){let d=F(2);s(2),p("ngForOf",d.detalle)}}function re(a,o){if(a&1&&(i(0,"div",8),c(1,oe,3,1,"div",9),r()),a&2){let d=F();s(),p("ngIf",d.detalle)}}var Z=(()=>{let o=class o{constructor(){this.router=l(S),this.activatedRoute=l(V),this.cobroTrabadorService=l(E),this.idCredito=""}ngOnDestroy(){}ngOnInit(){this.idCredito=this.activatedRoute.snapshot.paramMap.get("id"),this.getDetalle(this.idCredito)}getDetalle(t){this.subcription$=this.cobroTrabadorService.getCobroEmpleado(t).subscribe(e=>{console.log(e),this.detalle=e.data})}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=x({type:o,selectors:[["app-form-cobros-empleados"]],standalone:!0,features:[g],decls:10,vars:4,consts:[["cdkScrollable","",1,"absolute","inset-0","min-w-0","overflow-auto","print:overflow-visible"],[1,"inline-block","p-6","sm:p-10","print:p-0","w-full"],[1,"bg-card","shadow","print:bg-transparent","print:p-0","print:shadow-none","rounded-2xl","max-w-xl","mx-auto","overflow-hidden"],[1,"bg-crediblue-50","px-6","py-4","flex","items-center","justify-between"],["mat-button","",1,"flex","items-center",3,"routerLink"],[1,"text-white",3,"svgIcon"],[1,"text-xl","font-bold","text-white"],["class","p-6",4,"ngIf"],[1,"p-6"],["class","w-full h-full px-4",4,"ngIf"],[1,"w-full","h-full","px-4"],[1,"max-w-2xl","mx-auto","p-4","bg-white","shadow-lg","rounded-lg"],["class","space-y-4 mb-12",4,"ngFor","ngForOf"],[1,"space-y-4","mb-12"],[1,"flex","justify-between","items-center","border-b","pb-2"],[1,"text-lg","font-semibold","text-gray-700"],[1,"text-lg","font-bold","text-gray-800"],[1,"flex","justify-between","items-center"],[1,"flex","justify-between","items-center","pt-4","border-t"],[1,"flex","justify-between","items-center","border-t","pt-4"]],template:function(e,w){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),b(6,"mat-icon",5),r()(),i(7,"h2",6),n(8,"Cobro trabajadores"),r()(),c(9,re,2,1,"div",7),r()()()),e&2&&(s(5),p("routerLink",O(3,te)),s(),p("svgIcon","heroicons_outline:arrow-long-left"),s(3),p("ngIf",w.detalle))},dependencies:[B,h,u,N,L,k,R,y,J]});let a=o;return a})();var Re=[{path:"",component:Y},{path:"cobro/:id",component:Z}];export{Re as default};
