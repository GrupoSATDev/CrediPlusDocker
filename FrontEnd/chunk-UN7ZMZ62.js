import{a as st}from"./chunk-3OXK5LTM.js";import{a as Xe}from"./chunk-SYI5A7I2.js";import{a as et}from"./chunk-3UDRACIS.js";import{a as tt,b as it,d as nt}from"./chunk-LNHWWLZE.js";import{b as lt}from"./chunk-PEZYCTDT.js";import{a as ot,b as at,c as rt}from"./chunk-PY6MPHVW.js";import{a as pe}from"./chunk-Z2MQWE4K.js";import{a as We}from"./chunk-HTL4QT5Y.js";import{a as Qe,b as Je,c as Ke}from"./chunk-B7LJFNKT.js";import{a as ce,b as ue}from"./chunk-DNIDWOKC.js";import{a as x}from"./chunk-6IEWE3OU.js";import{a as fe}from"./chunk-ACIMG2KZ.js";import{a as Ze}from"./chunk-FMZRTJU7.js";import{a as de,b as me}from"./chunk-2RSQTUPN.js";import{a as H}from"./chunk-OFEOPKCC.js";import{a as Ye}from"./chunk-33XTDNRI.js";import"./chunk-CHOSRW5W.js";import{g as G}from"./chunk-QS2WZY2K.js";import{a as ke,b as Ve,c as Ne,d as Oe}from"./chunk-JND367CQ.js";import{h as oe}from"./chunk-7U4JZNVG.js";import{B as $,C as le,G as L,b as ae,c as Pe,e as je,i as R,l as ne,n as he,p as se,q as Ge,s as $e,u as Le,v as He,w as qe,x as ze,z as Ue}from"./chunk-JLNARVDU.js";import{$ as Me,Q as te,R as ie,ea as B,fa as re,ja as T,k as ge}from"./chunk-DARKUWJB.js";import{a as Be}from"./chunk-75YALSW6.js";import"./chunk-EENLYY7H.js";import{a as Re}from"./chunk-PDEGUYSW.js";import{b as X,d as j,e as ee}from"./chunk-DJAHQBBJ.js";import{e as K,f as W,g as A,j as g,l as E,r as Fe}from"./chunk-NP3GUERB.js";import{$ as Ee,$b as Q,Cb as t,Db as a,Eb as f,Fb as y,Gb as _,Ib as O,Ob as w,Qb as b,Rb as De,Sb as U,Xb as xe,Yb as n,Za as s,Zb as c,_b as P,dc as I,ea as ve,ec as S,fa as p,fc as J,hc as Ae,ic as Te,ka as C,mc as v,nc as k,oc as D,pb as u,q as h,rb as d,ta as we,ua as V,va as N,vb as Ie,yb as Z}from"./chunk-32HXX3OB.js";import{a as z,d as _e}from"./chunk-NEB6MB4Y.js";var q=(()=>{let l=class l{constructor(r,i){this._http=r,this.appSettings=i}getCreditos(r){return this._http.get(`${this.appSettings.creditos.url.base}/${r}`)}getCredito(r){return this._http.get(`${this.appSettings.creditos.url.base}/${r}`)}putCredito(r){let i=r.id;return delete r.id,this._http.put(`${this.appSettings.creditos.url.base}/${i}`,r)}};l.\u0275fac=function(i){return new(i||l)(ve(Fe),ve(Re))},l.\u0275prov=Ee({token:l,factory:l.\u0275fac,providedIn:"root"});let e=l;return e})();var F=function(e){return e.EN_PROCESO="EnProceso",e.BLOQUEADO="Bloqueado",e.VENCIDO="Vencido",e.EN_REVISION="EnRevision",e.CERRADO="Cerrado",e.APROBADO="Aprobado",e}(F||{}),Ce=function(e){return e.APROBADO="e626ea69-e915-5462-be9a-905326714782",e.RECHAZADA="",e}(Ce||{});function gt(e,l){if(e&1&&(y(0),f(1,"app-custom-table",17),_()),e&2){let o=b(2);s(),d("columns",o.columns)("displayedColumns",o.columns)("columnPropertyMap",o.columnPropertyMap)("data",o.data)("buttons",o.buttons)}}function ht(e,l){if(e&1&&u(0,gt,2,5,"ng-container",16),e&2){let o=b();d("ngIf",o.data.length)}}function Ct(e,l){if(e&1&&(y(0),f(1,"app-custom-table",17),_()),e&2){let o=b(2);s(),d("columns",o.columnsAprobadas)("displayedColumns",o.columnsAprobadas)("columnPropertyMap",o.columnPropertyAprobadas)("data",o.data)("buttons",o.buttonsView)}}function St(e,l){if(e&1&&u(0,Ct,2,5,"ng-container",16),e&2){let o=b();d("ngIf",o.data.length)}}function yt(e,l){if(e&1&&(y(0),f(1,"app-custom-table",17),_()),e&2){let o=b(2);s(),d("columns",o.columnsAprobadas)("displayedColumns",o.columnsAprobadas)("columnPropertyMap",o.columnPropertyAprobadas)("data",o.data)("buttons",o.buttons)}}function _t(e,l){if(e&1&&u(0,yt,2,5,"ng-container",16),e&2){let o=b();d("ngIf",o.data.length)}}function Et(e,l){if(e&1&&(y(0),f(1,"app-custom-table",17),_()),e&2){let o=b(2);s(),d("columns",o.columnsAprobadas)("displayedColumns",o.columnsAprobadas)("columnPropertyMap",o.columnPropertyAprobadas)("data",o.data)("buttons",o.buttons)}}function wt(e,l){if(e&1&&u(0,Et,2,5,"ng-container",16),e&2){let o=b();d("ngIf",o.data.length)}}var dt=(()=>{let l=class l{constructor(){this.datePipe=p(g),this.router=p(j),this.estadoDatosService=p(H),this.creditoService=p(q),this.selectedTab=F.EN_REVISION,this.currencyPipe=p(E),this.data=[],this.columns=["Fecha de solicitud","Solicitante","Cupo solicitado","Empresa","Estado"],this.columnsAprobadas=["Fecha de aprobaci\xF3n","Solicitante","Cupo aprobado","Empresa","Estado"],this.columnPropertyMap={"Fecha de solicitud":"fechaCreacion",Solicitante:"nombreTrabajador","Cupo solicitado":"cupoSolicitado",Empresa:"nombreEmpresaMaestra",Estado:"nombreEstadoCredito"},this.columnPropertyAprobadas={"Fecha de aprobaci\xF3n":"fechaAprobacion",Solicitante:"nombreTrabajador","Cupo aprobado":"cupoAprobado",Empresa:"nombreEmpresaMaestra",Estado:"nombreEstadoCredito"},this.buttons=[{label:"View",icon:"visibility",action:r=>{console.log("Approve",r),this.selectedData=r,this.router.navigate(["pages/gestion-creditos/creditos/detalle",this.selectedData.id])}}],this.buttonsView=[{label:"View",icon:"visibility",action:r=>{console.log("Approve",r),this.selectedData=r,this.router.navigate(["pages/gestion-creditos/creditos/view-detalle",this.selectedData.id])}}],this.tabChanged=r=>{console.log("tabChangeEvent => ",r),console.log("index => ",r.index),this.selectedTab=r.index==0?F.EN_REVISION:r.index==1?F.APROBADO:r.index==2?F.VENCIDO:r.index==3?F.BLOQUEADO:F.EN_REVISION,this.getCreditos(this.selectedTab)}}getCreditos(r){this.subcription$=this.creditoService.getCreditos(r).pipe(h(i=>(i.data.forEach(m=>{m.estado?m.estado=x.ACTIVO:m.estado=x.INACTIVO}),i)),h(i=>(i.data.forEach(m=>{m.fechaCreacion=this.datePipe.transform(m.fechaCreacion,"dd/MM/yyyy"),m.fechaAprobacion=this.datePipe.transform(m.fechaAprobacion,"dd/MM/yyyy"),m.cupoAprobado=this.currencyPipe.transform(m.cupoAprobado,"USD","symbol","1.2-2")}),i))).subscribe(i=>{i?this.data=i.data:this.data=[]},i=>{this.data=[]})}listenGrid(){this.estadoDatosService.stateGrid.asObservable().subscribe(i=>{i&&this.getCreditos(this.selectedTab)})}ngOnDestroy(){this.subcription$.unsubscribe()}ngOnInit(){this.getCreditos(this.selectedTab),this.listenGrid()}};l.\u0275fac=function(i){return new(i||l)},l.\u0275cmp=C({type:l,selectors:[["app-grid-creditos"]],standalone:!0,features:[I([g,E]),S],decls:20,vars:5,consts:[["tabGroup",""],[1,"bg-card","flex","min-w-0","flex-auto","flex-col","dark:bg-transparent","sm:absolute","sm:inset-0","sm:overflow-hidden"],[1,"relative","flex","flex-0","flex-col","border-b","px-6","py-8","sm:flex-row","sm:items-center","sm:justify-between","md:px-8"],[1,"text-3xl","font-semibold","tracking-tight"],[1,"mt-6","flex","w-full","shrink-0","flex-col","items-center","sm:ml-4","sm:mt-0","sm:flex-row","sm:space-x-2","sm:w-auto"],[1,"fuse-mat-dense","rounded-lg","w-full","sm:w-auto","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","placeholder"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-auto","flex-col","overflow-hidden","sm:mb-18","sm:overflow-y-auto"],["mat-stretch-tabs","false",1,"sm:px-2",3,"selectedTabChange","animationDuration"],["label","En revisi\xF3n"],["matTabContent",""],["label","Aprobado"],["label","Vencido"],["label","Bloqueado"],[4,"ngIf"],[3,"columns","displayedColumns","columnPropertyMap","data","buttons"]],template:function(i,m){if(i&1){let M=O();t(0,"div",1)(1,"div",2)(2,"div",3),n(3,"Cr\xE9ditos"),a(),t(4,"div",4)(5,"mat-form-field",5),f(6,"mat-icon",6)(7,"input",7),a()()(),t(8,"div",8)(9,"div",9)(10,"mat-tab-group",10,0),w("selectedTabChange",function(be){return V(M),N(m.tabChanged(be))}),t(12,"mat-tab",11),u(13,ht,1,1,"ng-template",12),a(),t(14,"mat-tab",13),u(15,St,1,1,"ng-template",12),a(),t(16,"mat-tab",14),u(17,_t,1,1,"ng-template",12),a(),t(18,"mat-tab",15),u(19,wt,1,1,"ng-template",12),a()()()()()}i&2&&(s(5),d("subscriptSizing","dynamic"),s(),d("svgIcon","heroicons_solid:magnifying-glass"),s(),d("autocomplete","off")("placeholder","Buscar"),s(3),d("animationDuration","500"))},dependencies:[Ze,R,T,L,at,ot,rt,A]});let e=l;return e})();var Dt=()=>["/pages/gestion-creditos/creditos"];function At(e,l){if(e&1&&(t(0,"mat-option",27),n(1),a()),e&2){let o=l.$implicit;d("value",o.id),s(),c(o.nombre)}}function Tt(e,l){if(e&1&&(t(0,"mat-option",27),n(1),a()),e&2){let o=l.$implicit;d("value",o.id),s(),c(o.detalleInversion+" - "+o.rubroInversion)}}function Ft(e,l){if(e&1&&(t(0,"mat-option",27),n(1),a()),e&2){let o=l.$implicit;d("value",o.id),s(),c(o.porcentaje)}}function Mt(e,l){if(e&1){let o=O();t(0,"div",10)(1,"div",11)(2,"div")(3,"h3",12),n(4),a(),t(5,"p",13),n(6,"Identificaci\xF3n: "),t(7,"span",14),n(8),a()(),t(9,"p",13),n(10,"Empresa: "),t(11,"span",14),n(12),a()(),t(13,"p",15),n(14,"Cargo: "),t(15,"span",14),n(16),a()(),t(17,"p",13),n(18,"Correo: "),t(19,"span",14),n(20),a()(),t(21,"p",13),n(22,"Direcci\xF3n: "),t(23,"span",14),n(24),a()(),t(25,"p",13),n(26,"Tel\xE9fono: "),t(27,"span",14),n(28),a()()(),t(29,"div")(30,"p",13),n(31,"N\xFAmero de solicitud: #12345"),a(),t(32,"p",13),n(33,"Cupo solicitado: "),t(34,"span",14),n(35),v(36,"currency"),a()(),t(37,"p",13),n(38,"Fecha de Solicitud: "),t(39,"span",14),n(40),v(41,"date"),a()()()(),f(42,"hr"),t(43,"div")(44,"p",16),n(45,"Informaci\xF3n de Cr\xE9dito"),a(),t(46,"form",17)(47,"mat-form-field",18)(48,"mat-label"),n(49,"Tipo de pago"),a(),t(50,"mat-select",19),u(51,At,2,2,"mat-option",20),a()(),t(52,"mat-form-field",18)(53,"mat-label"),n(54,"Capital de inversi\xF3n"),a(),t(55,"mat-select",19),u(56,Tt,2,2,"mat-option",20),a()(),t(57,"mat-form-field",18)(58,"mat-label"),n(59,"Tasa de interes"),a(),t(60,"mat-select",19),u(61,Ft,2,2,"mat-option",20),a()(),t(62,"mat-form-field",18)(63,"mat-label"),n(64,"Cantidad de cuotas"),a(),f(65,"input",21),a(),t(66,"mat-form-field",18)(67,"mat-label"),n(68,"Cupo aprobado"),a(),f(69,"input",21),a(),t(70,"mat-form-field",18)(71,"mat-label"),n(72,"Fecha de vencimiento"),a(),f(73,"input",22)(74,"mat-datepicker-toggle",23)(75,"mat-datepicker",null,0),a(),t(77,"mat-form-field",18)(78,"mat-label"),n(79,"Fecha de corte"),a(),f(80,"input",22)(81,"mat-datepicker-toggle",23)(82,"mat-datepicker",null,1),a()()(),y(84),t(85,"div",24)(86,"button",25),n(87," Rechazar "),a(),t(88,"button",26),w("click",function(){V(o);let i=b();return N(i.onSave())}),n(89," Aprobar "),a()(),_(),a()}if(e&2){let o=xe(76),r=xe(83),i=b();s(4),Q("",i.items.trabajador.primerNombre," ",i.items.trabajador.segundoNombre," ",i.items.trabajador.primerApellido," ",i.items.trabajador.segundoApellido," "),s(4),c(i.items.trabajador.numDoc),s(4),c(i.items.nombreSubEmpresa),s(4),c(i.items.trabajador.cargo),s(4),c(i.items.trabajador.correo),s(4),c(i.items.trabajador.direccion),s(4),c(i.items.trabajador.telefono),s(7),c(k(36,27,i.items.cupoSolicitado)),s(5),c(D(41,29,i.items.fechaCreacion,"dd/MM/yyyy")),s(6),d("formGroup",i.form),s(4),d("formControlName","idTipoPago"),s(),d("ngForOf",i.data),s(4),d("formControlName","idCapitalInversion"),s(),d("ngForOf",i.capital),s(4),d("formControlName","idTasaInteres"),s(),d("ngForOf",i.tasas),s(4),d("formControlName","cantCuotas"),s(4),d("formControlName","cupoAprobado"),s(4),d("matDatepicker",o)("formControlName","fechaVencimiento"),s(),d("for",o),s(6),d("matDatepicker",r)("formControlName","fechaCorte"),s(),d("for",r)}}var kt={validation:!1},mt=(()=>{let l=class l{constructor(){this.toasService=p(me),this.fuseService=p(G),this.estadosDatosService=p(H),this.activatedRoute=p(X),this.creditoService=p(q),this.router=p(j),this.tiposPagos=p(Xe),this.capitalInversion=p(We),this.estadoCreditoService=p(st),this.tasaService=p(et),this.fb=p(Ue),this.datePipe=p(g),this.swalService=p(fe),this.data=[],this.capital=[],this.estadoCredito=[],this.tasas=[],this.idCredito="",this.CodigosEstadosSolicitudes=nt}ngOnInit(){this.idCredito=this.activatedRoute.snapshot.paramMap.get("id"),this.getCredito(this.idCredito),this.getTiposPagos(),this.getCapital(),this.getEstadoCredito(),this.getTasas(),this.createForm()}getCredito(r){this.subcription$=this.creditoService.getCredito(r).subscribe(i=>{this.items=i.data,this.detalleEmpleado=i.data})}getTiposPagos(){this.subcription$=this.tiposPagos.getTiposPagos().pipe(h(r=>(r.data.forEach(i=>{i.estado?i.estado=x.ACTIVO:i.estado=x.INACTIVO}),r))).subscribe(r=>{this.data=r.data})}getTasas(){this.subcription$=this.tasaService.getTass().pipe(h(r=>(r.data.forEach(i=>{i.estado?i.estado=x.ACTIVO:i.estado=x.INACTIVO}),r))).subscribe(r=>{this.tasas=r.data})}getEstadoCredito(){this.subcription$=this.estadoCreditoService.getEstadoCreditos().pipe(h(r=>(r.data.forEach(i=>{i.estado?i.estado=x.ACTIVO:i.estado=x.INACTIVO}),r))).subscribe(r=>{this.estadoCredito=r.data})}getCapital(){this.subcription$=this.capitalInversion.getCapitales().pipe(h(r=>(r.data.forEach(i=>{i.estado?i.estado=x.ACTIVO:i.estado=x.INACTIVO}),r))).subscribe(r=>{this.capital=r.data})}onSave(){if(this.form.valid){let r=this.form.getRawValue(),{fechaVencimiento:m,fechaCorte:M,cupoAprobado:Se}=r,be=_e(r,["fechaVencimiento","fechaCorte","cupoAprobado"]),ft=this.datePipe.transform(m,"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'"),bt=this.datePipe.transform(M,"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'"),ye=z({fechaVencimiento:ft,fechaCorte:bt,idEstadoCredito:Ce.APROBADO,cupoAprobado:Number(Se),id:this.idCredito},be);console.log(ye),this.fuseService.open(z({},de)).afterClosed().subscribe(vt=>{vt==="confirmed"&&this.creditoService.putCredito(ye).subscribe(xt=>{this.estadosDatosService.stateGrid.next(!0),this.swalService.ToastAler({icon:"success",title:"Registro creado con exito!",timer:4e3}),this.router.navigate(["/pages/gestion-creditos/creditos"])},xt=>{this.swalService.ToastAler({icon:"error",title:"Ha ocurrido un error al crear el registro!",timer:4e3})})})}}createForm(){this.form=this.fb.group({cupoAprobado:[""],idTipoPago:[""],idCapitalInversion:[""],idTasaInteres:[""],fechaVencimiento:[""],fechaCorte:[""],cantCuotas:[""]})}ngOnDestroy(){this.subcription$.unsubscribe()}};l.\u0275fac=function(i){return new(i||l)},l.\u0275cmp=C({type:l,selectors:[["app-form-detalle"]],standalone:!0,features:[I([{provide:ie,useClass:pe},{provide:te,useValue:"en-GB"},g,ce(kt)]),S],decls:10,vars:4,consts:[["picker",""],["fechaCorte",""],["cdkScrollable","",1,"absolute","inset-0","min-w-0","overflow-auto","print:overflow-visible"],[1,"inline-block","p-6","sm:p-10","print:p-0","w-full"],[1,"bg-card","shadow","print:bg-transparent","print:p-0","print:shadow-none","rounded-2xl","max-w-xl","mx-auto","overflow-hidden"],[1,"bg-crediblue-50","px-6","py-4","flex","items-center","justify-between"],["mat-button","",1,"flex","items-center",3,"routerLink"],[1,"text-white",3,"svgIcon"],[1,"text-xl","font-bold","text-white"],["class","p-6",4,"ngIf"],[1,"p-6"],[1,"mb-4","flex","justify-between"],[1,"text-lg","font-semibold","text-gray-800"],[1,"text-gray-600","font-bold"],[1,"text-gray-800"],[1,"text-gray-600","font-semibold"],[1,"text-lg","text-gray-600","font-bold","mb-10"],[3,"formGroup"],[1,"w-full"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["matInput","","mask","separator.0","thousandSeparator",".",3,"formControlName"],["matInput","",3,"matDatepicker","formControlName"],["matIconSuffix","",3,"for"],[1,"flex","justify-end","items-center","mt-7","gap-2.5"],["mat-flat-button","",1,"fuse-mat-button-large","bg-crediorange-100","text-white","font-semibold","py-2","px-4","rounded-lg","transition","duration-200"],["mat-flat-button","",1,"fuse-mat-button-large","bg-crediblue-50","hover:bg-crediblue-100","text-white","font-semibold","py-2","px-4","rounded-lg","transition","duration-200",3,"click"],[3,"value"]],template:function(i,m){i&1&&(t(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div")(5,"a",6),f(6,"mat-icon",7),a()(),t(7,"h2",8),n(8,"Detalle de Cr\xE9dito"),a()(),u(9,Mt,90,32,"div",9),a()()()),i&2&&(s(5),d("routerLink",J(3,Dt)),s(),d("svgIcon","heroicons_outline:arrow-long-left"),s(3),d("ngIf",m.items))},dependencies:[oe,re,T,ee,A,E,g,B,R,ae,Me,Ye,W,$,Le,ne,se,Ge,L,Qe,Je,Ke,je,le,qe,ze,ue]});let e=l;return e})();var Vt=[[["","fuseCardFront",""]],[["","fuseCardBack",""]],"*",[["","fuseCardExpansion",""]]],Nt=["[fuseCardFront]","[fuseCardBack]","*","[fuseCardExpansion]"];function Ot(e,l){e&1&&(t(0,"div",0),U(1),a(),t(2,"div",1),U(3,1),a())}function Pt(e,l){e&1&&(t(0,"div",2),U(1,3),a()),e&2&&d("@expandCollapse",void 0)}function jt(e,l){if(e&1&&(U(0,2),u(1,Pt,2,1,"div",2)),e&2){let o=b();s(),Z(o.expanded?1:-1)}}var pt=(()=>{let l=class l{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"fuse-card-expanded":this.expanded,"fuse-card-face-back":this.flippable&&this.face==="back","fuse-card-face-front":this.flippable&&this.face==="front","fuse-card-flippable":this.flippable}}ngOnChanges(r){"expanded"in r&&(this.expanded=ge(r.expanded.currentValue)),"flippable"in r&&(this.flippable=ge(r.flippable.currentValue))}};l.\u0275fac=function(i){return new(i||l)},l.\u0275cmp=C({type:l,selectors:[["fuse-card"]],hostVars:2,hostBindings:function(i,m){i&2&&Ie(m.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["fuseCard"],standalone:!0,features:[we,S],ngContentSelectors:Nt,decls:2,vars:2,consts:[[1,"fuse-card-front"],[1,"fuse-card-back"],[1,"fuse-card-expansion"]],template:function(i,m){i&1&&(De(Vt),u(0,Ot,4,0)(1,jt,2,1)),i&2&&(Z(m.flippable?0:-1),s(),Z(m.flippable?-1:1))},styles:[`fuse-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;backface-visibility:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable .fuse-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}fuse-card.fuse-card-flippable .fuse-card-back{position:absolute;inset:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}
`],encapsulation:2,data:{animation:Be}});let e=l;return e})();var Rt=(e,l)=>({"bg-crediblue-50":e,"bg-credigray-100":l});function Bt(e,l){e&1&&(t(0,"mat-error"),n(1,"El valor es requerido!"),a())}function Gt(e,l){e&1&&(t(0,"mat-error"),n(1,"El valor ingresado no puede superar el cupo disponible!"),a())}var $t={validation:!1},ct=(()=>{let l=class l{constructor(){this._matData=p(Ve),this.swalService=p(fe),this.tipoSolicitudService=p(it),this.tipoSolicitud$=this.tipoSolicitudService.getTipos().pipe(h(r=>(this.idSolicitud=r.data[0].id,r))).subscribe(),this.cupo=new $e(""),this.fuseService=p(G),this.solicitudService=p(tt),this.dialogRef=p(ke)}validarCampo(){this.cupoAvance=this._matData.data.cupoAprobado-this._matData.data.cupoAprobado*20/100,this.cupo.setValidators(he.compose([he.required,Lt(this.cupoAvance)])),this.cupo.updateValueAndValidity()}onSave(){let r={cupo:Number(this.cupo.value),idTipoSolicitud:this.idSolicitud};this.fuseService.open(z({},de)).afterClosed().subscribe(m=>{m==="confirmed"?this.solicitudService.postSolicitudes(r).subscribe(M=>{this.swalService.ToastAler({icon:"success",title:"Registro creado con exito!",timer:4e3}),this.closeDialog()},M=>{this.swalService.ToastAler({icon:"info",title:M.error.errorMenssages[0],timer:6e3})}):this.closeDialog()})}closeDialog(){this.dialogRef.close()}ngOnInit(){this.validarCampo()}};l.\u0275fac=function(i){return new(i||l)},l.\u0275cmp=C({type:l,selectors:[["app-dialog-confirm-desembolso"]],standalone:!0,features:[I([ce($t)]),S],decls:25,vars:17,consts:[[1,"relative","flex","h-full","w-full","flex-col"],[1,"flex","flex-auto","flex-col","items-center","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],[1,"flex","h-10","w-10","flex-0","items-center","justify-center","rounded-full","sm:mr-4","bg-blue-100","text-blue-600","dark:bg-blue-600","dark:text-blue-50"],[3,"svgIcon"],[1,"flex","flex-col","items-center","space-y-1","text-center","sm:mt-0","sm:items-start","sm:pr-8","sm:text-left"],[1,"text-xl","font-medium","leading-6"],[1,"text-secondary"],[1,"mt-4","flex","flex-col","items-center","space-y-1","text-center","sm:mt-0","sm:items-start","sm:text-left"],[1,"w-full"],["matInput","","thousandSeparator",".","placeholder","Valor solicitado",3,"formControl","mask"],[4,"ngIf"],[1,"flex","items-center","justify-center","space-x-3","bg-gray-50","py-4","dark:bg-black","dark:bg-opacity-10","sm:justify-end"],["mat-stroked-button","",1,"fuse-mat-button-large","bg-crediorange-100","rounded-lg","transition","duration-200","text-white","font-semibold",3,"matDialogClose"],["mat-flat-button","",1,"fuse-mat-button-large","hover:bg-crediblue-100","text-white","font-semibold","py-2","px-4","rounded-lg","transition","duration-200",3,"click","color","matDialogClose","ngClass","disabled"]],template:function(i,m){i&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),f(3,"mat-icon",3),a(),t(4,"div",4)(5,"div",5),n(6," Confirmacion "),a(),t(7,"div",6),n(8," Tu cupo disponible para avance es de "),t(9,"b"),n(10),v(11,"currency"),a(),n(12,", puedes solicitar un valor menor o igual a este. "),a()()(),t(13,"div",7)(14,"mat-form-field",8)(15,"mat-label"),n(16,"Valor"),a(),f(17,"input",9),u(18,Bt,2,0,"mat-error",10)(19,Gt,2,0,"mat-error",10),a()(),t(20,"div",11)(21,"button",12),n(22," Cancelar "),a(),t(23,"button",13),w("click",function(){return m.onSave()}),n(24," Confirmar "),a()()()),i&2&&(s(3),d("svgIcon","heroicons_solid:question-mark-circle"),s(7),c(D(11,11,m.cupoAvance,"USD")),s(7),d("formControl",m.cupo)("mask","separator.0"),s(),d("ngIf",m.cupo.touched&&m.cupo.hasError("required")),s(),d("ngIf",(m.cupo.touched||m.cupo.dirty)&&m.cupo.hasError("notEqual")),s(2),d("matDialogClose","cancelled"),s(2),d("color","primary")("matDialogClose","confirmed")("ngClass",Ae(14,Rt,m.cupo.valid,m.cupo.invalid))("disabled",m.cupo.invalid))},dependencies:[$,ne,se,B,R,T,L,ae,Oe,le,He,A,Pe,E,ue,K]});let e=l;return e})();function Lt(e){return l=>{let o=l.value;return console.log(e),o>e?{notEqual:!0}:null}}var Ht=()=>["/pages/gestion-creditos/creditos"],qt=(e,l,o)=>({"bg-green-600":e,"bg-yellow-600":l,"bg-red-600":o});function zt(e,l){e&1&&(t(0,"p",17),n(1,"Movimientos"),a())}function Ut(e,l){if(e&1&&(y(0),t(1,"fuse-card",21)(2,"div",22)(3,"p",23),n(4),a(),t(5,"p",23),n(6),v(7,"date"),a()(),t(8,"div",22)(9,"p",23),n(10),a(),t(11,"p",24),n(12),v(13,"currency"),a()(),t(14,"div",22)(15,"p",23),n(16),a(),t(17,"p",23),n(18),a()(),t(19,"div",22)(20,"p",23),n(21),a()(),t(22,"div",25),f(23,"p",26),a()(),_()),e&2){let o=l.$implicit,r=b(3);s(4),c(o.nombreSubEmpresa),s(2),c(D(7,8,o.fechaCreacion,"dd/MM/yyyy")),s(4),P("Factura: ",o.numeroFactura,""),s(2),P("Valor: ",k(13,11,o.montoConsumo),""),s(4),P("Cuotas: ",o.cantidadCuotas,""),s(2),c(o.nombreEstadoCredito),s(3),P("Tipo: ",o.nombreTipoConsumo,""),s(2),d("ngClass",Te(13,qt,o.idEstadoCredito==r.CodigosDetalleConsumo.APROBADA,o.idEstadoCredito==r.CodigosDetalleConsumo.EN_REVISION,o.idEstadoCredito==r.CodigosDetalleConsumo.RECHAZADA))}}function Yt(e,l){if(e&1&&(t(0,"div",18)(1,"div",19),u(2,Ut,24,17,"ng-container",20),a()()),e&2){let o=b(2);s(2),d("ngForOf",o.items.detalleConsumos)}}function Zt(e,l){if(e&1){let o=O();t(0,"div",8)(1,"div",9)(2,"div")(3,"h3",10),n(4),a(),t(5,"p",11),n(6,"Identificaci\xF3n: "),t(7,"span",12),n(8),a()(),t(9,"p",11),n(10,"Empresa: "),t(11,"span",12),n(12),a()(),t(13,"p",11),n(14,"Cargo: "),t(15,"span",12),n(16),a()(),t(17,"p",11),n(18,"Correo: "),t(19,"span",12),n(20),a()(),t(21,"p",11),n(22,"Direcci\xF3n: "),t(23,"span",12),n(24),a()(),t(25,"p",11),n(26,"Tel\xE9fono: "),t(27,"span",12),n(28),a()()(),t(29,"div")(30,"p",11),n(31,"N\xFAmero de cr\xE9dito: "),t(32,"span",12),n(33),a()(),t(34,"p",11),n(35,"Cupo aprobado: "),t(36,"span",12),n(37),v(38,"currency"),a()(),t(39,"p",11),n(40,"Tasa de interes: "),t(41,"span",12),n(42),a()(),t(43,"p",11),n(44,"Fecha de aprobaci\xF3n: "),t(45,"span",12),n(46),v(47,"date"),a()(),t(48,"p",11),n(49,"Fecha de vencimiento: "),t(50,"span",12),n(51),v(52,"date"),a()(),t(53,"p",11),n(54,"Cupo utilizado: "),t(55,"span",12),n(56),v(57,"currency"),a()(),t(58,"p",11),n(59,"Saldo disponible: "),t(60,"span",12),n(61),v(62,"currency"),a()(),t(63,"button",13),w("click",function(){V(o);let i=b();return N(i.onSolicitud())}),n(64," Solicitar avance "),a()()(),f(65,"hr",14),u(66,zt,2,0,"p",15)(67,Yt,3,1,"div",16),a()}if(e&2){let o=b();s(4),Q("",o.items.trabajador.primerNombre," ",o.items.trabajador.segundoNombre," ",o.items.trabajador.primerApellido," ",o.items.trabajador.segundoApellido," "),s(4),c(o.items.trabajador.numDoc),s(4),c(o.items.nombreSubEmpresa),s(4),c(o.items.trabajador.cargo),s(4),c(o.items.trabajador.correo),s(4),c(o.items.trabajador.direccion),s(4),c(o.items.trabajador.telefono),s(5),c(o.items.numCredito),s(4),c(k(38,19,o.items.cupoAprobado)),s(5),P("",o.items.porcTasaInteres,"%"),s(4),c(D(47,21,o.items.fechaAprobacion,"dd/MM/yyyy")),s(5),c(D(52,24,o.items.fechaVencimiento,"dd/MM/yyyy")),s(5),c(k(57,27,o.items.cupoConsumido)),s(5),c(k(62,29,o.items.cupoDisponible)),s(5),d("ngIf",o.items.detalleConsumos),s(),d("ngIf",o.items.detalleConsumos)}}var ut=(()=>{let l=class l{constructor(){this.toasService=p(me),this.fuseService=p(G),this.estadosDatosService=p(H),this.activatedRoute=p(X),this.creditoService=p(q),this.router=p(j),this.datePipe=p(g),this.data=[],this.capital=[],this.estadoCredito=[],this.tasas=[],this.idCredito="",this._matDialog=p(Ne),this.CodigosDetalleConsumo=lt}ngOnDestroy(){this.subcription$.unsubscribe()}onSolicitud(){this._matDialog.open(ct,{data:{data:this.items},width:"30%",disableClose:!0})}ngOnInit(){this.idCredito=this.activatedRoute.snapshot.paramMap.get("id"),this.getCredito(this.idCredito)}getCredito(r){this.subcription$=this.creditoService.getCredito(r).subscribe(i=>{this.items=i.data})}};l.\u0275fac=function(i){return new(i||l)},l.\u0275cmp=C({type:l,selectors:[["app-form-view-detalle"]],standalone:!0,features:[I([{provide:ie,useClass:pe},{provide:te,useValue:"en-GB"},g]),S],decls:10,vars:4,consts:[["cdkScrollable","",1,"absolute","inset-0","min-w-0","overflow-auto","print:overflow-visible"],[1,"inline-block","p-4","sm:p-8","print:p-0","w-full"],[1,"bg-card","shadow","print:bg-transparent","print:p-0","print:shadow-none","rounded-2xl","mx-auto","overflow-hidden","w-full","max-w-5xl"],[1,"bg-crediblue-50","px-6","py-4","flex","items-center","justify-between"],["mat-button","",1,"flex","items-center",3,"routerLink"],[1,"text-white",3,"svgIcon"],[1,"text-lg","sm:text-xl","font-bold","text-white"],["class","p-4 sm:p-6",4,"ngIf"],[1,"p-4","sm:p-6"],[1,"mb-4","grid","grid-cols-1","md:grid-cols-2","gap-4","justify-items-stretch","lg:justify-items-center"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-800"],[1,"text-gray-600","font-bold"],[1,"text-gray-800"],["mat-flat-button","",1,"lg:w-auto","w-full","mt-4","bg-green-600","transition","duration-200","text-white","font-semibold","rounded-lg","md:w-auto",3,"click"],[1,"my-4"],["class","text-lg text-black font-bold mb-6",4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"text-lg","text-black","font-bold","mb-6"],[1,"mb-4"],[1,"flex","flex-wrap","gap-2.5","justify-center"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","p-4","rounded-2xl","shadow-lg","w-full","md:w-1/2","lg:w-1/3"],[1,"flex","justify-between"],[1,"text-gray-800","font-semibold"],[1,"text-gray-800","font-bold"],[1,"w-full","mt-2"],[1,"h-2.5","rounded-full",3,"ngClass"]],template:function(i,m){i&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),f(6,"mat-icon",5),a()(),t(7,"h2",6),n(8,"Detalle de Cr\xE9dito"),a()(),u(9,Zt,68,31,"div",7),a()()()),i&2&&(s(5),d("routerLink",J(3,Ht)),s(),d("svgIcon","heroicons_outline:arrow-long-left"),s(3),d("ngIf",m.items))},dependencies:[oe,E,g,$,re,B,T,W,A,ee,pt,K]});let e=l;return e})();var qo=[{path:"",component:dt},{path:"detalle/:id",component:mt},{path:"view-detalle/:id",component:ut}];export{qo as default};
