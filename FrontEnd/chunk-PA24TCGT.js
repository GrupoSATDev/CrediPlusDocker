import{a as de}from"./chunk-GRKLFZM5.js";import{a as fe}from"./chunk-Z2MQWE4K.js";import{a as se,b as pe,c as ce}from"./chunk-B7LJFNKT.js";import{a as ue}from"./chunk-DNIDWOKC.js";import{a as me}from"./chunk-FMZRTJU7.js";import{a as le}from"./chunk-33XTDNRI.js";import"./chunk-CHOSRW5W.js";import{a as U,b as J,c as K}from"./chunk-JND367CQ.js";import"./chunk-7U4JZNVG.js";import{C as ne,G as S,b as Q,e as W,i as b,l as Z,n as C,p as ee,q as te,u as ie,w as oe,x as ae,z as re}from"./chunk-JLNARVDU.js";import{$ as H,Q as $,R as q,ea as x,ja as X}from"./chunk-DARKUWJB.js";import"./chunk-EENLYY7H.js";import{a as Y}from"./chunk-R6MMTTVC.js";import{f as B,g as L,i as z,j as f,l as _,r as R}from"./chunk-NP3GUERB.js";import{$ as k,Cb as r,Db as n,Eb as c,Fb as P,Gb as N,Ib as T,Ob as h,X as A,Xb as D,Yb as s,Za as t,Zb as O,_b as G,dc as v,ea as M,ec as y,fa as p,ka as g,mc as j,nc as V,pb as F,rb as i,ua as E,va as I}from"./chunk-32HXX3OB.js";import"./chunk-NEB6MB4Y.js";var he=(()=>{let e=class e{constructor(l,o){this._http=l,this.appSettings=o}getAliados(){return this._http.get(`${this.appSettings.pagoAliados.url.base}/Tabla`)}};e.\u0275fac=function(o){return new(o||e)(M(R),M(Y))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let a=e;return a})();function be(a,e){if(a&1&&(r(0,"mat-option",16),s(1),n()),a&2){let u=e.$implicit;i("value",u.id),t(),O(u.razonSocial)}}function xe(a,e){if(a&1&&(P(0),F(1,be,2,2,"mat-option",15),N()),a&2){let u=e.ngIf;t(),i("ngForOf",u.data)}}var Ce={validation:!1},ve=(()=>{let e=class e{constructor(){this.fb=p(re),this.dialogRef=p(U),this._matData=p(J),this.empresaClienteService=p(de),this.empresa$=this.empresaClienteService.getEmpresas()}createForm(){this.form=this.fb.group({fechaIncial:["",[C.required]],fechaFinal:["",C.required],idSubEmpresa:["",C.required]})}ngOnInit(){this.createForm()}closeDialog(){this.dialogRef.close()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=g({type:e,selectors:[["app-form-aliados"]],standalone:!0,features:[v([{provide:q,useClass:fe},{provide:$,useValue:"en-GB"},f,ue(Ce)]),y],decls:34,vars:14,consts:[["inicialPicker",""],["finalPicker",""],[1,"w-full","sm:bg-card","sm:rounded-2xl","sm:mx-0","mx-auto"],[1,""],[1,"mt-8","text-3xl","font-semibold","leading-tight","tracking-tight","text-center"],[1,"mt-8",3,"formGroup"],[1,"flex","flex-col","sm:flex-row","gap-2.5"],["floatLabel","always",1,"w-full"],["matInput","","placeholder","dd/mm/yyyy",3,"matDatepicker","formControlName"],["matIconSuffix","",3,"for"],["placeholder","Tipo de contrato",3,"formControlName"],[4,"ngIf"],[1,"flex","flex-wrap","justify-end","gap-2.5"],["mat-flat-button","",1,"sm:w-auto","w-full","sm:mt-6","bg-credigray-100","rounded-lg","transition","duration-200","text-white","font-semibold",3,"click","color"],["mat-flat-button","",1,"sm:w-auto","w-full","sm:mt-6","bg-crediblue-50","rounded-lg","transition","duration-200","text-white","font-semibold",3,"color"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,m){if(o&1){let d=T();r(0,"div",2)(1,"div",3)(2,"div",4),s(3),n(),r(4,"form",5)(5,"div",6)(6,"mat-form-field",7)(7,"mat-label"),s(8,"Fecha de inicial"),n(),c(9,"input",8)(10,"mat-datepicker-toggle",9)(11,"mat-datepicker",null,0),n(),r(13,"mat-form-field",7)(14,"mat-label"),s(15,"Fecha final"),n(),c(16,"input",8)(17,"mat-datepicker-toggle",9)(18,"mat-datepicker",null,1),n()(),r(20,"div",6)(21,"mat-form-field",7)(22,"mat-label"),s(23,"Empresas"),n(),r(24,"mat-select",10),F(25,xe,2,1,"ng-container",11),j(26,"async"),n()()(),r(27,"div",12)(28,"button",13),h("click",function(){return E(d),I(m.closeDialog())}),r(29,"span"),s(30," Cancelar "),n()(),r(31,"button",14)(32,"span"),s(33," Guardar "),n()()()()()()}if(o&2){let d=D(12),w=D(19);t(3),G(" ",m._matData.edit?"Actualizar pago":"Agregar pago"," "),t(),i("formGroup",m.form),t(5),i("matDatepicker",d)("formControlName","fechaIncial"),t(),i("for",d),t(6),i("matDatepicker",w)("formControlName","fechaFinal"),t(),i("for",w),t(7),i("formControlName","idTipoContrato"),t(),i("ngIf",V(26,12,m.empresa$)),t(3),i("color","primary"),t(3),i("color","primary")}},dependencies:[ne,ie,Z,ee,te,oe,ae,se,pe,ce,b,S,Q,W,z,H,le,B,L,x],styles:[".custom-dialog-container{width:100%}@media (min-width: 1280px){  .custom-dialog-container{width:50%}}"]});let a=e;return a})();var ye=(()=>{let e=class e{constructor(){this.datePipe=p(f),this.currencyPipe=p(_),this.pagoAliadoService=p(he),this._matDialog=p(K),this.data=[],this.columns=["Creaci\xF3n","Empresa","Total"],this.columnPropertyMap={Creaci\u00F3n:"fechaCreacion",Empresa:"nombreSubempresa",Total:"total"},this.buttons=[{label:"Edit",icon:"edit",action:l=>{console.log("Editing",l),this.selectedData=l}}]}ngOnDestroy(){}ngOnInit(){this.getAliados()}onNew(){this._matDialog.open(ve,{autoFocus:!1,data:{edit:!1},maxHeight:"90vh",disableClose:!0,panelClass:"custom-dialog-container"})}getAliados(){this.pagoAliadoService.getAliados().pipe(A(l=>(l.data.forEach(o=>{o.fechaCreacion=this.datePipe.transform(o.fechaCreacion,"dd/MM/yyyy"),o.total=this.currencyPipe.transform(o.total,"USD","symbol","1.2-2")}),l))).subscribe(l=>{this.data=l.data})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=g({type:e,selectors:[["app-grid-aliados"]],standalone:!0,features:[v([f,_]),y],decls:15,vars:11,consts:[[1,"bg-card","flex","min-w-0","flex-auto","flex-col","dark:bg-transparent","sm:absolute","sm:inset-0","sm:overflow-hidden"],[1,"relative","flex","flex-0","flex-col","border-b","px-6","py-8","sm:flex-row","sm:items-center","sm:justify-between","md:px-8"],[1,"text-3xl","font-semibold","tracking-tight"],[1,"mt-6","flex","w-full","shrink-0","flex-col","items-center","sm:ml-4","sm:mt-0","sm:flex-row","sm:space-x-2","sm:w-auto"],[1,"fuse-mat-dense","rounded-lg","w-full","sm:w-auto","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","placeholder"],["mat-flat-button","",1,"mt-2","w-full","bg-crediblue-50","rounded-lg","transition","duration-200","text-white","font-semibold","sm:ml-4","sm:mt-0","sm:w-auto",3,"click","color"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-auto","flex-col","overflow-hidden","sm:mb-18","sm:overflow-y-auto"],[3,"columns","displayedColumns","columnPropertyMap","data","buttons"]],template:function(o,m){o&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),s(3,"Pago aliados"),n(),r(4,"div",3)(5,"mat-form-field",4),c(6,"mat-icon",5)(7,"input",6),n(),r(8,"button",7),h("click",function(){return m.onNew()}),c(9,"mat-icon",8),r(10,"span",9),s(11,"Agregar"),n()()()(),r(12,"div",10)(13,"div",11),c(14,"app-custom-table",12),n()()()),o&2&&(t(5),i("subscriptSizing","dynamic"),t(),i("svgIcon","heroicons_solid:magnifying-glass"),t(),i("autocomplete","off")("placeholder","Buscar"),t(),i("color","primary"),t(),i("svgIcon","heroicons_outline:plus"),t(5),i("columns",m.columns)("displayedColumns",m.columns)("columnPropertyMap",m.columnPropertyMap)("data",m.data)("buttons",m.buttons))},dependencies:[me,b,X,S,x]});let a=e;return a})();var rt=[{path:"",component:ye}];export{rt as default};
