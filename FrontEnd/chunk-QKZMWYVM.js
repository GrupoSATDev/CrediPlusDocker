import{a as q}from"./chunk-WDYZIQ5S.js";import{a as je}from"./chunk-2MB4UBZE.js";import{a as Re}from"./chunk-6L5GOURL.js";import{a as He}from"./chunk-3MA4ANRN.js";import{a as Pe}from"./chunk-3XMKQ74T.js";import{a as ze}from"./chunk-IYL6TRMV.js";import{a as Ae,b as $e,c as Ve}from"./chunk-YRZHMDGJ.js";import{a as Be,b as Oe}from"./chunk-FIT6CNEK.js";import{a as Me}from"./chunk-6PCKBDXF.js";import{a as Le}from"./chunk-FPMZ5B5I.js";import{a as te}from"./chunk-6IEWE3OU.js";import{a as Ge}from"./chunk-TRVR57AA.js";import{a as we}from"./chunk-YMBTTIVN.js";import{a as ke}from"./chunk-ARYACW5V.js";import{a as ee}from"./chunk-4WJQLHI3.js";import{a as J}from"./chunk-MO2NC6JB.js";import{a as Te}from"./chunk-H5OWTWVS.js";import{a as Ne}from"./chunk-DYUKGLA6.js";import"./chunk-3EEAMLKT.js";import{g as Ce}from"./chunk-45VFWK2F.js";import{a as ue,b as ge,c as he}from"./chunk-3F72AFMB.js";import"./chunk-T4J43FBS.js";import{C as Fe,G as Y,b as ve,e as Se,i as L,l as _e,p as Ee,q as be,u as ye,w as xe,x as De,z as Ie}from"./chunk-JBQZ6BPD.js";import{$ as fe,Q as ce,R as de,ea as Z,ja as U}from"./chunk-SUQ5NR2B.js";import"./chunk-TO3CLTNT.js";import{a as A}from"./chunk-7LIXJ3C3.js";import{f as le,g as se,i as pe,j as X,s as k}from"./chunk-SQ7M4XTP.js";import{$a as R,$b as H,Db as r,Eb as e,Fb as c,Gb as v,Hb as S,Jb as ne,Pb as D,Rb as W,Xa as ae,Y as C,Yb as M,Zb as p,_a as a,_b as _,aa as N,ec as re,fa as y,fc as z,ga as u,la as G,nc as E,oc as b,q as Q,qb as f,qc as me,sb as n,va as T,wa as w}from"./chunk-RICNMTJI.js";import{a as F,d as O}from"./chunk-NEB6MB4Y.js";var Ye=(()=>{let o=class o{constructor(m,i){this._http=m,this.appSettings=i}getCargos(){return this._http.get(this.appSettings.cargos.url.base)}postCargos(m){return delete m.id,this._http.post(this.appSettings.cargos.url.base,m)}putCargos(m){let i=m.id;return delete m.id,this._http.put(`${this.appSettings.cargos.url.base}/${i}`,m)}};o.\u0275fac=function(i){return new(i||o)(y(k),y(A))},o.\u0275prov=N({token:o,factory:o.\u0275fac,providedIn:"root"});let t=o;return t})();var Je=(()=>{let o=class o{constructor(m,i){this._http=m,this.appSettings=i}getRiesgos(){return this._http.get(this.appSettings.riesgos.url.base)}getRiesgo(m){return this._http.get(`${this.appSettings.riesgos.url.base}/${m}`)}};o.\u0275fac=function(i){return new(i||o)(y(k),y(A))},o.\u0275prov=N({token:o,factory:o.\u0275fac,providedIn:"root"});let t=o;return t})();var qe=(()=>{let o=class o{constructor(m,i){this._http=m,this.appSettings=i}getContratos(){return this._http.get(this.appSettings.tipoContratos.url.base)}};o.\u0275fac=function(i){return new(i||o)(y(k),y(A))},o.\u0275prov=N({token:o,factory:o.\u0275fac,providedIn:"root"});let t=o;return t})();function We(t,o){if(t&1&&(v(0),c(1,"img",55),S()),t&2){let l=W();a(),n("src",l.image,ae)("alt","Profile avatar")}}function Xe(t,o){if(t&1&&(r(0,"div",56),p(1),e()),t&2){let l,m=W();a(),H(" ",(l=m.form.get("primerNombre").value.charAt(0))!==null&&l!==void 0?l:"P"," ")}}function et(t,o){if(t&1&&(r(0,"mat-option",58),p(1),e()),t&2){let l=o.$implicit;n("value",l.id),a(),_(l.nombre)}}function tt(t,o){if(t&1&&(v(0),f(1,et,2,2,"mat-option",57),S()),t&2){let l=o.ngIf;a(),n("ngForOf",l.data)}}function it(t,o){if(t&1&&(r(0,"mat-option",58),p(1),e()),t&2){let l=o.$implicit;n("value",l.id),a(),_(l.nombre)}}function ot(t,o){if(t&1&&(v(0),f(1,it,2,2,"mat-option",57),S()),t&2){let l=o.ngIf;a(),n("ngForOf",l.data)}}function at(t,o){if(t&1&&(r(0,"mat-option",58),p(1),e()),t&2){let l=o.$implicit;n("value",l.id),a(),_(l.nombre)}}function nt(t,o){if(t&1&&(v(0),f(1,at,2,2,"mat-option",57),S()),t&2){let l=o.ngIf;a(),n("ngForOf",l.data)}}function rt(t,o){if(t&1&&(r(0,"mat-option",58),p(1),e()),t&2){let l=o.$implicit;n("value",l.id),a(),_(l.nombre)}}function mt(t,o){if(t&1&&(v(0),f(1,rt,2,2,"mat-option",57),S()),t&2){let l=o.ngIf;a(),n("ngForOf",l.data)}}function lt(t,o){if(t&1&&(r(0,"mat-option",58),p(1),e()),t&2){let l=o.$implicit;n("value",l.id),a(),_(l.razonSocial)}}function st(t,o){if(t&1&&(v(0),f(1,lt,2,2,"mat-option",57),S()),t&2){let l=o.ngIf;a(),n("ngForOf",l.data)}}function pt(t,o){if(t&1&&(v(0),r(1,"mat-form-field",22)(2,"mat-label"),p(3,"Fin de contrato"),e(),c(4,"input",31)(5,"mat-datepicker-toggle",32)(6,"mat-datepicker",null,5),e(),S()),t&2){let l=M(7);a(4),n("matDatepicker",l)("formControlName","fechaFinContrato"),a(),n("for",l)}}function ct(t,o){if(t&1&&(r(0,"mat-option",58),p(1),e()),t&2){let l=o.$implicit;n("value",l.id),a(),_(l.nombre)}}function dt(t,o){if(t&1&&(v(0),f(1,ct,2,2,"mat-option",57),S()),t&2){let l=o.ngIf;a(),n("ngForOf",l.data)}}function ft(t,o){if(t&1&&(r(0,"mat-option",58),p(1),e()),t&2){let l=o.$implicit;n("value",l.id),a(),_(l.nombre)}}function ut(t,o){if(t&1&&(v(0),f(1,ft,2,2,"mat-option",57),S()),t&2){let l=o.ngIf;a(),n("ngForOf",l.data)}}function gt(t,o){if(t&1&&(r(0,"mat-option",58),p(1),e()),t&2){let l=o.$implicit;n("value",l.id),a(),_(l.nombre)}}function ht(t,o){if(t&1&&(v(0),f(1,gt,2,2,"mat-option",57),S()),t&2){let l=o.ngIf;a(),n("ngForOf",l.data)}}function vt(t,o){if(t&1&&(r(0,"mat-option",58),p(1),e()),t&2){let l=o.$implicit;n("value",l.id),a(),_(l.nombre)}}function St(t,o){if(t&1&&(v(0),f(1,vt,2,2,"mat-option",57),S()),t&2){let l=o.ngIf;a(),n("ngForOf",l.data)}}var Ct={validation:!1},ie=(()=>{let o=class o{constructor(){this.fb=u(Ie),this.dialogRef=u(ue),this.fuseService=u(Ce),this.estadosDatosService=u(J),this.toasService=u(ke),this.tiposDocumentosService=u(ze),this._locacionService=u(Me),this.generoService=u(Le),this.empresaClienteService=u(je),this.datePipe=u(X),this.empleadosServices=u(q),this.cargosServices=u(Ye),this.riesgosServices=u(Je),this.bancosServices=u(Re),this.swalService=u(Ge),this.departamentos$=this._locacionService.getDepartamentos().pipe(C(m=>{let i=m.data,s=this._matData;if(i&&!s.edit){this.form.get("idDepartamento").setValue(i[0].id);let d=this.form.get("idDepartamento").value;this.getMunicipios(d)}})),this.tiposDocumentos$=this.tiposDocumentosService.getTiposDocumentos().pipe(C(m=>{let i=m.data,s=this._matData;i&&!s.edit&&this.form.get("idTipoDoc").setValue(i[3].id)})),this.generos$=this.generoService.getGeneros().pipe(C(m=>{let i=m.data,s=this._matData;i&&!s.edit&&this.form.get("idGenero").setValue(i[1].id)})),this.empresasClientes$=this.empresaClienteService.getEmpresasClientes().pipe(C(m=>{let i=m.data,s=this._matData;i&&!s.edit&&this.form.get("idSubEmpresa").setValue(i[0].id)})),this.cargos$=this.cargosServices.getCargos(),this.riesgos$=this.riesgosServices.getRiesgos().pipe(C(m=>{let i=m.data,s=this._matData;i&&!s.edit&&this.form.get("idNivelRiesgo").setValue(i[0].id)})),this.bancos$=this.bancosServices.getBancos().pipe(C(m=>{let i=m.data,s=this._matData;i&&!s.edit&&this.form.get("idBanco").setValue(i[0].id)})),this._matData=u(ge),this.tipoCuentasService=u(He),this.tipoCuentas$=this.tipoCuentasService.getTipoCuentas().pipe(C(m=>{let i=m.data,s=this._matData;i&&!s.edit&&this.form.get("idTipoCuenta").setValue(i[0].id)})),this.tipoContratosService=u(qe),this.tipoContratos$=this.tipoContratosService.getContratos().pipe(C(m=>{let i=m.data,s=this._matData;i&&!s.edit&&this.form.get("idTipoContrato").setValue(i[0].id)})),this.profile={avatar:"",name:"Pedro"}}ngOnInit(){this.createForm();let m=this._matData;if(m.edit){let s=m.data,i=s,{estado:d,idDepartamento:g,fechaNacimiento:h,fechaInicioContrato:P,fechaFinContrato:$}=i,V=O(i,["estado","idDepartamento","fechaNacimiento","fechaInicioContrato","fechaFinContrato"]),j=new Date(h),x=new Date(P),I=new Date($);this.municipios$=this._locacionService.getMunicipio(g),this.form.patchValue(F({fechaNacimiento:j,fechaInicioContrato:new Date(x.getFullYear(),x.getMonth(),x.getDate()),fechaFinContrato:new Date(I.getFullYear(),I.getMonth(),I.getDate()),idDepartamento:g,estado:d=="Activo"},V)),console.log(this.form.getRawValue()),this.image=`data:image/png;base64,  ${s.foto}`}}onFileSelected(m){let i=m.target;if(i.files&&i.files.length>0){let s=i.files[0],d=new FileReader;d.onload=()=>{let g=d.result;this.image=g;let h=g.split(",")[1];this.form.get("foto").setValue(h)},d.readAsDataURL(s)}}onSelected(m){let i=m.value;this.getMunicipios(i)}getMunicipios(m){this.municipios$=this._locacionService.getMunicipio(m).pipe(C(i=>{let s=i.data,d=this._matData;s&&!d.edit&&this.form.get("idMunicipio").setValue(s[0].id)}))}onSave(){if(this.form.valid)if(this._matData.edit){let i=this.form.getRawValue(),{idDepartamento:d,fechaNacimiento:g,fechaInicioContrato:h,fechaFinContrato:P}=i,$=O(i,["idDepartamento","fechaNacimiento","fechaInicioContrato","fechaFinContrato"]),V=this.datePipe.transform(g,"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'"),j=this.datePipe.transform(h,"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'"),x=this.datePipe.transform(P,"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'"),I=F({fechaNacimiento:V,fechaInicioContrato:j,fechaFinContrato:x},$);this.fuseService.open(F({},ee)).afterClosed().subscribe(B=>{B==="confirmed"?this.empleadosServices.putEmpleados(I).subscribe(Qe=>{this.estadosDatosService.stateGrid.next(!0),this.swalService.ToastAler({icon:"success",title:"Registro actualizado con exito!",timer:4e3}),this.closeDialog()},Qe=>{this.swalService.ToastAler({icon:"error",title:"Ha ocurrido un error al actualizar el registro!",timer:4e3})}):this.closeDialog()})}else{let m=this.form.getRawValue(),{idDepartamento:d,fechaNacimiento:g,fechaInicioContrato:h,fechaFinContrato:P}=m,$=O(m,["idDepartamento","fechaNacimiento","fechaInicioContrato","fechaFinContrato"]),V=this.datePipe.transform(g,"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'"),j=this.datePipe.transform(h,"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'"),x=F({fechaNacimiento:V,fechaInicioContrato:j,fechaFinContrato:"0001-01-01T00:00:00+00:00"},$);console.log(x),this.fuseService.open(F({},ee)).afterClosed().subscribe(oe=>{oe==="confirmed"?this.empleadosServices.postEmpleados(x).subscribe(B=>{console.log(B),this.estadosDatosService.stateGrid.next(!0),this.swalService.ToastAler({icon:"success",title:"Registro Creado o Actualizado con Exito.",timer:4e3}),this.closeDialog()},B=>{this.swalService.ToastAler({icon:"error",title:"Ha ocurrido un error al crear el registro!",timer:4e3})}):this.closeDialog()})}}createForm(){this.form=this.fb.group({id:[null],primerNombre:[""],segundoNombre:[""],primerApellido:[""],segundoApellido:[""],idTipoDoc:[""],numDoc:[""],idDepartamento:[""],idMunicipio:[""],telefono:[""],telefono2:[""],direccion:[""],idGenero:[""],correo:[""],cargo:[""],fechaNacimiento:[""],fechaInicioContrato:[""],fechaFinContrato:["null"],numCuentaBancaria:[""],salarioDevengado:[""],capacidadEndeudamiento:[""],idNivelRiesgo:[""],idBanco:[""],idTipoCuenta:[""],foto:[""],firma:[""],idSubEmpresa:[""],idTipoContrato:[""],estado:["true"]})}closeDialog(){this.dialogRef.close()}};o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=G({type:o,selectors:[["app-form-empleados"]],standalone:!0,features:[re([{provide:de,useClass:Pe},{provide:ce,useValue:"en-GB"},X,Be(Ct)]),z],decls:193,vars:66,consts:[["noAvatar",""],["twoStepToggle",""],["picker",""],["data",""],["inicio",""],["fin",""],[1,"w-full","sm:bg-card","sm:rounded-2xl","sm:mx-0","mx-auto"],[1,""],[1,"mt-8","text-3xl","font-semibold","leading-tight","tracking-tight","text-center"],[1,"mt-8","space-y-8",3,"formGroup"],[1,"group","relative","mx-auto","mt-8","flex","h-40","w-40","flex-0","rounded-full","mb-8"],[1,"absolute","inset-0","hidden","cursor-pointer","flex-col","items-center","justify-center","rounded-full","bg-gray-800","bg-opacity-80","backdrop-blur","backdrop-filter","group-hover:flex"],[1,"text-white",3,"svgIcon"],[1,"mx-6","mt-2","text-center","font-medium","text-white"],["type","file",1,"absolute","inset-0","opacity-0","cursor-pointer",3,"change"],[4,"ngIf","ngIfElse"],[1,"font-bold","mb-4","text-2xl"],[1,"flex","mb-4"],[1,"fcursor-pointer",3,"click"],[1,"font-medium","leading-6"],[1,"ml-4",3,"color","formControlName"],[1,"flex","flex-col","sm:flex-row","gap-2.5"],["floatLabel","always",1,"w-full"],["matInput","","placeholder","Primer nombre",3,"formControlName"],["matInput","","placeholder","Segundo nombre",3,"formControlName"],["matInput","","placeholder","Primer apellido",3,"formControlName"],["matInput","","placeholder","Segundo apellido",3,"formControlName"],["placeholder","Tipo de documento",3,"formControlName"],[4,"ngIf"],["matInput","","placeholder","N\xFAmero de identificaci\xF3n",3,"formControlName"],["placeholder","G\xE9nero",3,"formControlName"],["matInput","","placeholder","dd/mm/yyyy",3,"matDatepicker","formControlName"],["matIconSuffix","",3,"for"],["placeholder","Departamento",3,"selectionChange","formControlName"],["placeholder","Ciudad",3,"formControlName"],["matInput","","placeholder","Direcci\xF3n",3,"formControlName"],["matInput","","placeholder","Celular",3,"formControlName"],["matInput","","placeholder","Tel\xE9fono",3,"formControlName"],["matInput","","placeholder","Correo electronico",3,"formControlName"],["placeholder","Empresa",3,"formControlName"],["matInput","","placeholder","Cargo",3,"formControlName"],["placeholder","Tipo de contrato",3,"formControlName"],["matInput","","mask","separator.0","thousandSeparator",".","placeholder","Salario base"],["matInput","","mask","separator.0","thousandSeparator",".","placeholder","Otros ingresos"],["matInput","","mask","separator.0","thousandSeparator",".","placeholder","Salario devengdado",3,"formControlName"],["matInput","","mask","separator.0","thousandSeparator",".","placeholder","Salud"],["matInput","","placeholder","Pensi\xF3n"],["placeholder","Nivel de riesgo",3,"formControlName"],["matInput","","mask","separator.0","thousandSeparator",".","placeholder","Capacidad de endeudamiento",3,"formControlName"],["placeholder","Tipo de cuenta",3,"formControlName"],["placeholder","Bancos",3,"formControlName"],["matInput","","placeholder","N\xFAmero de cuenta",3,"formControlName"],[1,"flex","flex-wrap","justify-end","gap-2.5"],["mat-flat-button","",1,"sm:w-auto","w-full","sm:mt-6","bg-credigray-100","rounded-lg","transition","duration-200","text-white","font-semibold",3,"click","color"],["mat-flat-button","",1,"sm:w-auto","w-full","sm:mt-6","bg-crediblue-50","rounded-lg","transition","duration-200","text-white","font-semibold",3,"click","color"],[1,"h-full","w-full","rounded-full","object-cover",3,"src","alt"],[1,"flex","h-full","w-full","items-center","justify-center","rounded-full","bg-gray-200","text-8xl","font-semibold","uppercase","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,s){if(i&1){let d=ne();r(0,"div",6)(1,"div",7)(2,"div",8),p(3),e(),r(4,"form",9)(5,"div",10)(6,"div",11),c(7,"mat-icon",12),r(8,"div",13),p(9," Cambiar foto "),e(),r(10,"input",14),D("change",function(h){return T(d),w(s.onFileSelected(h))}),e()(),f(11,We,2,2,"ng-container",15)(12,Xe,2,1,"ng-template",null,0,me),e(),r(14,"div")(15,"p",16),p(16,"Informaci\xF3n general"),e(),r(17,"div",17)(18,"div",18),D("click",function(){T(d);let h=M(22);return w(h.toggle())}),r(19,"div",19),p(20),e()(),c(21,"mat-slide-toggle",20,1),e(),r(23,"div",21)(24,"mat-form-field",22)(25,"mat-label"),p(26,"Primer nombre"),e(),c(27,"input",23),e(),r(28,"mat-form-field",22)(29,"mat-label"),p(30,"Segundo nombre"),e(),c(31,"input",24),e()(),r(32,"div",21)(33,"mat-form-field",22)(34,"mat-label"),p(35,"Primer apellido"),e(),c(36,"input",25),e(),r(37,"mat-form-field",22)(38,"mat-label"),p(39,"Segundo apellido"),e(),c(40,"input",26),e()(),r(41,"div",21)(42,"mat-form-field",22)(43,"mat-label"),p(44,"Tipo de documento"),e(),r(45,"mat-select",27),f(46,tt,2,1,"ng-container",28),E(47,"async"),e()(),r(48,"mat-form-field",22)(49,"mat-label"),p(50,"N\xFAmero de identificaci\xF3n"),e(),c(51,"input",29),e()(),r(52,"div",21)(53,"mat-form-field",22)(54,"mat-label"),p(55,"G\xE9nero"),e(),r(56,"mat-select",30),f(57,ot,2,1,"ng-container",28),E(58,"async"),e()(),r(59,"mat-form-field",22)(60,"mat-label"),p(61,"Fecha de nacimiento"),e(),c(62,"input",31)(63,"mat-datepicker-toggle",32)(64,"mat-datepicker",null,2),e()()(),r(66,"div")(67,"p",16),p(68,"Informaci\xF3n demogr\xE1fica"),e(),r(69,"div",21)(70,"mat-form-field",22)(71,"mat-label"),p(72,"Departamento"),e(),r(73,"mat-select",33,3),D("selectionChange",function(h){return T(d),w(s.onSelected(h))}),f(75,nt,2,1,"ng-container",28),E(76,"async"),e()(),r(77,"mat-form-field",22)(78,"mat-label"),p(79,"Ciudad"),e(),r(80,"mat-select",34),f(81,mt,2,1,"ng-container",28),E(82,"async"),e()()(),r(83,"div",21)(84,"mat-form-field",22)(85,"mat-label"),p(86,"Direcci\xF3n"),e(),c(87,"input",35),e(),r(88,"mat-form-field",22)(89,"mat-label"),p(90,"Celular"),e(),c(91,"input",36),e()(),r(92,"div",21)(93,"mat-form-field",22)(94,"mat-label"),p(95,"Tel\xE9fono"),e(),c(96,"input",37),e(),r(97,"mat-form-field",22)(98,"mat-label"),p(99,"Email"),e(),c(100,"input",38),e()(),r(101,"div")(102,"p",16),p(103,"Informaci\xF3n contractual"),e(),r(104,"div",21)(105,"mat-form-field",22)(106,"mat-label"),p(107,"Empresa"),e(),r(108,"mat-select",39),f(109,st,2,1,"ng-container",28),E(110,"async"),e()(),r(111,"mat-form-field",22)(112,"mat-label"),p(113,"Cargo"),e(),c(114,"input",40),e()(),r(115,"div",21)(116,"mat-form-field",22)(117,"mat-label"),p(118,"Inicio de contrato"),e(),c(119,"input",31)(120,"mat-datepicker-toggle",32)(121,"mat-datepicker",null,4),e(),f(123,pt,8,3,"ng-container",28),e(),r(124,"div",21)(125,"mat-form-field",22)(126,"mat-label"),p(127,"Tipo de contrato"),e(),r(128,"mat-select",41),f(129,dt,2,1,"ng-container",28),E(130,"async"),e()()(),r(131,"div",21)(132,"mat-form-field",22)(133,"mat-label"),p(134,"Salario base"),e(),c(135,"input",42),e(),r(136,"mat-form-field",22)(137,"mat-label"),p(138,"Otros ingresos"),e(),c(139,"input",43),e()(),r(140,"div",21)(141,"mat-form-field",22)(142,"mat-label"),p(143,"Salario devengado"),e(),c(144,"input",44),e()(),r(145,"div",21)(146,"mat-form-field",22)(147,"mat-label"),p(148,"Salud"),e(),c(149,"input",45),e(),r(150,"mat-form-field",22)(151,"mat-label"),p(152,"Pensi\xF3n"),e(),c(153,"input",46),e()(),r(154,"div",21)(155,"mat-form-field",22)(156,"mat-label"),p(157,"Nivel de riesgo"),e(),r(158,"mat-select",47),f(159,ut,2,1,"ng-container",28),E(160,"async"),e()(),r(161,"mat-form-field",22)(162,"mat-label"),p(163,"Capacidad de endeudamiento"),e(),c(164,"input",48),e()()(),r(165,"div")(166,"p",16),p(167,"Informaci\xF3n bancaria"),e(),r(168,"div",21)(169,"mat-form-field",22)(170,"mat-label"),p(171,"Tipo de cuenta"),e(),r(172,"mat-select",49),f(173,ht,2,1,"ng-container",28),E(174,"async"),e()()(),r(175,"div",21)(176,"mat-form-field",22)(177,"mat-label"),p(178,"Bancos"),e(),r(179,"mat-select",50),f(180,St,2,1,"ng-container",28),E(181,"async"),e()(),r(182,"mat-form-field",22)(183,"mat-label"),p(184,"N\xFAmero de cuenta bancaria"),e(),c(185,"input",51),e()()()(),r(186,"div",52)(187,"button",53),D("click",function(){return T(d),w(s.closeDialog())}),r(188,"span"),p(189," Cancelar "),e()(),r(190,"button",54),D("click",function(){return T(d),w(s.onSave())}),r(191,"span"),p(192," Guardar "),e()()()()()()}if(i&2){let d=M(13),g=M(65),h=M(122);a(3),H(" ",s._matData.edit?"Actualizar trabajador":"Agregar trabajador"," "),a(),n("formGroup",s.form),a(3),n("svgIcon","heroicons_outline:camera"),a(4),n("ngIf",s.form.get("foto").value)("ngIfElse",d),a(9),H(" Estado ",s.form.get("estado").value?"Activo":"Inactivo"," "),a(),n("color","primary")("formControlName","estado"),a(6),n("formControlName","primerNombre"),a(4),n("formControlName","segundoNombre"),a(5),n("formControlName","primerApellido"),a(4),n("formControlName","segundoApellido"),a(5),n("formControlName","idTipoDoc"),a(),n("ngIf",b(47,48,s.tiposDocumentos$)),a(5),n("formControlName","numDoc"),a(5),n("formControlName","idGenero"),a(),n("ngIf",b(58,50,s.generos$)),a(5),n("matDatepicker",g)("formControlName","fechaNacimiento"),a(),n("for",g),a(10),n("formControlName","idDepartamento"),a(2),n("ngIf",b(76,52,s.departamentos$)),a(5),n("formControlName","idMunicipio"),a(),n("ngIf",b(82,54,s.municipios$)),a(6),n("formControlName","direccion"),a(4),n("formControlName","telefono"),a(5),n("formControlName","telefono2"),a(4),n("formControlName","correo"),a(8),n("formControlName","idSubEmpresa"),a(),n("ngIf",b(110,56,s.empresasClientes$)),a(5),n("formControlName","cargo"),a(5),n("matDatepicker",h)("formControlName","fechaInicioContrato"),a(),n("for",h),a(3),n("ngIf",s.form.get("estado").value==!1),a(5),n("formControlName","idTipoContrato"),a(),n("ngIf",b(130,58,s.tipoContratos$)),a(15),n("formControlName","salarioDevengado"),a(14),n("formControlName","idNivelRiesgo"),a(),n("ngIf",b(160,60,s.riesgos$)),a(5),n("formControlName","capacidadEndeudamiento"),a(8),n("formControlName","idTipoCuenta"),a(),n("ngIf",b(174,62,s.tipoCuentas$)),a(6),n("formControlName","idBanco"),a(),n("ngIf",b(181,64,s.bancos$)),a(5),n("formControlName","numCuentaBancaria"),a(2),n("color","primary"),a(3),n("color","primary")}},dependencies:[Z,L,Y,ve,Fe,ye,_e,Ee,be,xe,De,pe,fe,Te,le,se,Ae,$e,Ve,Se,U,Oe,Ne],styles:[".custom-dialog-container{width:100%}@media (min-width: 1280px){  .custom-dialog-container{width:50%}}"]});let t=o;return t})();var Ke=(()=>{let o=class o{constructor(m,i,s){this._matDialog=m,this.estadoDatosService=i,this.empleadoService=s,this.data=[],this.columns=["Estado","Documento","Identificaci\xF3n","Nombre completo","Tel\xE9fono","Cargo"],this.columnPropertyMap={Estado:"estado",Documento:"nombreTipoDocumento",Identificaci\u00F3n:"numDoc","Nombre completo":"nombreCompleto",Tel\u00E9fono:"telefono",Cargo:"cargo"},this.buttons=[{label:"Edit",icon:"edit",action:d=>{console.log("Editing",d),this.selectedData=d,this.onEdit()}}]}onNew(){this._matDialog.open(ie,{autoFocus:!1,data:{edit:!1},maxHeight:"90vh",disableClose:!0,panelClass:"custom-dialog-container"})}onEdit(){this._matDialog.open(ie,{autoFocus:!1,data:{edit:!0,data:this.selectedData},maxHeight:"90vh",disableClose:!0,panelClass:"custom-dialog-container"})}getEmpleados(){this.subcription$=this.empleadoService.getEmpleados().pipe(Q(m=>(m.data.forEach(i=>{i.estado?i.estado=te.ACTIVO:i.estado=te.INACTIVO}),m)),Q(m=>(m.data.forEach(i=>{i&&(i.nombreCompleto=i.primerNombre.concat(" ",i.segundoNombre?i.segundoNombre+" ":"",i.primerApellido," ",i.segundoApellido))}),m))).subscribe(m=>{this.data=m.data})}listenGrid(){this.estadoDatosService.stateGrid.asObservable().subscribe(i=>{i&&this.getEmpleados()})}ngOnDestroy(){this.subcription$.unsubscribe()}ngOnInit(){this.getEmpleados(),this.listenGrid()}};o.\u0275fac=function(i){return new(i||o)(R(he),R(J),R(q))},o.\u0275cmp=G({type:o,selectors:[["app-grid-empleados"]],standalone:!0,features:[z],decls:15,vars:11,consts:[[1,"bg-card","flex","min-w-0","flex-auto","flex-col","dark:bg-transparent","sm:absolute","sm:inset-0","sm:overflow-hidden"],[1,"relative","flex","flex-0","flex-col","border-b","px-6","py-8","sm:flex-row","sm:items-center","sm:justify-between","md:px-8"],[1,"text-3xl","font-semibold","tracking-tight"],[1,"mt-6","flex","w-full","shrink-0","flex-col","items-center","sm:ml-4","sm:mt-0","sm:flex-row","sm:space-x-2","sm:w-auto"],[1,"fuse-mat-dense","rounded-lg","w-full","sm:w-auto","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","placeholder"],["mat-flat-button","",1,"mt-2","w-full","bg-crediblue-50","rounded-lg","transition","duration-200","text-white","font-semibold","sm:ml-4","sm:mt-0","sm:w-auto",3,"click","color"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-auto","flex-col","overflow-hidden","sm:mb-18","sm:overflow-y-auto"],[3,"columns","displayedColumns","columnPropertyMap","data","buttons"]],template:function(i,s){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),p(3,"Trabajadores"),e(),r(4,"div",3)(5,"mat-form-field",4),c(6,"mat-icon",5)(7,"input",6),e(),r(8,"button",7),D("click",function(){return s.onNew()}),c(9,"mat-icon",8),r(10,"span",9),p(11,"Agregar"),e()()()(),r(12,"div",10)(13,"div",11),c(14,"app-custom-table",12),e()()()),i&2&&(a(5),n("subscriptSizing","dynamic"),a(),n("svgIcon","heroicons_solid:magnifying-glass"),a(),n("autocomplete","off")("placeholder","Buscar"),a(),n("color","primary"),a(),n("svgIcon","heroicons_outline:plus"),a(5),n("columns",s.columns)("displayedColumns",s.columns)("columnPropertyMap",s.columnPropertyMap)("data",s.data)("buttons",s.buttons))},dependencies:[we,Z,L,U,Y]});let t=o;return t})();var vi=[{path:"",component:Ke}];export{vi as default};
