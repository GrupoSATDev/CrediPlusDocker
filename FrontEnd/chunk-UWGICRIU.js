import{b as ae}from"./chunk-OTPFKQFH.js";import{a as ne,b as oe}from"./chunk-3E574AHG.js";import{a as re}from"./chunk-4REW3KCM.js";import"./chunk-SPLWJYWR.js";import{D as Z,E as $,F as ee,J as te,K as ie,b as T,c as P,e as R,i as j,j as U,l as H,n as v,p as W,q as Y,u as J,x as K,y as X}from"./chunk-TY3VSE3A.js";import{ea as q,ga as L,ha as D,ja as G,ka as z}from"./chunk-3AUPHK2F.js";import{a as O}from"./chunk-6NAFBUMG.js";import"./chunk-DQGOCNTQ.js";import{b as Q}from"./chunk-34IPRIEE.js";import"./chunk-RNYZFOOK.js";import{b as B,d as N}from"./chunk-LGDPLF3U.js";import{Cb as x,Eb as y,Ib as M,Jb as E,Kb as A,Lb as b,Mb as s,Ob as k,Qa as r,Ra as g,Vb as V,gb as p,ib as d,ma as C,pb as u,tb as i,ub as t,vb as c,wa as h,xa as w,ya as S,za as F,zb as _}from"./chunk-SBESXTFM.js";import"./chunk-NEB6MB4Y.js";var me=["signInNgForm"];function de(e,n){if(e&1&&(i(0,"fuse-alert",8),s(1),t()),e&2){let f=y();d("appearance","outline")("showIcon",!1)("type",f.alert.type)("@shake",f.alert.type==="error"),r(),k(" ",f.alert.message," ")}}function ce(e,n){e&1&&(i(0,"mat-error"),s(1," El correo es requirido "),t())}function ue(e,n){e&1&&(i(0,"mat-error"),s(1," El correo es invalido! "),t())}function pe(e,n){e&1&&c(0,"mat-icon",14),e&2&&d("svgIcon","heroicons_solid:eye")}function fe(e,n){e&1&&c(0,"mat-icon",14),e&2&&d("svgIcon","heroicons_solid:eye-slash")}function ge(e,n){e&1&&(i(0,"span"),s(1," Inciar sesi\xF3n "),t())}function he(e,n){e&1&&c(0,"mat-progress-spinner",16),e&2&&d("diameter",24)("mode","indeterminate")}function we(e,n){if(e&1){let f=_();i(0,"button",30),x("click",function(){h(f);let o=y();return w(o.installApp())}),s(1," Instalar "),t()}}var le=(()=>{let n=class n{constructor(l,o,a,m){this._activatedRoute=l,this._authService=o,this._formBuilder=a,this._router=m,this.showInstallButton=!1,this.alert={type:"success",message:""},this.showAlert=!1}ngOnInit(){this.signInForm=this._formBuilder.group({correo:["",[v.required,v.email]],contrasena:["",v.required]}),window.addEventListener("beforeinstallprompt",l=>{l.preventDefault(),this.deferredPrompt=l,this.showInstallButton=!0})}installApp(){this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(l=>{l.outcome==="accepted"?console.log("PWA instalada"):console.log("Instalaci\xF3n rechazada"),this.deferredPrompt=null}))}signIn(){if(this.signInForm.invalid)return;this.signInForm.disable(),this.showAlert=!1;let l=this.signInForm.getRawValue();this._authService.signIn(l).subscribe(()=>{let o=this._activatedRoute.snapshot.queryParamMap.get("redirectURL")||"/signed-in-redirect";this._router.navigateByUrl(o)},o=>{this.signInForm.enable(),this.signInNgForm.resetForm(),this.alert={type:"error",message:"\xA1Error de Usuario o Contrase\xF1a!"},this.showAlert=!0})}};n.\u0275fac=function(o){return new(o||n)(g(B),g(Q),g(Z),g(N))},n.\u0275cmp=C({type:n,selectors:[["auth-sign-in"]],viewQuery:function(o,a){if(o&1&&M(me,5),o&2){let m;E(m=A())&&(a.signInNgForm=m.first)}},standalone:!0,features:[V],decls:46,vars:12,consts:[["signInNgForm","ngForm"],["passwordField",""],[1,"flex","min-w-0","flex-auto","flex-col","items-center","sm:flex-row","sm:justify-center","md:items-start","md:justify-start"],[1,"w-full","px-4","py-8","sm:bg-card","sm:w-auto","sm:rounded-2xl","sm:p-12","sm:shadow","md:flex","md:h-full","md:w-1/2","md:items-center","md:justify-end","md:rounded-none","md:p-16","md:shadow-none"],[1,"mx-auto","w-full","max-w-80","sm:mx-0","sm:w-80"],[1,"w-4/5"],["src","images/logo/logo-azul.svg"],[1,"mt-8","text-4xl","font-extrabold","leading-tight","tracking-tight"],[1,"mt-8",3,"appearance","showIcon","type"],[1,"mt-8",3,"formGroup"],[1,"w-full"],["id","correo","matInput","",3,"formControlName"],["id","contrasena","matInput","","type","password",3,"formControlName"],["mat-icon-button","","type","button","matSuffix","",3,"click"],[1,"icon-size-5",3,"svgIcon"],["mat-flat-button","",1,"fuse-mat-button-large","mt-6","w-full","bg-crediblue-50","text-white","font-semibold","rounded-lg",3,"click","disabled"],[3,"diameter","mode"],["class","fuse-mat-button-large mt-6 w-full bg-crediorange-100 text-white font-semibold rounded-lg","mat-flat-button","",3,"click",4,"ngIf"],[1,"relative","hidden","h-full","w-1/2","flex-auto","items-center","justify-center","overflow-hidden","bg-gray-800","p-16","dark:border-l","md:flex","lg:px-28"],["viewBox","0 0 960 540","width","100%","height","100%","preserveAspectRatio","xMidYMax slice","xmlns","http://www.w3.org/2000/svg",1,"absolute","inset-0","pointer-events-none"],["fill","none","stroke","currentColor","stroke-width","100",1,"text-gray-700","opacity-25"],["r","234","cx","196","cy","23"],["r","234","cx","790","cy","491"],["viewBox","0 0 220 192","width","220","height","192","fill","none",1,"absolute","-top-16","-right-16","text-gray-700"],["id","837c3e70-6c3a-44e6-8854-cc48c737b659","x","0","y","0","width","20","height","20","patternUnits","userSpaceOnUse"],["x","0","y","0","width","4","height","4","fill","currentColor"],["width","220","height","192","fill","url(#837c3e70-6c3a-44e6-8854-cc48c737b659)"],[1,"relative","z-10","w-full","max-w-2xl"],[1,"text-7xl","font-bold","leading-none","text-gray-100"],[1,"mt-6","text-lg","leading-6","tracking-tight","text-gray-400"],["mat-flat-button","",1,"fuse-mat-button-large","mt-6","w-full","bg-crediorange-100","text-white","font-semibold","rounded-lg",3,"click"]],template:function(o,a){if(o&1){let m=_();i(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),c(4,"img",6),t(),i(5,"div",7),s(6," Inicio de sesi\xF3n "),t(),p(7,de,2,5,"fuse-alert",8),i(8,"form",9,0)(10,"mat-form-field",10)(11,"mat-label"),s(12,"Usuario"),t(),c(13,"input",11),p(14,ce,2,0,"mat-error")(15,ue,2,0,"mat-error"),t(),i(16,"mat-form-field",10)(17,"mat-label"),s(18,"Contrase\xF1a"),t(),c(19,"input",12,1),i(21,"button",13),x("click",function(){h(m);let I=b(20);return w(I.type==="password"?I.type="text":I.type="password")}),p(22,pe,1,1,"mat-icon",14)(23,fe,1,1,"mat-icon",14),t(),i(24,"mat-error"),s(25," Contrase\xF1a es invalida! "),t()(),i(26,"button",15),x("click",function(){return h(m),w(a.signIn())}),p(27,ge,2,0,"span")(28,he,1,2,"mat-progress-spinner",16),t(),p(29,we,2,0,"button",17),t()()(),i(30,"div",18),S(),i(31,"svg",19)(32,"g",20),c(33,"circle",21)(34,"circle",22),t()(),i(35,"svg",23)(36,"defs")(37,"pattern",24),c(38,"rect",25),t()(),c(39,"rect",26),t(),F(),i(40,"div",27)(41,"div",28)(42,"div"),s(43,"Bienvenido a CrediPlus"),t()(),i(44,"div",29),s(45," Plataforma para gestionar pr\xE9stamos a colaboradores de manera eficiente y segura. Inicia Sesi\xF3n y accede las opciones que tenemos para ti. "),t()()()()}if(o&2){let m=b(20);r(7),u(a.showAlert?7:-1),r(),d("formGroup",a.signInForm),r(5),d("formControlName","correo"),r(),u(a.signInForm.get("correo").hasError("required")?14:-1),r(),u(a.signInForm.get("correo").hasError("correo")?15:-1),r(4),d("formControlName","contrasena"),r(3),u(m.type==="password"?22:-1),r(),u(m.type==="text"?23:-1),r(3),d("disabled",a.signInForm.disabled),r(),u(a.signInForm.disabled?-1:27),r(),u(a.signInForm.disabled?28:-1),r(),d("ngIf",a.showInstallButton)}},dependencies:[re,$,J,H,W,Y,ee,K,X,U,j,T,P,R,ie,te,D,q,L,z,G,ae,oe,ne],encapsulation:2,data:{animation:O}});let e=n;return e})();var Ue=[{path:"",component:le}];export{Ue as default};
