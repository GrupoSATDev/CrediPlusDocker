import{a as Fe}from"./chunk-SY2UEK6G.js";import{a as Ee}from"./chunk-ACIMG2KZ.js";import{a as Ue}from"./chunk-H7DTTKLU.js";import{a as Se}from"./chunk-33XTDNRI.js";import{g as re}from"./chunk-QS2WZY2K.js";import"./chunk-JND367CQ.js";import"./chunk-7U4JZNVG.js";import{b as we}from"./chunk-PL6ORWQO.js";import{a as Ce,b as xe}from"./chunk-DI75G36X.js";import{a as ye}from"./chunk-CH3XODOV.js";import"./chunk-ZFQVSUZG.js";import{A as fe,B as ge,C as he,G as ve,H as _e,b as J,c as K,e as W,i as X,j as Z,l as le,n as v,p as se,q as ce,u as pe,w as de,x as ue}from"./chunk-JLNARVDU.js";import{$ as Y,ea as ee,ga as te,ha as ie,ja as oe,ka as ne}from"./chunk-DARKUWJB.js";import{a as me}from"./chunk-75YALSW6.js";import"./chunk-EENLYY7H.js";import{b as ae}from"./chunk-Y2QZQ4S5.js";import"./chunk-HHDBYFMG.js";import{d as $,e as H}from"./chunk-DJAHQBBJ.js";import{f as G,g as Q,i as z}from"./chunk-NP3GUERB.js";import{Cb as i,Db as t,Eb as s,Fb as T,Gb as I,Ib as N,Ob as S,Qb as k,Ub as D,Vb as V,Wb as q,X as U,Xb as _,Yb as r,Za as o,Zb as B,_a as w,_b as j,ec as R,fa as C,fc as L,ka as b,mc as O,nc as P,pb as g,rb as a,ua as x,va as y,wa as M,xa as A,yb as p}from"./chunk-32HXX3OB.js";import{a as F,d as E}from"./chunk-NEB6MB4Y.js";var Ae=["signUpNgForm"],Te=()=>["/sign-in"];function Ie(e,n){if(e&1&&(i(0,"fuse-alert",9),r(1),t()),e&2){let d=k();a("appearance","outline")("showIcon",!1)("type",d.alert.type)("@shake",d.alert.type==="error"),o(),j(" ",d.alert.message," ")}}function Ne(e,n){if(e&1&&(i(0,"mat-option",37),r(1),t()),e&2){let d=n.$implicit;a("value",d.id),o(),B(d.nombre)}}function ke(e,n){if(e&1&&(T(0),g(1,Ne,2,2,"mat-option",36),I()),e&2){let d=n.ngIf;o(),a("ngForOf",d.data)}}function De(e,n){e&1&&(i(0,"mat-error"),r(1,"N\xFAmero de documento es requerido! "),t())}function Ve(e,n){e&1&&(i(0,"mat-error"),r(1," Correo es requerido! "),t())}function qe(e,n){e&1&&(i(0,"mat-error"),r(1," Por favor ingresa un email valido! "),t())}function Be(e,n){e&1&&s(0,"mat-icon",18),e&2&&a("svgIcon","heroicons_solid:eye")}function je(e,n){e&1&&s(0,"mat-icon",18),e&2&&a("svgIcon","heroicons_solid:eye-slash")}function Re(e,n){e&1&&s(0,"mat-icon",18),e&2&&a("svgIcon","heroicons_solid:eye")}function Le(e,n){e&1&&s(0,"mat-icon",18),e&2&&a("svgIcon","heroicons_solid:eye-slash")}function Oe(e,n){e&1&&(i(0,"mat-error"),r(1,"Confirmar contrase\xF1a es requerida! "),t())}function Pe(e,n){e&1&&(i(0,"mat-error"),r(1," Las contrase\xF1as no coinciden! "),t())}function Ge(e,n){e&1&&(i(0,"span"),r(1," Crear cuenta "),t())}function Qe(e,n){e&1&&s(0,"mat-progress-spinner",21),e&2&&a("diameter",24)("mode","indeterminate")}var be=(()=>{let n=class n{constructor(h,m,l){this._authService=h,this._formBuilder=m,this._router=l,this.tiposDocumentosService=C(Fe),this.swalService=C(Ee),this.fuseService=C(re),this.tiposDocumentos$=this.tiposDocumentosService.getTiposDocumentos().pipe(U(c=>{let u=c.data;u&&this.signUpForm.get("idTipoDoc").setValue(u[3].id)})),this.alert={type:"success",message:""},this.showAlert=!1}ngOnInit(){this.signUpForm=this._formBuilder.group({idTipoDoc:[""],numDoc:["",v.required],correo:["",[v.required,v.email]],contrasena:["",v.required],confirmaContrasena:["",v.required]},{validators:ze("contrasena","confirmaContrasena")})}signUp(){if(this.signUpForm.invalid)return;this.signUpForm.disable(),this.showAlert=!1,this.fuseService.open(F({},Ue)).afterClosed().subscribe(m=>{let f=this.signUpForm.getRawValue(),{confirmaContrasena:l}=f,c=E(f,["confirmaContrasena"]),u=F({},c);m==="confirmed"&&this._authService.signUp(u).subscribe(Me=>{this.swalService.ToastAler({icon:"success",title:"Registro creado con exito!",timer:4e3}),setTimeout(()=>{this._router.navigateByUrl("/sign-in")},2e3)},Me=>{this.signUpForm.enable(),this.signUpNgForm.resetForm(),this.alert={type:"error",message:"\xA1Error al registrar!."},this.showAlert=!0})})}};n.\u0275fac=function(m){return new(m||n)(w(ae),w(fe),w($))},n.\u0275cmp=b({type:n,selectors:[["auth-sign-up"]],viewQuery:function(m,l){if(m&1&&D(Ae,5),m&2){let c;V(c=q())&&(l.signUpNgForm=c.first)}},standalone:!0,features:[R],decls:71,vars:25,consts:[["signUpNgForm","ngForm"],["passwordField",""],["passwordConfirm",""],[1,"flex","min-w-0","flex-auto","flex-col","items-center","sm:flex-row","sm:justify-center","md:items-start","md:justify-start"],[1,"w-full","px-4","py-8","sm:bg-card","sm:w-auto","sm:rounded-2xl","sm:p-12","sm:shadow","md:flex","md:h-full","md:w-1/2","md:items-center","md:justify-end","md:rounded-none","md:p-16","md:shadow-none"],[1,"mx-auto","w-full","max-w-80","sm:mx-0","sm:w-80"],[1,"w-4/5"],["src","images/logo/logo-azul.svg"],[1,"mt-8","text-4xl","font-extrabold","leading-tight","tracking-tight"],[1,"mt-8",3,"appearance","showIcon","type"],[1,"mt-8",3,"formGroup"],["floatLabel","always",1,"w-full"],["placeholder","Tipo de documento",3,"formControlName"],[4,"ngIf"],["id","numDoc","matInput","","placeholder","N\xFAmero de documento",3,"formControlName"],["id","email","matInput","","placeholder","Correo electronico",3,"formControlName"],["id","contrasena","matInput","","type","password","placeholder","Contrase\xF1a",3,"formControlName"],["mat-icon-button","","type","button","matSuffix","",3,"click"],[1,"icon-size-5",3,"svgIcon"],["id","confirmaContrasena","matInput","","type","password","placeholder","Confirmar contrase\xF1a",3,"formControlName"],["mat-flat-button","",1,"fuse-mat-button-large","mt-6","w-full","bg-crediblue-50","text-white","font-semibold","rounded-lg",3,"click","color","disabled"],[3,"diameter","mode"],[1,"mt-2","flex","flex-col","font-medium"],[1,"text-primary-500","hover:underline",3,"routerLink"],[1,"relative","hidden","h-full","w-1/2","flex-auto","items-center","justify-center","overflow-hidden","bg-gray-800","p-16","dark:border-l","md:flex","lg:px-28"],["viewBox","0 0 960 540","width","100%","height","100%","preserveAspectRatio","xMidYMax slice","xmlns","http://www.w3.org/2000/svg",1,"absolute","inset-0","pointer-events-none"],["fill","none","stroke","currentColor","stroke-width","100",1,"text-gray-700","opacity-25"],["r","234","cx","196","cy","23"],["r","234","cx","790","cy","491"],["viewBox","0 0 220 192","width","220","height","192","fill","none",1,"absolute","-top-16","-right-16","text-gray-700"],["id","837c3e70-6c3a-44e6-8854-cc48c737b659","x","0","y","0","width","20","height","20","patternUnits","userSpaceOnUse"],["x","0","y","0","width","4","height","4","fill","currentColor"],["width","220","height","192","fill","url(#837c3e70-6c3a-44e6-8854-cc48c737b659)"],[1,"relative","z-10","w-full","max-w-2xl"],[1,"text-7xl","font-bold","leading-none","text-gray-100"],[1,"mt-6","text-lg","leading-6","tracking-tight","text-gray-400"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(m,l){if(m&1){let c=N();i(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),s(4,"img",7),t(),i(5,"div",8),r(6," Registro de usuario "),t(),g(7,Ie,2,5,"fuse-alert",9),i(8,"form",10,0)(10,"mat-form-field",11)(11,"mat-label"),r(12,"Tipo de documento"),t(),i(13,"mat-select",12),g(14,ke,2,1,"ng-container",13),O(15,"async"),t()(),i(16,"mat-form-field",11)(17,"mat-label"),r(18,"N\xFAmero de documento"),t(),s(19,"input",14),g(20,De,2,0,"mat-error"),t(),i(21,"mat-form-field",11)(22,"mat-label"),r(23,"Correo electronico"),t(),s(24,"input",15),g(25,Ve,2,0,"mat-error")(26,qe,2,0,"mat-error"),t(),i(27,"mat-form-field",11)(28,"mat-label"),r(29,"Contrase\xF1a"),t(),s(30,"input",16,1),i(32,"button",17),S("click",function(){x(c);let f=_(31);return y(f.type==="password"?f.type="text":f.type="password")}),g(33,Be,1,1,"mat-icon",18)(34,je,1,1,"mat-icon",18),t(),i(35,"mat-error"),r(36," Contrase\xF1a es requerida! "),t()(),i(37,"mat-form-field",11)(38,"mat-label"),r(39,"Confirmar contrase\xF1a"),t(),s(40,"input",19,2),i(42,"button",17),S("click",function(){x(c);let f=_(41);return y(f.type==="password"?f.type="text":f.type="password")}),g(43,Re,1,1,"mat-icon",18)(44,Le,1,1,"mat-icon",18),t(),g(45,Oe,2,0,"mat-error")(46,Pe,2,0,"mat-error"),t(),i(47,"button",20),S("click",function(){return x(c),y(l.signUp())}),g(48,Ge,2,0,"span")(49,Qe,1,2,"mat-progress-spinner",21),t(),i(50,"div",22)(51,"div"),r(52,"Tienes cuenta de usuario?"),t(),i(53,"a",23),r(54,"Iniciar sesi\xF3n "),t()()()()(),i(55,"div",24),M(),i(56,"svg",25)(57,"g",26),s(58,"circle",27)(59,"circle",28),t()(),i(60,"svg",29)(61,"defs")(62,"pattern",30),s(63,"rect",31),t()(),s(64,"rect",32),t(),A(),i(65,"div",33)(66,"div",34)(67,"div"),r(68,"CrediPlus - Trabajador"),t()(),i(69,"div",35),r(70," Plataforma para gestionar pr\xE9stamos a colaboradores de manera eficiente y segura. Registrate y accede las opciones que tenemos para ti. "),t()()()()}if(m&2){let c=_(31),u=_(41);o(7),p(l.showAlert?7:-1),o(),a("formGroup",l.signUpForm),o(5),a("formControlName","idTipoDoc"),o(),a("ngIf",P(15,22,l.tiposDocumentos$)),o(5),a("formControlName","numDoc"),o(),p(l.signUpForm.get("numDoc").hasError("required")?20:-1),o(4),a("formControlName","correo"),o(),p(l.signUpForm.get("correo").hasError("required")?25:-1),o(),p(l.signUpForm.get("correo").hasError("email")?26:-1),o(4),a("formControlName","contrasena"),o(3),p(c.type==="password"?33:-1),o(),p(c.type==="text"?34:-1),o(6),a("formControlName","confirmaContrasena"),o(3),p(u.type==="password"?43:-1),o(),p(u.type==="text"?44:-1),o(),p(l.signUpForm.get("confirmaContrasena").hasError("required")?45:-1),o(),p(l.signUpForm.get("confirmaContrasena").hasError("passwordMismatchError")?46:-1),o(),a("color","primary")("disabled",l.signUpForm.disabled),o(),p(l.signUpForm.disabled?-1:48),o(),p(l.signUpForm.disabled?49:-1),o(4),a("routerLink",L(24,Te))}},dependencies:[H,ye,ge,pe,le,se,ce,he,de,ue,Z,X,J,K,W,_e,ve,ie,ee,te,ne,oe,we,xe,Ce,Se,Y,z,G,Q],encapsulation:2,data:{animation:me}});let e=n;return e})();function ze(e,n){return d=>{let h=d.get(e),m=d.get(n);return m?.errors&&!m.errors.passwordMismatchError||(h?.value!==m?.value?m?.setErrors({passwordMismatchError:!0}):m?.setErrors(null)),null}}var Et=[{path:"",component:be}];export{Et as default};
