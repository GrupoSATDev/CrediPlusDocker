import{m as yt,p as bt}from"./chunk-7U4JZNVG.js";import{k as Mt,m as It}from"./chunk-CURMXRYA.js";import{G as St,J as $e,U as Re,V as xt,a as _t,g as gt,j as kt,ja as Ct,z as vt}from"./chunk-DARKUWJB.js";import{c as qe,d as Ue,e as Ge,g as te,h as ie,j as Ke,k as Je,l as Xe}from"./chunk-EENLYY7H.js";import{b as We,h as Ve}from"./chunk-NP3GUERB.js";import{$ as _e,Ab as Oe,Bb as Pe,Ca as Z,Cb as S,Cc as pe,Da as z,Db as y,Dc as ut,Ea as ve,Eb as Be,Hb as ee,Ib as Ae,J as lt,Jb as ce,Ob as L,Qb as k,Rb as xe,Sb as ye,T as ae,Tb as j,U as ct,Ub as Fe,V as J,Vb as O,Wb as P,Xb as Ze,Yb as W,Za as u,Zb as V,_ as Te,_a as _,a as at,ab as X,ca as ne,db as ht,dc as be,ec as he,f as ue,fa as w,gc as Qe,hc as Ce,ib as pt,ka as oe,kb as Y,l as nt,lb as je,ma as M,pb as N,pc as ft,q as ot,qb as Se,rb as D,ta as De,tb as Q,ua as ge,va as ke,vb as dt,wb as mt,ya as le,yb as $,zb as Ne,zc as Me}from"./chunk-32HXX3OB.js";import{a as fe,g as rt}from"./chunk-NEB6MB4Y.js";var Kt=["*"];function Jt(a,r){a&1&&ye(0)}var Ye=(()=>{let r=class r{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}};r.\u0275fac=function(t){return new(t||r)(_(Z))},r.\u0275dir=M({type:r,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"],standalone:!0});let a=r;return a})(),et=(()=>{let r=class r{constructor(e){this.template=e}};r.\u0275fac=function(t){return new(t||r)(_(X))},r.\u0275dir=M({type:r,selectors:[["","cdkStepLabel",""]],standalone:!0});let a=r;return a})(),Xt=0;var B={NUMBER:"number",EDIT:"edit",DONE:"done",ERROR:"error"},tt=new ne("STEPPER_GLOBAL_OPTIONS"),He=(()=>{let r=class r{get completed(){return this._completedOverride==null?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=e}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError==null?this._getDefaultError():this._customError}set hasError(e){this._customError=e}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(e,t){this._stepper=e,this.interacted=!1,this.interactedStream=new z,this.editable=!0,this.optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=t||{},this._displayDefaultIndicatorType=this._stepperOptions.displayDefaultIndicatorType!==!1}select(){this._stepper.selected=this}reset(){this.interacted=!1,this._completedOverride!=null&&(this._completedOverride=!1),this._customError!=null&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??this._customError!=null}};r.\u0275fac=function(t){return new(t||r)(_(Te(()=>de)),_(tt,8))},r.\u0275cmp=oe({type:r,selectors:[["cdk-step"]],contentQueries:function(t,i,s){if(t&1&&j(s,et,5),t&2){let o;O(o=P())&&(i.stepLabel=o.first)}},viewQuery:function(t,i){if(t&1&&Fe(X,7),t&2){let s;O(s=P())&&(i.content=s.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],state:"state",editable:[2,"editable","editable",pe],optional:[2,"optional","optional",pe],completed:[2,"completed","completed",pe],hasError:[2,"hasError","hasError",pe]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],standalone:!0,features:[je,De,he],ngContentSelectors:Kt,decls:1,vars:0,template:function(t,i){t&1&&(xe(),N(0,Jt,1,0,"ng-template"))},encapsulation:2,changeDetection:0});let a=r;return a})(),de=(()=>{let r=class r{get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this.steps&&this._steps?(this._isValidIndex(e),this.selected?._markAsInteracted(),this._selectedIndex!==e&&!this._anyControlsInvalidOrPending(e)&&(e>=this._selectedIndex||this.steps.toArray()[e].editable)&&this._updateSelectedItemIndex(e)):this._selectedIndex=e}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation(e==="vertical")}constructor(e,t,i){this._dir=e,this._changeDetectorRef=t,this._elementRef=i,this._destroyed=new ue,this.steps=new ve,this._sortedHeaders=new ve,this.linear=!1,this._selectedIndex=0,this.selectionChange=new z,this.selectedIndexChange=new z,this._orientation="horizontal",this._groupId=Xt++}ngAfterContentInit(){this._steps.changes.pipe(ae(this._steps),J(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(t=>t._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(ae(this._stepHeader),J(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((t,i)=>t._elementRef.nativeElement.compareDocumentPosition(i._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new vt(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation(this._orientation==="vertical"),(this._dir?this._dir.change:nt()).pipe(ae(this._layoutDirection()),J(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){let t=e-this._selectedIndex;return t<0?this._layoutDirection()==="rtl"?"next":"previous":t>0?this._layoutDirection()==="rtl"?"previous":"next":"current"}_getIndicatorType(e,t=B.NUMBER){let i=this.steps.toArray()[e],s=this._isCurrentStep(e);return i._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(i,s):this._getGuidelineLogic(i,s,t)}_getDefaultIndicatorLogic(e,t){return e._showError()&&e.hasError&&!t?B.ERROR:!e.completed||t?B.NUMBER:e.editable?B.EDIT:B.DONE}_getGuidelineLogic(e,t,i=B.NUMBER){return e._showError()&&e.hasError&&!t?B.ERROR:e.completed&&!t?B.DONE:e.completed&&t?i:e.editable&&t?B.EDIT:i}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){let t=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:t[e],previouslySelectedStep:t[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(e){let t=kt(e),i=e.keyCode,s=this._keyManager;s.activeItemIndex!=null&&!t&&(i===32||i===13)?(this.selectedIndex=s.activeItemIndex,e.preventDefault()):s.setFocusOrigin("keyboard").onKeydown(e)}_anyControlsInvalidOrPending(e){return this.linear&&e>=0?this.steps.toArray().slice(0,e).some(t=>{let i=t.stepControl;return(i?i.invalid||i.pending||!t.interacted:!t.completed)&&!t.optional&&!t._completedOverride}):!1}_layoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_containsFocus(){let e=this._elementRef.nativeElement,t=gt();return e===t||e.contains(t)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}};r.\u0275fac=function(t){return new(t||r)(_($e,8),_(Me),_(Z))},r.\u0275dir=M({type:r,selectors:[["","cdkStepper",""]],contentQueries:function(t,i,s){if(t&1&&(j(s,He,5),j(s,Ye,5)),t&2){let o;O(o=P())&&(i._steps=o),O(o=P())&&(i._stepHeader=o)}},inputs:{linear:[2,"linear","linear",pe],selectedIndex:[2,"selectedIndex","selectedIndex",ut],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"],standalone:!0,features:[je]});let a=r;return a})(),Et=(()=>{let r=class r{constructor(e){this._stepper=e,this.type="submit"}};r.\u0275fac=function(t){return new(t||r)(_(de))},r.\u0275dir=M({type:r,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(t,i){t&1&&L("click",function(){return i._stepper.next()}),t&2&&ce("type",i.type)},inputs:{type:"type"},standalone:!0});let a=r;return a})(),Tt=(()=>{let r=class r{constructor(e){this._stepper=e,this.type="button"}};r.\u0275fac=function(t){return new(t||r)(_(de))},r.\u0275dir=M({type:r,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(t,i){t&1&&L("click",function(){return i._stepper.previous()}),t&2&&ce("type",i.type)},inputs:{type:"type"},standalone:!0});let a=r;return a})();function Yt(a,r){if(a&1&&ee(0,2),a&2){let c=k();D("ngTemplateOutlet",c.iconOverrides[c.state])("ngTemplateOutletContext",c._getIconContext())}}function ei(a,r){if(a&1&&(S(0,"span",7),W(1),y()),a&2){let c=k(2);u(),V(c._getDefaultTextForState(c.state))}}function ti(a,r){if(a&1&&(S(0,"span",8),W(1),y()),a&2){let c=k(3);u(),V(c._intl.completedLabel)}}function ii(a,r){if(a&1&&(S(0,"span",8),W(1),y()),a&2){let c=k(3);u(),V(c._intl.editableLabel)}}function si(a,r){if(a&1&&(N(0,ti,2,1,"span",8)(1,ii,2,1,"span",8),S(2,"mat-icon",7),W(3),y()),a&2){let c=k(2);$(c.state==="done"?0:c.state==="edit"?1:-1),u(3),V(c._getDefaultTextForState(c.state))}}function ri(a,r){if(a&1&&N(0,ei,2,1,"span",7)(1,si,4,2,"mat-icon",7),a&2){let c,e=k();$((c=e.state)==="number"?0:1)}}function ai(a,r){a&1&&(S(0,"div",4),ee(1,9),y()),a&2&&(u(),D("ngTemplateOutlet",r.template))}function ni(a,r){if(a&1&&(S(0,"div",4),W(1),y()),a&2){let c=k();u(),V(c.label)}}function oi(a,r){if(a&1&&(S(0,"div",5),W(1),y()),a&2){let c=k();u(),V(c._intl.optionalLabel)}}function li(a,r){if(a&1&&(S(0,"div",6),W(1),y()),a&2){let c=k();u(),V(c.errorMessage)}}var Ot=["*"];function ci(a,r){}function hi(a,r){if(a&1&&(ye(0),N(1,ci,0,0,"ng-template",0)),a&2){let c=k();u(),D("cdkPortalOutlet",c._portal)}}var Pt=(a,r)=>({step:a,i:r}),At=a=>({animationDuration:a}),Ft=(a,r)=>({value:a,params:r});function pi(a,r){a&1&&ye(0)}function di(a,r){a&1&&Be(0,"div",6)}function mi(a,r){if(a&1&&(ee(0,5),N(1,di,1,0,"div",6)),a&2){let c=r.$implicit,e=r.$index,t=r.$count;k(2);let i=Ze(4);D("ngTemplateOutlet",i)("ngTemplateOutletContext",Ce(3,Pt,c,e)),u(),$(e!==t-1?1:-1)}}function fi(a,r){if(a&1){let c=Ae();S(0,"div",7),L("@horizontalStepTransition.done",function(t){ge(c);let i=k(2);return ke(i._animationDone.next(t))}),ee(1,8),y()}if(a&2){let c=r.$implicit,e=r.$index,t=k(2);Q("mat-horizontal-stepper-content-inactive",t.selectedIndex!==e),D("@horizontalStepTransition",Ce(8,Ft,t._getAnimationDirection(e),Qe(6,At,t._getAnimationDuration())))("id",t._getStepContentId(e)),Se("aria-labelledby",t._getStepLabelId(e)),u(),D("ngTemplateOutlet",c.content)}}function ui(a,r){if(a&1&&(S(0,"div",1)(1,"div",2),Oe(2,mi,2,6,null,null,Ne),y(),S(4,"div",3),Oe(5,fi,2,11,"div",4,Ne),y()()),a&2){let c=k();u(2),Pe(c.steps),u(3),Pe(c.steps)}}function _i(a,r){if(a&1){let c=Ae();S(0,"div",9),ee(1,5),S(2,"div",10)(3,"div",11),L("@verticalStepTransition.done",function(t){ge(c);let i=k(2);return ke(i._animationDone.next(t))}),S(4,"div",12),ee(5,8),y()()()()}if(a&2){let c=r.$implicit,e=r.$index,t=r.$count,i=k(2),s=Ze(4);u(),D("ngTemplateOutlet",s)("ngTemplateOutletContext",Ce(10,Pt,c,e)),u(),Q("mat-stepper-vertical-line",e!==t-1),u(),Q("mat-vertical-stepper-content-inactive",i.selectedIndex!==e),D("@verticalStepTransition",Ce(15,Ft,i._getAnimationDirection(e),Qe(13,At,i._getAnimationDuration())))("id",i._getStepContentId(e)),Se("aria-labelledby",i._getStepLabelId(e)),u(2),D("ngTemplateOutlet",c.content)}}function gi(a,r){if(a&1&&Oe(0,_i,6,18,"div",9,Ne),a&2){let c=k();Pe(c.steps)}}function ki(a,r){if(a&1){let c=Ae();S(0,"mat-step-header",13),L("click",function(){let t=ge(c).step;return ke(t.select())})("keydown",function(t){ge(c);let i=k();return ke(i._onKeydown(t))}),y()}if(a&2){let c=r.step,e=r.i,t=k();Q("mat-horizontal-stepper-header",t.orientation==="horizontal")("mat-vertical-stepper-header",t.orientation==="vertical"),D("tabIndex",t._getFocusIndex()===e?0:-1)("id",t._getStepLabelId(e))("index",e)("state",t._getIndicatorType(e,c.state))("label",c.stepLabel||c.label)("selected",t.selectedIndex===e)("active",t._stepIsNavigable(e,c))("optional",c.optional)("errorMessage",c.errorMessage)("iconOverrides",t._iconOverrides)("disableRipple",t.disableRipple||!t._stepIsNavigable(e,c))("color",c.color||t.color),Se("aria-posinset",e+1)("aria-setsize",t.steps.length)("aria-controls",t._getStepContentId(e))("aria-selected",t.selectedIndex==e)("aria-label",c.ariaLabel||null)("aria-labelledby",!c.ariaLabel&&c.ariaLabelledby?c.ariaLabelledby:null)("aria-disabled",t._stepIsNavigable(e,c)?null:!0)}}var it=(()=>{let r=class r extends et{};r.\u0275fac=(()=>{let e;return function(i){return(e||(e=le(r)))(i||r)}})(),r.\u0275dir=M({type:r,selectors:[["","matStepLabel",""]],standalone:!0,features:[Y]});let a=r;return a})(),vi=(()=>{let r=class r{constructor(){this.changes=new ue,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}};r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();var Dt=(()=>{let r=class r extends Ye{constructor(e,t,i,s){super(i),this._intl=e,this._focusMonitor=t,this._intlSubscription=e.changes.subscribe(()=>s.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,t){e?this._focusMonitor.focusVia(this._elementRef,e,t):this._elementRef.nativeElement.focus(t)}_stringLabel(){return this.label instanceof it?null:this.label}_templateLabel(){return this.label instanceof it?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return e=="number"?`${this.index+1}`:e=="edit"?"create":e=="error"?"warning":e}};r.\u0275fac=function(t){return new(t||r)(_(vi),_(St),_(Z),_(Me))},r.\u0275cmp=oe({type:r,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(t,i){t&2&&dt("mat-"+(i.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},standalone:!0,features:[Y,he],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(t,i){if(t&1&&(Be(0,"div",0),S(1,"div")(2,"div",1),N(3,Yt,1,2,"ng-container",2)(4,ri,2,1),y()(),S(5,"div",3),N(6,ai,2,1,"div",4)(7,ni,2,1,"div",4)(8,oi,2,1,"div",5)(9,li,2,1,"div",6),y()),t&2){let s;D("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disableRipple),u(),mt("mat-step-icon-state-",i.state," mat-step-icon"),Q("mat-step-icon-selected",i.selected),u(2),$(i.iconOverrides&&i.iconOverrides[i.state]?3:4),u(2),Q("mat-step-label-active",i.active)("mat-step-label-selected",i.selected)("mat-step-label-error",i.state=="error"),u(),$((s=i._templateLabel())?6:i._stringLabel()?7:-1,s),u(2),$(i.optional&&i.state!="error"?8:-1),u(),$(i.state==="error"?9:-1)}},dependencies:[xt,Ve,Ct],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color);border-radius:var(--mat-stepper-header-hover-state-layer-shape)}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color);border-radius:var(--mat-stepper-header-focus-state-layer-shape)}@media(hover: none){.mat-step-header:hover{background:none}}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color)}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color);background-color:var(--mat-stepper-header-icon-background-color)}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color);color:var(--mat-stepper-header-error-state-icon-foreground-color)}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font);font-size:var(--mat-stepper-header-label-text-size);font-weight:var(--mat-stepper-header-label-text-weight);color:var(--mat-stepper-header-label-text-color)}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color)}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color);font-size:var(--mat-stepper-header-error-state-label-text-size)}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size);font-weight:var(--mat-stepper-header-selected-state-label-text-weight)}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color);color:var(--mat-stepper-header-selected-state-icon-foreground-color)}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color);color:var(--mat-stepper-header-edit-state-icon-foreground-color)}'],encapsulation:2,changeDetection:0});let a=r;return a})(),$t="500ms",Rt="225ms",Nt={horizontalStepTransition:qe("horizontalStepTransition",[ie("previous",te({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),ie("current",te({transform:"none",visibility:"inherit"})),ie("next",te({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),Ke("* => *",Ge([Ue("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),Xe("@*",Je(),{optional:!0})]),{params:{animationDuration:$t}})]),verticalStepTransition:qe("verticalStepTransition",[ie("previous",te({height:"0px",visibility:"hidden"})),ie("next",te({height:"0px",visibility:"hidden"})),ie("current",te({height:"*",visibility:"inherit"})),Ke("* <=> current",Ge([Ue("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),Xe("@*",Je(),{optional:!0})]),{params:{animationDuration:Rt}})])},Si=(()=>{let r=class r{constructor(e){this.templateRef=e}};r.\u0275fac=function(t){return new(t||r)(_(X))},r.\u0275dir=M({type:r,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[0,"matStepperIcon","name"]},standalone:!0});let a=r;return a})(),xi=(()=>{let r=class r{constructor(e){this._template=e}};r.\u0275fac=function(t){return new(t||r)(_(X))},r.\u0275dir=M({type:r,selectors:[["ng-template","matStepContent",""]],standalone:!0});let a=r;return a})(),yi=(()=>{let r=class r extends He{constructor(e,t,i,s){super(e,s),this._errorStateMatcher=t,this._viewContainerRef=i,this._isSelected=at.EMPTY,this.stepLabel=void 0}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(ct(()=>this._stepper.selectionChange.pipe(ot(e=>e.selectedStep===this),ae(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new yt(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,t){let i=this._errorStateMatcher.isErrorState(e,t),s=!!(e&&e.invalid&&this.interacted);return i||s}};r.\u0275fac=function(t){return new(t||r)(_(Te(()=>bi)),_(Re,4),_(pt),_(tt,8))},r.\u0275cmp=oe({type:r,selectors:[["mat-step"]],contentQueries:function(t,i,s){if(t&1&&(j(s,it,5),j(s,xi,5)),t&2){let o;O(o=P())&&(i.stepLabel=o.first),O(o=P())&&(i._lazyContent=o.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],standalone:!0,features:[be([{provide:Re,useExisting:r},{provide:He,useExisting:r}]),Y,he],ngContentSelectors:Ot,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(t,i){t&1&&(xe(),N(0,hi,2,1,"ng-template"))},dependencies:[bt],encapsulation:2,changeDetection:0});let a=r;return a})(),bi=(()=>{let r=class r extends de{get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}constructor(e,t,i){super(e,t,i),this._stepHeader=void 0,this._steps=void 0,this.steps=new ve,this.animationDone=new z,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new ue,this._animationDuration="",this._isServer=!w(_t).isBrowser;let s=i.nativeElement.nodeName.toLowerCase();this.orientation=s==="mat-vertical-stepper"?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:t})=>this._iconOverrides[e]=t),this.steps.changes.pipe(J(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(lt((e,t)=>e.fromState===t.fromState&&e.toState===t.toState),J(this._destroyed)).subscribe(e=>{e.toState==="current"&&this.animationDone.emit()})}_stepIsNavigable(e,t){return t.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:this.orientation==="horizontal"?$t:Rt}};r.\u0275fac=function(t){return new(t||r)(_($e,8),_(Me),_(Z))},r.\u0275cmp=oe({type:r,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(t,i,s){if(t&1&&(j(s,yi,5),j(s,Si,5)),t&2){let o;O(o=P())&&(i._steps=o),O(o=P())&&(i._icons=o)}},viewQuery:function(t,i){if(t&1&&Fe(Dt,5),t&2){let s;O(s=P())&&(i._stepHeader=s)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(t,i){t&2&&(Se("aria-orientation",i.orientation),Q("mat-stepper-horizontal",i.orientation==="horizontal")("mat-stepper-vertical",i.orientation==="vertical")("mat-stepper-label-position-end",i.orientation==="horizontal"&&i.labelPosition=="end")("mat-stepper-label-position-bottom",i.orientation==="horizontal"&&i.labelPosition=="bottom")("mat-stepper-header-position-bottom",i.headerPosition==="bottom"))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],standalone:!0,features:[be([{provide:de,useExisting:r}]),Y,he],ngContentSelectors:Ot,decls:5,vars:2,consts:[["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","mat-horizontal-stepper-content-inactive"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(t,i){if(t&1&&(xe(),N(0,pi,1,0)(1,ui,7,0,"div",1)(2,gi,2,0)(3,ki,1,23,"ng-template",null,0,ft)),t&2){let s;$(i._isServer?0:-1),u(),$((s=i.orientation)==="horizontal"?1:s==="vertical"?2:-1)}},dependencies:[Ve,Dt],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font);background:var(--mat-stepper-container-color)}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color)}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color);top:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[Nt.horizontalStepTransition,Nt.verticalStepTransition]},changeDetection:0});let a=r;return a})(),Is=(()=>{let r=class r extends Et{};r.\u0275fac=(()=>{let e;return function(i){return(e||(e=le(r)))(i||r)}})(),r.\u0275dir=M({type:r,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(t,i){t&2&&ce("type",i.type)},standalone:!0,features:[Y]});let a=r;return a})(),ws=(()=>{let r=class r extends Tt{};r.\u0275fac=(()=>{let e;return function(i){return(e||(e=le(r)))(i||r)}})(),r.\u0275dir=M({type:r,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(t,i){t&2&&ce("type",i.type)},standalone:!0,features:[Y]});let a=r;return a})();var ze=new ne("ngx-mask config"),Ht=new ne("new ngx-mask config"),zt=new ne("initial ngx-mask config"),Ci={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,apm:!1,leadZero:!1,keepCharacterPositions:!1,triggerOnMaskChange:!1,inputTransformFn:a=>a,outputTransformFn:a=>a,maskFilled:new z,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},Mi=["Hh:m0:s0","Hh:m0","m0:s0"],Ii=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"],wi=(()=>{let r=class r{constructor(){this._config=w(ze),this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.hiddenInput=this._config.hiddenInput,this.clearIfNotMatch=this._config.clearIfNotMatch,this.specialCharacters=this._config.specialCharacters,this.patterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime,this.leadZero=this._config.leadZero,this.apm=this._config.apm,this.inputTransformFn=this._config.inputTransformFn,this.outputTransformFn=this._config.outputTransformFn,this.keepCharacterPositions=this._config.keepCharacterPositions,this._shift=new Set,this.plusOnePosition=!1,this.maskExpression="",this.actualValue="",this.showKeepCharacterExp="",this.shownMaskExpression="",this.deletedSpecialCharacter=!1,this._formatWithSeparators=(e,t,i,s)=>{let o=[],d="";if(Array.isArray(i)){let v=new RegExp(i.map(f=>"[\\^$.|?*+()".indexOf(f)>=0?`\\${f}`:f).join("|"));o=e.split(v),d=e.match(v)?.[0]??""}else o=e.split(i),d=i;let n=o.length>1?`${d}${o[1]}`:"",l=o[0]??"",p=this.separatorLimit.replace(/\s/g,"");p&&+p&&(l[0]==="-"?l=`-${l.slice(1,l.length).slice(0,p.length)}`:l=l.slice(0,p.length));let b=/(\d+)(\d{3})/;for(;t&&b.test(l);)l=l.replace(b,"$1"+t+"$2");return s===void 0?l+n:s===0?l:l+n.substring(0,s+1)},this.percentage=e=>{let t=e.replace(",","."),i=Number(this.allowNegativeNumbers&&e.includes("-")?t.slice(1,e.length):t);return!isNaN(i)&&i>=0&&i<=100},this.getPrecision=e=>{let t=e.split(".");return t.length>1?Number(t[t.length-1]):1/0},this.checkAndRemoveSuffix=e=>{for(let t=this.suffix?.length-1;t>=0;t--){let i=this.suffix.substring(t,this.suffix?.length);if(e.includes(i)&&t!==this.suffix?.length-1&&(t-1<0||!e.includes(this.suffix.substring(t-1,this.suffix?.length))))return e.replace(i,"")}return e},this.checkInputPrecision=(e,t,i)=>{if(t<1/0){if(Array.isArray(i)){let n=i.find(l=>l!==this.thousandSeparator);i=n||i[0]}let s=new RegExp(this._charToRegExpExpression(i)+`\\d{${t}}.*$`),o=e.match(s),d=(o&&o[0]?.length)??0;if(d-1>t){let n=d-1-t;e=e.substring(0,e.length-n)}t===0&&this._compareOrIncludes(e[e.length-1],i,this.thousandSeparator)&&(e=e.substring(0,e.length-1))}return e}}applyMaskWithPattern(e,t){let[i,s]=t;return this.customPattern=s,this.applyMask(e,i)}applyMask(e,t,i=0,s=!1,o=!1,d=()=>{}){if(!t||typeof e!="string")return"";let n=0,l="",p=!1,b=!1,v=1,f=!1;e.slice(0,this.prefix.length)===this.prefix&&(e=e.slice(this.prefix.length,e.length)),this.suffix&&e?.length>0&&(e=this.checkAndRemoveSuffix(e)),e==="("&&this.prefix&&(e="");let g=e.toString().split("");if(this.allowNegativeNumbers&&e.slice(n,n+1)==="-"&&(l+=e.slice(n,n+1)),t==="IP"){let m=e.split(".");this.ipError=this._validIP(m),t="099.099.099.099"}let E=[];for(let m=0;m<e.length;m++)e[m]?.match("\\d")&&E.push(e[m]??"");if(t==="CPF_CNPJ"&&(this.cpfCnpjError=E.length!==11&&E.length!==14,E.length>11?t="00.000.000/0000-00":t="000.000.000-00"),t.startsWith("percent")){if(e.match("[a-z]|[A-Z]")||e.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)&&!o){e=this._stripToDecimal(e);let I=this.getPrecision(t);e=this.checkInputPrecision(e,I,this.decimalMarker)}let m=typeof this.decimalMarker=="string"?this.decimalMarker:".";if(e.indexOf(m)>0&&!this.percentage(e.substring(0,e.indexOf(m)))){let I=e.substring(0,e.indexOf(m)-1);this.allowNegativeNumbers&&e.slice(n,n+1)==="-"&&!o&&(I=e.substring(0,e.indexOf(m))),e=`${I}${e.substring(e.indexOf(m),e.length)}`}let h="";this.allowNegativeNumbers&&e.slice(n,n+1)==="-"?h=`-${e.slice(n+1,n+e.length)}`:h=e,this.percentage(h)?l=this._splitPercentZero(e):l=this._splitPercentZero(e.substring(0,e.length-1))}else if(t.startsWith("separator")){(e.match("[w\u0430-\u044F\u0410-\u042F]")||e.match("[\u0401\u0451\u0410-\u044F]")||e.match("[a-z]|[A-Z]")||e.match(/[-@#!$%\\^&*()_£¬'+|~=`{}\]:";<>.?/]/)||e.match("[^A-Za-z0-9,]"))&&(e=this._stripToDecimal(e));let m=this.getPrecision(t),h=Array.isArray(this.decimalMarker)?".":this.decimalMarker;if(m===0?e=this.allowNegativeNumbers?e.length>2&&e[0]==="-"&&e[1]==="0"&&e[2]!==this.thousandSeparator&&e[2]!==","&&e[2]!=="."?"-"+e.slice(2,e.length):e[0]==="0"&&e.length>1&&e[1]!==this.thousandSeparator&&e[1]!==","&&e[1]!=="."?e.slice(1,e.length):e:e.length>1&&e[0]==="0"&&e[1]!==this.thousandSeparator&&e[1]!==","&&e[1]!=="."?e.slice(1,e.length):e:(e[0]===h&&e.length>1&&(e="0"+e.slice(0,e.length+1),this.plusOnePosition=!0),e[0]==="0"&&e[1]!==h&&e[1]!==this.thousandSeparator&&(e=e.length>1?e.slice(0,1)+h+e.slice(1,e.length+1):e,this.plusOnePosition=!0),this.allowNegativeNumbers&&e[0]==="-"&&(e[1]===h||e[1]==="0")&&(e=e[1]===h&&e.length>2?e.slice(0,1)+"0"+e.slice(1,e.length):e[1]==="0"&&e.length>2&&e[2]!==h?e.slice(0,2)+h+e.slice(2,e.length):e,this.plusOnePosition=!0)),o){let C=e.slice(this._findFirstNonZeroDigitIndex(e),e.length),F=e[i]==="0"||e[i]===h,K=e[0]==="0",H=e[0]==="-",we=e[0]===this.thousandSeparator,Ee=e[1]===h,re=e[1]==="0",Le=e[2]===h;K&&Ee&&F&&i<2&&(e=C),H&&re&&Le&&F&&i<3&&(e="-"+C),C!=="-"&&(i===0&&(K||we)||this.allowNegativeNumbers&&i===1&&H&&!re)&&(e=H?"-"+C:C)}let I=this._charToRegExpExpression(this.thousandSeparator),x='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(I,"");if(Array.isArray(this.decimalMarker))for(let C of this.decimalMarker)x=x.replace(this._charToRegExpExpression(C),"");else x=x.replace(this._charToRegExpExpression(this.decimalMarker),"");let R=new RegExp("["+x+"]");e.match(R)&&(e=e.substring(0,e.length-1)),e=this.checkInputPrecision(e,m,this.decimalMarker);let A=e.replace(new RegExp(I,"g"),"");l=this._formatWithSeparators(A,this.thousandSeparator,this.decimalMarker,m);let G=l.indexOf(",")-e.indexOf(","),T=l.length-e.length;if(l[i-1]===this.thousandSeparator&&this.prefix&&o)i=i-1;else if(T>0&&l[i]!==this.thousandSeparator){b=!0;let C=0;do this._shift.add(i+C),C++;while(C<T)}else l[i-1]===this.decimalMarker||T===-4||T===-3||l[i]===this.thousandSeparator?(this._shift.clear(),this._shift.add(i-1)):G!==0&&i>0&&!(l.indexOf(",")>=i&&i>3)||!(l.indexOf(".")>=i&&i>3)&&T<=0?(this._shift.clear(),b=!0,v=T,i+=T,this._shift.add(i)):this._shift.clear()}else for(let m=0,h=g[0];m<g.length&&n!==t.length;m++,h=g[m]??""){let I="*"in this.patterns;if(this._checkSymbolMask(h,t[n]??"")&&t[n+1]==="?")l+=h,n+=2;else if(t[n+1]==="*"&&p&&this._checkSymbolMask(h,t[n+2]??""))l+=h,n+=3,p=!1;else if(this._checkSymbolMask(h,t[n]??"")&&t[n+1]==="*"&&!I)l+=h,p=!0;else if(t[n+1]==="?"&&this._checkSymbolMask(h,t[n+2]??""))l+=h,n+=3;else if(this._checkSymbolMask(h,t[n]??"")){if(t[n]==="H"&&(this.apm?Number(h)>9:Number(h)>2)){i=this.leadZeroDateTime?i:i+1,n+=1,this._shiftStep(t,n,g.length),m--,this.leadZeroDateTime&&(l+="0");continue}if(t[n]==="h"&&(this.apm?l.length===1&&Number(l)>1||l==="1"&&Number(h)>2||e.slice(n-1,n).length===1&&Number(e.slice(n-1,n))>2||e.slice(n-1,n)==="1"&&Number(h)>2:l==="2"&&Number(h)>3||(l.slice(n-2,n)==="2"||l.slice(n-3,n)==="2"||l.slice(n-4,n)==="2"||l.slice(n-1,n)==="2")&&Number(h)>3&&n>10)){i=i+1,n+=1,m--;continue}if((t[n]==="m"||t[n]==="s")&&Number(h)>5){i=this.leadZeroDateTime?i:i+1,n+=1,this._shiftStep(t,n,g.length),m--,this.leadZeroDateTime&&(l+="0");continue}let x=31,R=e[n],A=e[n+1],G=e[n+2],T=e[n-1],C=e[n-2],F=e.slice(n-3,n-1),K=e.slice(n-1,n+1),H=e.slice(n,n+2),we=e.slice(n-2,n);if(t[n]==="d"){let Ee=t.slice(0,2)==="M0",re=t.slice(0,2)==="M0"&&this.specialCharacters.includes(C);if(Number(h)>3&&this.leadZeroDateTime||!Ee&&(Number(H)>x||Number(K)>x||this.specialCharacters.includes(A))||(re?Number(K)>x||!this.specialCharacters.includes(R)&&this.specialCharacters.includes(G)||this.specialCharacters.includes(R):Number(H)>x||this.specialCharacters.includes(A))){i=this.leadZeroDateTime?i:i+1,n+=1,this._shiftStep(t,n,g.length),m--,this.leadZeroDateTime&&(l+="0");continue}}if(t[n]==="M"){let re=n===0&&(Number(h)>2||Number(H)>12||this.specialCharacters.includes(A)&&!o),Le=t.slice(n+2,n+3),Lt=F.includes(Le)&&t.includes("d0")&&(this.specialCharacters.includes(C)&&Number(K)>12&&!this.specialCharacters.includes(R)||this.specialCharacters.includes(R)),jt=Number(F)<=x&&!this.specialCharacters.includes(F)&&this.specialCharacters.includes(T)&&(Number(H)>12||this.specialCharacters.includes(A)),Bt=Number(H)>12&&n===5||this.specialCharacters.includes(A)&&n===5,Zt=Number(F)>x&&!this.specialCharacters.includes(F)&&!this.specialCharacters.includes(we)&&Number(we)>12&&t.includes("d0"),Qt=Number(F)<=x&&!this.specialCharacters.includes(F)&&!this.specialCharacters.includes(T)&&Number(K)>12;if(Number(h)>1&&this.leadZeroDateTime||re||Lt||Qt||Zt||jt||Bt&&!this.leadZeroDateTime){i=this.leadZeroDateTime?i:i+1,n+=1,this._shiftStep(t,n,g.length),m--,this.leadZeroDateTime&&(l+="0");continue}}l+=h,n++}else this.specialCharacters.includes(h)&&t[n]===h?(l+=h,n++):this.specialCharacters.indexOf(t[n]??"")!==-1?(l+=t[n],n++,this._shiftStep(t,n,g.length),m--):t[n]==="9"&&this.showMaskTyped?this._shiftStep(t,n,g.length):this.patterns[t[n]??""]&&this.patterns[t[n]??""]?.optional?(g[n]&&t!=="099.099.099.099"&&t!=="000.000.000-00"&&t!=="00.000.000/0000-00"&&!t.match(/^9+\.0+$/)&&!this.patterns[t[n]??""]?.optional&&(l+=g[n]),t.includes("9*")&&t.includes("0*")&&n++,n++,m--):this.maskExpression[n+1]==="*"&&this._findSpecialChar(this.maskExpression[n+2]??"")&&this._findSpecialChar(h)===this.maskExpression[n+2]&&p||this.maskExpression[n+1]==="?"&&this._findSpecialChar(this.maskExpression[n+2]??"")&&this._findSpecialChar(h)===this.maskExpression[n+2]&&p?(n+=3,l+=h):this.showMaskTyped&&this.specialCharacters.indexOf(h)<0&&h!==this.placeHolderCharacter&&this.placeHolderCharacter.length===1&&(f=!0)}l.length+1===t.length&&this.specialCharacters.indexOf(t[t.length-1]??"")!==-1&&(l+=t[t.length-1]);let q=i+1;for(;this._shift.has(q);)v++,q++;let U=s&&!t.startsWith("separator")?n:this._shift.has(i)?v:0;f&&U--,d(U,b),v<0&&this._shift.clear();let me=!1;o&&(me=g.every(m=>this.specialCharacters.includes(m)));let se=`${this.prefix}${me?"":l}${this.showMaskTyped?"":this.suffix}`;l.length===0&&(se=this.dropSpecialCharacters?`${l}`:`${this.prefix}${l}`);let Ie=e.length===1&&this.specialCharacters.includes(t[0])&&e!==t[0];if(!this._checkSymbolMask(e,t[1])&&Ie)return"";if(l.includes("-")&&this.prefix&&this.allowNegativeNumbers){if(o&&l==="-")return"";se=`-${this.prefix}${l.split("-").join("")}${this.suffix}`}return se}_findDropSpecialChar(e){return Array.isArray(this.dropSpecialCharacters)?this.dropSpecialCharacters.find(t=>t===e):this._findSpecialChar(e)}_findSpecialChar(e){return this.specialCharacters.find(t=>t===e)}_checkSymbolMask(e,t){return this.patterns=this.customPattern?this.customPattern:this.patterns,(this.patterns[t]?.pattern&&this.patterns[t]?.pattern.test(e))??!1}_stripToDecimal(e){return e.split("").filter((t,i)=>{let s=typeof this.decimalMarker=="string"?t===this.decimalMarker:this.decimalMarker.includes(t);return t.match("^-?\\d")||t===this.thousandSeparator||s||t==="-"&&i===0&&this.allowNegativeNumbers}).join("")}_charToRegExpExpression(e){return e&&(e===" "?"\\s":"[\\^$.|?*+()".indexOf(e)>=0?`\\${e}`:e)}_shiftStep(e,t,i){let s=/[*?]/g.test(e.slice(0,t))?i:t;this._shift.add(s+this.prefix.length||0)}_compareOrIncludes(e,t,i){return Array.isArray(t)?t.filter(s=>s!==i).includes(e):e===t}_validIP(e){return!(e.length===4&&!e.some((t,i)=>e.length!==i+1?t===""||Number(t)>255:t===""||Number(t.substring(0,3))>255))}_splitPercentZero(e){if(e==="-"&&this.allowNegativeNumbers)return e;let t=typeof this.decimalMarker=="string"?e.indexOf(this.decimalMarker):e.indexOf("."),i=this.allowNegativeNumbers&&e.includes("-")?"-":"";if(t===-1){let s=parseInt(i?e.slice(1,e.length):e,10);return isNaN(s)?"":`${i}${s}`}else{let s=parseInt(e.replace("-","").substring(0,t),10),o=e.substring(t+1),d=isNaN(s)?"":s.toString(),n=typeof this.decimalMarker=="string"?this.decimalMarker:".";return d===""?"":`${i}${d}${n}${o}`}}_findFirstNonZeroDigitIndex(e){for(let t=0;t<e.length;t++){let i=e[t];if(i&&i>="1"&&i<="9")return t}return-1}};r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=_e({token:r,factory:r.\u0275fac});let a=r;return a})(),st=(()=>{let r=class r extends wi{constructor(){super(...arguments),this.isNumberValue=!1,this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this._maskExpressionArray=[],this.triggerOnMaskChange=!1,this._previousValue="",this._currentValue="",this._emitValue=!1,this.onChange=e=>{},this._elementRef=w(Z,{optional:!0}),this.document=w(We),this._config=w(ze),this._renderer=w(ht,{optional:!0})}applyMask(e,t,i=0,s=!1,o=!1,d=()=>{}){if(!t)return e!==this.actualValue?this.actualValue:e;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"",this.maskExpression==="IP"&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||"#")),this.maskExpression==="CPF_CNPJ"&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||"#")),!e&&this.showMaskTyped)return this.formControlResult(this.prefix),`${this.prefix}${this.maskIsShown}${this.suffix}`;let n=e&&typeof this.selStart=="number"?e[this.selStart]??"":"",l="";if(this.hiddenInput!==void 0&&!this.writingValue){let f=e&&e.length===1?e.split(""):this.actualValue.split("");typeof this.selStart=="object"&&typeof this.selEnd=="object"?(this.selStart=Number(this.selStart),this.selEnd=Number(this.selEnd)):e!==""&&f.length?typeof this.selStart=="number"&&typeof this.selEnd=="number"&&(e.length>f.length?f.splice(this.selStart,0,n):e.length<f.length&&(f.length-e.length===1?o?f.splice(this.selStart-1,1):f.splice(e.length-1,1):f.splice(this.selStart,this.selEnd-this.selStart))):f=[],this.showMaskTyped&&(this.hiddenInput||(e=this.removeMask(e))),l=this.actualValue.length&&f.length<=e.length?this.shiftTypedSymbols(f.join("")):e}if(s&&(this.hiddenInput||!this.hiddenInput)&&(l=e),o&&this.specialCharacters.indexOf(this.maskExpression[i]??"")!==-1&&this.showMaskTyped&&!this.prefix&&(l=this._currentValue),this.deletedSpecialCharacter&&i&&(this.specialCharacters.includes(this.actualValue.slice(i,i+1))?i=i+1:t.slice(i-1,i+1)!=="M0"&&(i=i-2),this.deletedSpecialCharacter=!1),this.showMaskTyped&&this.placeHolderCharacter.length===1&&!this.leadZeroDateTime&&(e=this.removeMask(e)),this.maskChanged?l=e:l=l&&l.length?l:e,this.showMaskTyped&&this.keepCharacterPositions&&this.actualValue&&!s&&!this.writingValue){let f=this.dropSpecialCharacters?this.removeMask(this.actualValue):this.actualValue;return this.formControlResult(f),this.actualValue?this.actualValue:`${this.prefix}${this.maskIsShown}${this.suffix}`}let p=super.applyMask(l,t,i,s,o,d);if(this.actualValue=this.getActualValue(p),this.thousandSeparator==="."&&this.decimalMarker==="."&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&this.dropSpecialCharacters===!0&&(this.specialCharacters=this.specialCharacters.filter(f=>!this._compareOrIncludes(f,this.decimalMarker,this.thousandSeparator))),(p||p==="")&&(this._previousValue=this._currentValue,this._currentValue=p,this._emitValue=this._previousValue!==this._currentValue||this.maskChanged||this._previousValue===this._currentValue&&s),this._emitValue&&(this.writingValue&&this.triggerOnMaskChange?requestAnimationFrame(()=>this.formControlResult(p)):this.formControlResult(p)),!this.showMaskTyped||this.showMaskTyped&&this.hiddenInput)return this.hiddenInput?o?this.hideInput(p,this.maskExpression):`${this.hideInput(p,this.maskExpression)}${this.maskIsShown.slice(p.length)}`:p;let b=p.length,v=`${this.prefix}${this.maskIsShown}${this.suffix}`;if(this.maskExpression.includes("H")){let f=this._numberSkipedSymbols(p);return`${p}${v.slice(b+f)}`}else if(this.maskExpression==="IP"||this.maskExpression==="CPF_CNPJ")return`${p}${v}`;return`${p}${v.slice(b)}`}_numberSkipedSymbols(e){let t=/(^|\D)(\d\D)/g,i=t.exec(e),s=0;for(;i!=null;)s+=1,i=t.exec(e);return s}applyValueChanges(e,t,i,s=()=>{}){let o=this._elementRef?.nativeElement;o&&(o.value=this.applyMask(o.value,this.maskExpression,e,t,i,s),o!==this._getActiveElement()&&this.clearIfNotMatchFn())}hideInput(e,t){return e.split("").map((i,s)=>this.patterns&&this.patterns[t[s]??""]&&this.patterns[t[s]??""]?.symbol?this.patterns[t[s]??""]?.symbol:i).join("")}getActualValue(e){let t=e.split("").filter((i,s)=>{let o=this.maskExpression[s]??"";return this._checkSymbolMask(i,o)||this.specialCharacters.includes(o)&&i===o});return t.join("")===e?t.join(""):e}shiftTypedSymbols(e){let t="";return(e&&e.split("").map((s,o)=>{if(this.specialCharacters.includes(e[o+1]??"")&&e[o+1]!==this.maskExpression[o+1])return t=s,e[o+1];if(t.length){let d=t;return t="",d}return s})||[]).join("")}numberToString(e){return!e&&e!==0||this.maskExpression.startsWith("separator")&&(this.leadZero||!this.dropSpecialCharacters)||this.maskExpression.startsWith("separator")&&this.separatorLimit.length>14&&String(e).length>14?String(e):Number(e).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}).replace("/-/","-")}showMaskInInput(e){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}else if(this.showMaskTyped){if(e){if(this.maskExpression==="IP")return this._checkForIp(e);if(this.maskExpression==="CPF_CNPJ")return this._checkForCpfCnpj(e)}return this.placeHolderCharacter.length===this.maskExpression.length?this.placeHolderCharacter:this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){let e=this._elementRef?.nativeElement;e&&this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==e.value.replace(this.placeHolderCharacter,"").length&&(this.formElementProperty=["value",""],this.applyMask("",this.maskExpression))}set formElementProperty([e,t]){!this._renderer||!this._elementRef||Promise.resolve().then(()=>this._renderer?.setProperty(this._elementRef?.nativeElement,e,t))}checkDropSpecialCharAmount(e){return e.split("").filter(i=>this._findDropSpecialChar(i)).length}removeMask(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.specialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(e){if(e==="#")return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;let t=[];for(let i=0;i<e.length;i++){let s=e[i]??"";s&&s.match("\\d")&&t.push(s)}return t.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>3&&t.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>6&&t.length<=9?this.placeHolderCharacter:(t.length>9&&t.length<=12,"")}_checkForCpfCnpj(e){let t=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,i=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if(e==="#")return t;let s=[];for(let o=0;o<e.length;o++){let d=e[o]??"";d&&d.match("\\d")&&s.push(d)}return s.length<=3?t.slice(s.length,t.length):s.length>3&&s.length<=6?t.slice(s.length+1,t.length):s.length>6&&s.length<=9?t.slice(s.length+2,t.length):s.length>9&&s.length<11?t.slice(s.length+3,t.length):s.length===11?"":s.length===12?e.length===17?i.slice(16,i.length):i.slice(15,i.length):s.length>12&&s.length<=14?i.slice(s.length+4,i.length):""}_getActiveElement(e=this.document){let t=e?.activeElement?.shadowRoot;return t?.activeElement?this._getActiveElement(t):e.activeElement}formControlResult(e){if(this.writingValue||!this.triggerOnMaskChange&&this.maskChanged){this.triggerOnMaskChange&&this.maskChanged&&this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(e)))))),this.maskChanged=!1;return}Array.isArray(this.dropSpecialCharacters)?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeMask(this._removeSuffix(this._removePrefix(e)),this.dropSpecialCharacters))))):this.dropSpecialCharacters||!this.dropSpecialCharacters&&this.prefix===e?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(e)))))):this.onChange(this.outputTransformFn(this._toNumber(e)))}_toNumber(e){if(!this.isNumberValue||e===""||this.maskExpression.startsWith("separator")&&(this.leadZero||!this.dropSpecialCharacters))return e;if(String(e).length>16&&this.separatorLimit.length>14)return String(e);let t=Number(e);if(this.maskExpression.startsWith("separator")&&Number.isNaN(t)){let i=String(e).replace(",",".");return Number(i)}return Number.isNaN(t)?e:t}_removeMask(e,t){return this.maskExpression.startsWith("percent")&&e.includes(".")?e:e&&e.replace(this._regExpForRemove(t),"")}_removePrefix(e){return this.prefix?e&&e.replace(this.prefix,""):e}_removeSuffix(e){return this.suffix?e&&e.replace(this.suffix,""):e}_retrieveSeparatorValue(e){let t=Array.isArray(this.dropSpecialCharacters)?this.specialCharacters.filter(i=>this.dropSpecialCharacters.includes(i)):this.specialCharacters;return!this.deletedSpecialCharacter&&this._checkPatternForSpace()&&e.includes(" ")&&this.maskExpression.includes("*")&&(t=t.filter(i=>i!==" ")),this._removeMask(e,t)}_regExpForRemove(e){return new RegExp(e.map(t=>`\\${t}`).join("|"),"gi")}_replaceDecimalMarkerToDot(e){let t=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return e.replace(this._regExpForRemove(t),".")}_checkSymbols(e){if(e==="")return e;this.maskExpression.startsWith("percent")&&this.decimalMarker===","&&(e=e.replace(",","."));let t=this._retrieveSeparatorPrecision(this.maskExpression),i=this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(e));return this.isNumberValue&&t?e===this.decimalMarker?null:this.separatorLimit.length>14?String(i):this._checkPrecision(this.maskExpression,i):i}_checkPatternForSpace(){for(let e in this.patterns)if(this.patterns[e]&&this.patterns[e]?.hasOwnProperty("pattern")){let t=this.patterns[e]?.pattern.toString(),i=this.patterns[e]?.pattern;if(t?.includes(" ")&&i?.test(this.maskExpression))return!0}return!1}_retrieveSeparatorPrecision(e){let t=e.match(new RegExp("^separator\\.([^d]*)"));return t?Number(t[1]):null}_checkPrecision(e,t){let i=e.slice(10,11);return e.indexOf("2")>0||this.leadZero&&Number(i)>0?(this.decimalMarker===","&&this.leadZero&&(t=t.replace(",",".")),this.leadZero?Number(t).toFixed(Number(i)):Number(t).toFixed(2)):this.numberToString(t)}_repeatPatternSymbols(e){return e.match(/{[0-9]+}/)&&e.split("").reduce((t,i,s)=>{if(this._start=i==="{"?s:this._start,i!=="}")return this._findSpecialChar(i)?t+i:t;this._end=s;let o=Number(e.slice(this._start+1,this._end)),d=new Array(o+1).join(e[this._start-1]);if(e.slice(0,this._start).length>1&&e.includes("S")){let n=e.slice(0,this._start-1);return n.includes("{")?t+d:n+t+d}else return t+d},"")||e}currentLocaleDecimalMarker(){return 1.1.toLocaleString().substring(1,2)}};r.\u0275fac=(()=>{let e;return function(i){return(e||(e=le(r)))(i||r)}})(),r.\u0275prov=_e({token:r,factory:r.\u0275fac});let a=r;return a})();function Ei(){let a=w(zt),r=w(Ht);return r instanceof Function?fe(fe({},a),r()):fe(fe({},a),r)}function Bs(a){return[{provide:Ht,useValue:a},{provide:zt,useValue:Ci},{provide:ze,useFactory:Ei},st]}var Zs=(()=>{let r=class r{constructor(){this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this.leadZero=null,this.triggerOnMaskChange=null,this.apm=null,this.inputTransformFn=null,this.outputTransformFn=null,this.keepCharacterPositions=null,this.maskFilled=new z,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._allowFewMaskChangeMask=!1,this._justPasted=!1,this._isFocused=!1,this._isComposing=!1,this.document=w(We),this._maskService=w(st,{self:!0}),this._config=w(ze),this.onChange=e=>{},this.onTouch=()=>{}}ngOnChanges(e){let{maskExpression:t,specialCharacters:i,patterns:s,prefix:o,suffix:d,thousandSeparator:n,decimalMarker:l,dropSpecialCharacters:p,hiddenInput:b,showMaskTyped:v,placeHolderCharacter:f,shownMaskExpression:g,showTemplate:E,clearIfNotMatch:q,validation:U,separatorLimit:me,allowNegativeNumbers:se,leadZeroDateTime:Ie,leadZero:m,triggerOnMaskChange:h,apm:I,inputTransformFn:x,outputTransformFn:R,keepCharacterPositions:A}=e;if(t&&(t.currentValue!==t.previousValue&&!t.firstChange&&(this._maskService.maskChanged=!0),t.currentValue&&t.currentValue.split("||").length>1?(this._maskExpressionArray=t.currentValue.split("||").sort((G,T)=>G.length-T.length),this._setMask()):(this._maskExpressionArray=[],this._maskValue=t.currentValue||"",this._maskService.maskExpression=this._maskValue)),i){if(!i.currentValue||!Array.isArray(i.currentValue))return;this._maskService.specialCharacters=i.currentValue||[]}se&&(this._maskService.allowNegativeNumbers=se.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.specialCharacters=this._maskService.specialCharacters.filter(G=>G!=="-"))),s&&s.currentValue&&(this._maskService.patterns=s.currentValue),I&&I.currentValue&&(this._maskService.apm=I.currentValue),o&&(this._maskService.prefix=o.currentValue),d&&(this._maskService.suffix=d.currentValue),n&&(this._maskService.thousandSeparator=n.currentValue),l&&(this._maskService.decimalMarker=l.currentValue),p&&(this._maskService.dropSpecialCharacters=p.currentValue),b&&(this._maskService.hiddenInput=b.currentValue),v&&(this._maskService.showMaskTyped=v.currentValue,v.previousValue===!1&&v.currentValue===!0&&this._isFocused&&requestAnimationFrame(()=>{this._maskService._elementRef?.nativeElement.click()})),f&&(this._maskService.placeHolderCharacter=f.currentValue),g&&(this._maskService.shownMaskExpression=g.currentValue),E&&(this._maskService.showTemplate=E.currentValue),q&&(this._maskService.clearIfNotMatch=q.currentValue),U&&(this._maskService.validation=U.currentValue),me&&(this._maskService.separatorLimit=me.currentValue),Ie&&(this._maskService.leadZeroDateTime=Ie.currentValue),m&&(this._maskService.leadZero=m.currentValue),h&&(this._maskService.triggerOnMaskChange=h.currentValue),x&&(this._maskService.inputTransformFn=x.currentValue),R&&(this._maskService.outputTransformFn=R.currentValue),A&&(this._maskService.keepCharacterPositions=A.currentValue),this._applyMask()}validate({value:e}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(e);if(this._maskService.cpfCnpjError)return this._createValidationError(e);if(this._maskValue.startsWith("separator")||Ii.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(Mi.includes(this._maskValue))return this._validateTime(e);if(e&&e.toString().length>=1){let t=0;if(this._maskValue.includes("{")&&this._maskValue.includes("}"))return this._maskValue.slice(this._maskValue.indexOf("{")+1,this._maskValue.indexOf("}"))===String(e.length)?null:this._createValidationError(e);if(this._maskValue.startsWith("percent"))return null;for(let i in this._maskService.patterns)if(this._maskService.patterns[i]?.optional){if(this._maskValue.indexOf(i)!==this._maskValue.lastIndexOf(i)){let s=this._maskValue.split("").filter(o=>o===i).join("");t+=s.length}else this._maskValue.indexOf(i)!==-1&&t++;if(this._maskValue.indexOf(i)!==-1&&e.toString().length>=this._maskValue.indexOf(i)||t===this._maskValue.length)return null}if(this._maskValue.indexOf("*")>1&&e.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&e.toString().length<this._maskValue.indexOf("?"))return this._createValidationError(e);if(this._maskValue.indexOf("*")===-1||this._maskValue.indexOf("?")===-1){e=typeof e=="number"?String(e):e;let i=this._maskValue.split("*"),s=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkDropSpecialCharAmount(this._maskValue)-t:this.prefix?this._maskValue.length+this.prefix.length-t:this._maskValue.length-t;if(i.length===1&&e.toString().length<s)return this._createValidationError(e);if(i.length>1){let o=i[i.length-1];if(o&&this._maskService.specialCharacters.includes(o[0])&&String(e).includes(o[0]??"")&&!this.dropSpecialCharacters){let d=e.split(o[0]);return d[d.length-1].length===o.length-1?null:this._createValidationError(e)}else return(o&&!this._maskService.specialCharacters.includes(o[0])||!o||this._maskService.dropSpecialCharacters)&&e.length>=s-1?null:this._createValidationError(e)}}if(this._maskValue.indexOf("*")===1||this._maskValue.indexOf("?")===1)return null}return e&&this.maskFilled.emit(),null}onPaste(){this._justPasted=!0}onFocus(){this._isFocused=!0}onModelChange(e){(e===""||e===null||e===void 0)&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(e){if(this._isComposing)return;let t=e.target,i=this._maskService.inputTransformFn(t.value);if(t.type!=="number")if(typeof i=="string"||typeof i=="number"){if(t.value=i.toString(),this._inputValue=t.value,this._setMask(),!this._maskValue){this.onChange(t.value);return}let s=t.selectionStart===1?t.selectionStart+this._maskService.prefix.length:t.selectionStart;if(this.showMaskTyped&&this.keepCharacterPositions&&this._maskService.placeHolderCharacter.length===1){let l=t.value.slice(s-1,s),p=this.prefix.length,b=this._maskService._checkSymbolMask(l,this._maskService.maskExpression[s-1-p]??""),v=this._maskService._checkSymbolMask(l,this._maskService.maskExpression[s+1-p]??""),f=this._maskService.selStart===this._maskService.selEnd,g=Number(this._maskService.selStart)-p,E=Number(this._maskService.selEnd)-p;if(this._code==="Backspace"){if(!f)this._maskService.selStart===p?this._maskService.actualValue=`${this.prefix}${this._maskService.maskIsShown.slice(0,E)}${this._inputValue.split(this.prefix).join("")}`:this._maskService.selStart===this._maskService.maskIsShown.length+p?this._maskService.actualValue=`${this._inputValue}${this._maskService.maskIsShown.slice(g,E)}`:this._maskService.actualValue=`${this.prefix}${this._inputValue.split(this.prefix).join("").slice(0,g)}${this._maskService.maskIsShown.slice(g,E)}${this._maskService.actualValue.slice(E+p,this._maskService.maskIsShown.length+p)}${this.suffix}`;else if(!this._maskService.specialCharacters.includes(this._maskService.maskExpression.slice(s-this.prefix.length,s+1-this.prefix.length))&&f)if(g===1&&this.prefix)this._maskService.actualValue=`${this.prefix}${this._maskService.placeHolderCharacter}${t.value.split(this.prefix).join("").split(this.suffix).join("")}${this.suffix}`,s=s-1;else{let q=t.value.substring(0,s),U=t.value.substring(s);this._maskService.actualValue=`${q}${this._maskService.placeHolderCharacter}${U}`}}this._code!=="Backspace"&&(!b&&!v&&f?s=Number(t.selectionStart)-1:this._maskService.specialCharacters.includes(t.value.slice(s,s+1))&&v&&!this._maskService.specialCharacters.includes(t.value.slice(s+1,s+2))?(this._maskService.actualValue=`${t.value.slice(0,s-1)}${t.value.slice(s,s+1)}${l}${t.value.slice(s+2)}`,s=s+1):b?t.value.length===1&&s===1?this._maskService.actualValue=`${this.prefix}${l}${this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)}${this.suffix}`:this._maskService.actualValue=`${t.value.slice(0,s-1)}${l}${t.value.slice(s+1).split(this.suffix).join("")}${this.suffix}`:this.prefix&&t.value.length===1&&s-p===1&&this._maskService._checkSymbolMask(t.value,this._maskService.maskExpression[s-1-p]??"")&&(this._maskService.actualValue=`${this.prefix}${t.value}${this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)}${this.suffix}`))}let o=0,d=!1;if(this._code==="Delete"&&(this._maskService.deletedSpecialCharacter=!0),this._inputValue.length>=this._maskService.maskExpression.length-1&&this._code!=="Backspace"&&this._maskService.maskExpression==="d0/M0/0000"&&s<10){let l=this._inputValue.slice(s-1,s);t.value=this._inputValue.slice(0,s-1)+l+this._inputValue.slice(s+1)}if(this._maskService.maskExpression==="d0/M0/0000"&&this.leadZeroDateTime&&(s<3&&Number(t.value)>31&&Number(t.value)<40||s===5&&Number(t.value.slice(3,5))>12)&&(s=s+2),this._maskService.maskExpression==="Hh:m0:s0"&&this.apm&&(this._justPasted&&t.value.slice(0,2)==="00"&&(t.value=t.value.slice(1,2)+t.value.slice(2,t.value.length)),t.value=t.value==="00"?"0":t.value),this._maskService.applyValueChanges(s,this._justPasted,this._code==="Backspace"||this._code==="Delete",(l,p)=>{this._justPasted=!1,o=l,d=p}),this._getActiveElement()!==t)return;if(this._maskService.plusOnePosition&&(s=s+1,this._maskService.plusOnePosition=!1),this._maskExpressionArray.length)if(this._code==="Backspace"){let l=this.specialCharacters.includes(this._maskService.actualValue.slice(s-1,s)),p=this.specialCharacters.includes(this._maskService.actualValue.slice(s,s+1));this._allowFewMaskChangeMask&&!p?(s=t.selectionStart+1,this._allowFewMaskChangeMask=!1):s=l?s-1:s}else s=t.selectionStart===1?t.selectionStart+this._maskService.prefix.length:t.selectionStart;this._position=this._position===1&&this._inputValue.length===1?null:this._position;let n=this._position?this._inputValue.length+s+o:s+(this._code==="Backspace"&&!d?0:o);n>this._getActualInputLength()&&(n=t.value===this._maskService.decimalMarker&&t.value.length===1?this._getActualInputLength()+1:this._getActualInputLength()),n<0&&(n=0),t.setSelectionRange(n,n),this._position=null}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof i);else{if(!this._maskValue){this.onChange(t.value);return}this._maskService.applyValueChanges(t.value.length,this._justPasted,this._code==="Backspace"||this._code==="Delete")}}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,this._justPasted=!0,this.onInput(e)}onBlur(e){if(this._maskValue){let t=e.target;if(this.leadZero&&t.value.length>0&&typeof this.decimalMarker=="string"){let i=this._maskService.maskExpression,s=Number(this._maskService.maskExpression.slice(i.length-1,i.length));if(s>0){t.value=this.suffix?t.value.split(this.suffix).join(""):t.value;let o=t.value.split(this.decimalMarker)[1];t.value=t.value.includes(this.decimalMarker)?t.value+"0".repeat(s-o.length)+this.suffix:t.value+this.decimalMarker+"0".repeat(s)+this.suffix,this._maskService.actualValue=t.value}}this._maskService.clearIfNotMatchFn()}this._isFocused=!1,this.onTouch()}onClick(e){if(!this._maskValue)return;let t=e.target,i=0,s=0;t!==null&&t.selectionStart!==null&&t.selectionStart===t.selectionEnd&&t.selectionStart>this._maskService.prefix.length&&e.keyCode!==38&&this._maskService.showMaskTyped&&!this.keepCharacterPositions&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),t.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===t.value?(t.focus(),t.setSelectionRange(i,s)):t.selectionStart>this._maskService.actualValue.length&&t.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));let o=t&&(t.value===this._maskService.prefix?this._maskService.prefix+this._maskService.maskIsShown:t.value);if(t&&t.value!==o&&(t.value=o),t&&t.type!=="number"&&(t.selectionStart||t.selectionEnd)<=this._maskService.prefix.length){t.selectionStart=this._maskService.prefix.length;return}t&&t.selectionEnd>this._getActualInputLength()&&(t.selectionEnd=this._getActualInputLength())}onKeyDown(e){if(!this._maskValue)return;if(this._isComposing){e.key==="Enter"&&this.onCompositionEnd(e);return}this._code=e.code?e.code:e.key;let t=e.target;if(this._inputValue=t.value,this._setMask(),t.type!=="number"){if(e.key==="ArrowUp"&&e.preventDefault(),e.key==="ArrowLeft"||e.key==="Backspace"||e.key==="Delete"){if(e.key==="Backspace"&&t.value.length===0&&(t.selectionStart=t.selectionEnd),e.key==="Backspace"&&t.selectionStart!==0){if(this.specialCharacters=this.specialCharacters?.length?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&t.selectionStart<=this.prefix.length)t.setSelectionRange(this.prefix.length,t.selectionEnd);else if(this._inputValue.length!==t.selectionStart&&t.selectionStart!==1)for(;this.specialCharacters.includes((this._inputValue[t.selectionStart-1]??"").toString())&&(this.prefix.length>=1&&t.selectionStart>this.prefix.length||this.prefix.length===0);)t.setSelectionRange(t.selectionStart-1,t.selectionEnd)}this.checkSelectionOnDeletion(t),this._maskService.prefix.length&&t.selectionStart<=this._maskService.prefix.length&&t.selectionEnd<=this._maskService.prefix.length&&e.preventDefault();let i=t.selectionStart;e.key==="Backspace"&&!t.readOnly&&i===0&&t.selectionEnd===t.value.length&&t.value.length!==0&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<t.selectionStart?t.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(e.code==="KeyA"&&e.ctrlKey||e.code==="KeyA"&&e.metaKey)&&(t.setSelectionRange(0,this._getActualInputLength()),e.preventDefault()),this._maskService.selStart=t.selectionStart,this._maskService.selEnd=t.selectionEnd}}writeValue(e){return rt(this,null,function*(){if(typeof e=="object"&&e!==null&&"value"in e&&("disable"in e&&this.setDisabledState(!!e.disable),e=e.value),e!==null&&(e=this.inputTransformFn?this.inputTransformFn(e):e),typeof e=="string"||typeof e=="number"||e===null||e===void 0){(e==null||e==="")&&(this._maskService._currentValue="",this._maskService._previousValue="");let t=e;if(typeof t=="number"||this._maskValue.startsWith("separator")){t=String(t);let i=this._maskService.currentLocaleDecimalMarker();Array.isArray(this._maskService.decimalMarker)||(t=this._maskService.decimalMarker!==i?t.replace(i,this._maskService.decimalMarker):t),this._maskService.leadZero&&t&&this.maskExpression&&this.dropSpecialCharacters!==!1&&(t=this._maskService._checkPrecision(this._maskService.maskExpression,t)),(this.decimalMarker===","||Array.isArray(this._maskService.decimalMarker)&&this.thousandSeparator===".")&&(t=t.toString().replace(".",",")),this.maskExpression?.startsWith("separator")&&this.leadZero&&requestAnimationFrame(()=>{this._maskService.applyMask(t?.toString()??"",this._maskService.maskExpression)}),this._maskService.isNumberValue=!0}typeof t!="string"&&(t=""),this._inputValue=t,this._setMask(),t&&this._maskService.maskExpression||this._maskService.maskExpression&&(this._maskService.prefix||this._maskService.showMaskTyped)?(typeof this.inputTransformFn!="function"&&(this._maskService.writingValue=!0),this._maskService.formElementProperty=["value",this._maskService.applyMask(t,this._maskService.maskExpression)],typeof this.inputTransformFn!="function"&&(this._maskService.writingValue=!1)):this._maskService.formElementProperty=["value",t],this._inputValue=t}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof e)})}registerOnChange(e){this._maskService.onChange=this.onChange=e}registerOnTouched(e){this.onTouch=e}_getActiveElement(e=this.document){let t=e?.activeElement?.shadowRoot;return t?.activeElement?this._getActiveElement(t):e.activeElement}checkSelectionOnDeletion(e){e.selectionStart=Math.min(Math.max(this.prefix.length,e.selectionStart),this._inputValue.length-this.suffix.length),e.selectionEnd=Math.min(Math.max(this.prefix.length,e.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(e){this._maskService.formElementProperty=["disabled",e]}_applyMask(){this._maskService.maskExpression=this._maskService._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(e){let t=this._maskValue.split("").filter(i=>i!==":").length;return e&&(+(e[e.length-1]??-1)==0&&e.length<t||e.length<=t-2)?this._createValidationError(e):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(e){return{mask:{requiredMask:this._maskValue,actualValue:e}}}_setMask(){this._maskExpressionArray.some(e=>{if(e.split("").some(i=>this._maskService.specialCharacters.includes(i))&&this._inputValue&&this._areAllCharactersInEachStringSame(this._maskExpressionArray)||e.includes("{")){let i=this._maskService.removeMask(this._inputValue)?.length<=this._maskService.removeMask(e)?.length;if(i)return this._maskValue=this.maskExpression=this._maskService.maskExpression=e.includes("{")?this._maskService._repeatPatternSymbols(e):e,i;{this._code==="Backspace"&&(this._allowFewMaskChangeMask=!0);let s=this._maskExpressionArray[this._maskExpressionArray.length-1]??"";this._maskValue=this.maskExpression=this._maskService.maskExpression=s.includes("{")?this._maskService._repeatPatternSymbols(s):s}}else{let i=this._maskService.removeMask(this._inputValue)?.split("").every((s,o)=>{let d=e.charAt(o);return this._maskService._checkSymbolMask(s,d)});if(i||this._justPasted)return this._maskValue=this.maskExpression=this._maskService.maskExpression=e,i}})}_areAllCharactersInEachStringSame(e){let t=this._maskService.specialCharacters;function i(o){let d=new RegExp(`[${t.map(n=>`\\${n}`).join("")}]`,"g");return o.replace(d,"")}return e.map(i).every(o=>new Set(o).size===1)}};r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=M({type:r,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(t,i){t&1&&L("paste",function(){return i.onPaste()})("focus",function(o){return i.onFocus(o)})("ngModelChange",function(o){return i.onModelChange(o)})("input",function(o){return i.onInput(o)})("compositionstart",function(o){return i.onCompositionStart(o)})("compositionend",function(o){return i.onCompositionEnd(o)})("blur",function(o){return i.onBlur(o)})("click",function(o){return i.onClick(o)})("keydown",function(o){return i.onKeyDown(o)})},inputs:{maskExpression:[0,"mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime",leadZero:"leadZero",triggerOnMaskChange:"triggerOnMaskChange",apm:"apm",inputTransformFn:"inputTransformFn",outputTransformFn:"outputTransformFn",keepCharacterPositions:"keepCharacterPositions"},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],standalone:!0,features:[be([{provide:Mt,useExisting:r,multi:!0},{provide:It,useExisting:r,multi:!0},st]),De]});let a=r;return a})();export{yi as a,bi as b,Is as c,ws as d,Bs as e,Zs as f};
